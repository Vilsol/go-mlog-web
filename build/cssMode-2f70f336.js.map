{"version":3,"file":"cssMode-2f70f336.js","sources":["../../node_modules/monaco-editor/esm/vs/language/css/workerManager.js","../../node_modules/monaco-editor/esm/vs/language/css/_deps/vscode-css-languageservice/parser/cssScanner.js","../../node_modules/monaco-editor/esm/vs/language/css/_deps/vscode-css-languageservice/utils/strings.js","../../node_modules/monaco-editor/esm/vs/language/css/_deps/vscode-css-languageservice/parser/cssNodes.js","../../node_modules/monaco-editor/esm/vs/language/css/fillers/vscode-nls.js","../../node_modules/monaco-editor/esm/vs/language/css/_deps/vscode-css-languageservice/parser/cssErrors.js","../../node_modules/monaco-editor/esm/vs/language/css/_deps/vscode-css-languageservice/languageFacts/entry.js","../../node_modules/monaco-editor/esm/vs/language/css/_deps/vscode-css-languageservice/languageFacts/colors.js","../../node_modules/monaco-editor/esm/vs/language/css/_deps/vscode-css-languageservice/languageFacts/builtinData.js","../../node_modules/monaco-editor/esm/vs/language/css/_deps/vscode-css-languageservice/utils/objects.js","../../node_modules/monaco-editor/esm/vs/language/css/_deps/vscode-css-languageservice/parser/cssParser.js","../../node_modules/monaco-editor/esm/vs/language/css/_deps/vscode-css-languageservice/utils/arrays.js","../../node_modules/monaco-editor/esm/vs/language/css/_deps/vscode-css-languageservice/parser/cssSymbolScope.js","../../node_modules/monaco-editor/esm/vs/language/css/_deps/vscode-css-languageservice/_deps/vscode-languageserver-types/main.js","../../node_modules/monaco-editor/esm/vs/language/css/_deps/vscode-languageserver-textdocument/lib/esm/main.js","../../node_modules/monaco-editor/esm/vs/language/css/_deps/vscode-css-languageservice/cssLanguageTypes.js","../../node_modules/monaco-editor/esm/vs/language/css/_deps/vscode-uri/index.js","../../node_modules/monaco-editor/esm/vs/language/css/_deps/vscode-css-languageservice/utils/resources.js","../../node_modules/monaco-editor/esm/vs/language/css/_deps/vscode-css-languageservice/services/pathCompletion.js","../../node_modules/monaco-editor/esm/vs/language/css/_deps/vscode-css-languageservice/services/cssCompletion.js","../../node_modules/monaco-editor/esm/vs/language/css/_deps/vscode-css-languageservice/services/selectorPrinting.js","../../node_modules/monaco-editor/esm/vs/language/css/_deps/vscode-css-languageservice/services/cssNavigation.js","../../node_modules/monaco-editor/esm/vs/language/css/_deps/vscode-css-languageservice/services/lintRules.js","../../node_modules/monaco-editor/esm/vs/language/css/_deps/vscode-css-languageservice/services/lintUtil.js","../../node_modules/monaco-editor/esm/vs/language/css/_deps/vscode-css-languageservice/services/lint.js","../../node_modules/monaco-editor/esm/vs/language/css/_deps/vscode-css-languageservice/parser/scssScanner.js","../../node_modules/monaco-editor/esm/vs/language/css/_deps/vscode-css-languageservice/parser/scssErrors.js","../../node_modules/monaco-editor/esm/vs/language/css/_deps/vscode-css-languageservice/parser/scssParser.js","../../node_modules/monaco-editor/esm/vs/language/css/_deps/vscode-css-languageservice/services/scssCompletion.js","../../node_modules/monaco-editor/esm/vs/language/css/_deps/vscode-css-languageservice/parser/lessScanner.js","../../node_modules/monaco-editor/esm/vs/language/css/_deps/vscode-css-languageservice/parser/lessParser.js","../../node_modules/monaco-editor/esm/vs/language/css/_deps/vscode-css-languageservice/services/lessCompletion.js","../../node_modules/monaco-editor/esm/vs/language/css/_deps/vscode-css-languageservice/services/scssNavigation.js","../../node_modules/monaco-editor/esm/vs/language/css/languageFeatures.js","../../node_modules/monaco-editor/esm/vs/language/css/cssMode.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { editor } from './fillers/monaco-editor-core.js';\nvar STOP_WHEN_IDLE_FOR = 2 * 60 * 1000; // 2min\nvar WorkerManager = /** @class */ (function () {\n    function WorkerManager(defaults) {\n        var _this = this;\n        this._defaults = defaults;\n        this._worker = null;\n        this._idleCheckInterval = window.setInterval(function () { return _this._checkIfIdle(); }, 30 * 1000);\n        this._lastUsedTime = 0;\n        this._configChangeListener = this._defaults.onDidChange(function () { return _this._stopWorker(); });\n    }\n    WorkerManager.prototype._stopWorker = function () {\n        if (this._worker) {\n            this._worker.dispose();\n            this._worker = null;\n        }\n        this._client = null;\n    };\n    WorkerManager.prototype.dispose = function () {\n        clearInterval(this._idleCheckInterval);\n        this._configChangeListener.dispose();\n        this._stopWorker();\n    };\n    WorkerManager.prototype._checkIfIdle = function () {\n        if (!this._worker) {\n            return;\n        }\n        var timePassedSinceLastUsed = Date.now() - this._lastUsedTime;\n        if (timePassedSinceLastUsed > STOP_WHEN_IDLE_FOR) {\n            this._stopWorker();\n        }\n    };\n    WorkerManager.prototype._getClient = function () {\n        this._lastUsedTime = Date.now();\n        if (!this._client) {\n            this._worker = editor.createWebWorker({\n                // module that exports the create() method and returns a `CSSWorker` instance\n                moduleId: 'vs/language/css/cssWorker',\n                label: this._defaults.languageId,\n                // passed in to the create() method\n                createData: {\n                    languageSettings: this._defaults.diagnosticsOptions,\n                    languageId: this._defaults.languageId\n                }\n            });\n            this._client = this._worker.getProxy();\n        }\n        return this._client;\n    };\n    WorkerManager.prototype.getLanguageServiceWorker = function () {\n        var _this = this;\n        var resources = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            resources[_i] = arguments[_i];\n        }\n        var _client;\n        return this._getClient()\n            .then(function (client) {\n            _client = client;\n        })\n            .then(function (_) {\n            return _this._worker.withSyncedResources(resources);\n        })\n            .then(function (_) { return _client; });\n    };\n    return WorkerManager;\n}());\nexport { WorkerManager };\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nexport var TokenType;\n(function (TokenType) {\n    TokenType[TokenType[\"Ident\"] = 0] = \"Ident\";\n    TokenType[TokenType[\"AtKeyword\"] = 1] = \"AtKeyword\";\n    TokenType[TokenType[\"String\"] = 2] = \"String\";\n    TokenType[TokenType[\"BadString\"] = 3] = \"BadString\";\n    TokenType[TokenType[\"UnquotedString\"] = 4] = \"UnquotedString\";\n    TokenType[TokenType[\"Hash\"] = 5] = \"Hash\";\n    TokenType[TokenType[\"Num\"] = 6] = \"Num\";\n    TokenType[TokenType[\"Percentage\"] = 7] = \"Percentage\";\n    TokenType[TokenType[\"Dimension\"] = 8] = \"Dimension\";\n    TokenType[TokenType[\"UnicodeRange\"] = 9] = \"UnicodeRange\";\n    TokenType[TokenType[\"CDO\"] = 10] = \"CDO\";\n    TokenType[TokenType[\"CDC\"] = 11] = \"CDC\";\n    TokenType[TokenType[\"Colon\"] = 12] = \"Colon\";\n    TokenType[TokenType[\"SemiColon\"] = 13] = \"SemiColon\";\n    TokenType[TokenType[\"CurlyL\"] = 14] = \"CurlyL\";\n    TokenType[TokenType[\"CurlyR\"] = 15] = \"CurlyR\";\n    TokenType[TokenType[\"ParenthesisL\"] = 16] = \"ParenthesisL\";\n    TokenType[TokenType[\"ParenthesisR\"] = 17] = \"ParenthesisR\";\n    TokenType[TokenType[\"BracketL\"] = 18] = \"BracketL\";\n    TokenType[TokenType[\"BracketR\"] = 19] = \"BracketR\";\n    TokenType[TokenType[\"Whitespace\"] = 20] = \"Whitespace\";\n    TokenType[TokenType[\"Includes\"] = 21] = \"Includes\";\n    TokenType[TokenType[\"Dashmatch\"] = 22] = \"Dashmatch\";\n    TokenType[TokenType[\"SubstringOperator\"] = 23] = \"SubstringOperator\";\n    TokenType[TokenType[\"PrefixOperator\"] = 24] = \"PrefixOperator\";\n    TokenType[TokenType[\"SuffixOperator\"] = 25] = \"SuffixOperator\";\n    TokenType[TokenType[\"Delim\"] = 26] = \"Delim\";\n    TokenType[TokenType[\"EMS\"] = 27] = \"EMS\";\n    TokenType[TokenType[\"EXS\"] = 28] = \"EXS\";\n    TokenType[TokenType[\"Length\"] = 29] = \"Length\";\n    TokenType[TokenType[\"Angle\"] = 30] = \"Angle\";\n    TokenType[TokenType[\"Time\"] = 31] = \"Time\";\n    TokenType[TokenType[\"Freq\"] = 32] = \"Freq\";\n    TokenType[TokenType[\"Exclamation\"] = 33] = \"Exclamation\";\n    TokenType[TokenType[\"Resolution\"] = 34] = \"Resolution\";\n    TokenType[TokenType[\"Comma\"] = 35] = \"Comma\";\n    TokenType[TokenType[\"Charset\"] = 36] = \"Charset\";\n    TokenType[TokenType[\"EscapedJavaScript\"] = 37] = \"EscapedJavaScript\";\n    TokenType[TokenType[\"BadEscapedJavaScript\"] = 38] = \"BadEscapedJavaScript\";\n    TokenType[TokenType[\"Comment\"] = 39] = \"Comment\";\n    TokenType[TokenType[\"SingleLineComment\"] = 40] = \"SingleLineComment\";\n    TokenType[TokenType[\"EOF\"] = 41] = \"EOF\";\n    TokenType[TokenType[\"CustomToken\"] = 42] = \"CustomToken\";\n})(TokenType || (TokenType = {}));\nvar MultiLineStream = /** @class */ (function () {\n    function MultiLineStream(source) {\n        this.source = source;\n        this.len = source.length;\n        this.position = 0;\n    }\n    MultiLineStream.prototype.substring = function (from, to) {\n        if (to === void 0) { to = this.position; }\n        return this.source.substring(from, to);\n    };\n    MultiLineStream.prototype.eos = function () {\n        return this.len <= this.position;\n    };\n    MultiLineStream.prototype.pos = function () {\n        return this.position;\n    };\n    MultiLineStream.prototype.goBackTo = function (pos) {\n        this.position = pos;\n    };\n    MultiLineStream.prototype.goBack = function (n) {\n        this.position -= n;\n    };\n    MultiLineStream.prototype.advance = function (n) {\n        this.position += n;\n    };\n    MultiLineStream.prototype.nextChar = function () {\n        return this.source.charCodeAt(this.position++) || 0;\n    };\n    MultiLineStream.prototype.peekChar = function (n) {\n        if (n === void 0) { n = 0; }\n        return this.source.charCodeAt(this.position + n) || 0;\n    };\n    MultiLineStream.prototype.lookbackChar = function (n) {\n        if (n === void 0) { n = 0; }\n        return this.source.charCodeAt(this.position - n) || 0;\n    };\n    MultiLineStream.prototype.advanceIfChar = function (ch) {\n        if (ch === this.source.charCodeAt(this.position)) {\n            this.position++;\n            return true;\n        }\n        return false;\n    };\n    MultiLineStream.prototype.advanceIfChars = function (ch) {\n        if (this.position + ch.length > this.source.length) {\n            return false;\n        }\n        var i = 0;\n        for (; i < ch.length; i++) {\n            if (this.source.charCodeAt(this.position + i) !== ch[i]) {\n                return false;\n            }\n        }\n        this.advance(i);\n        return true;\n    };\n    MultiLineStream.prototype.advanceWhileChar = function (condition) {\n        var posNow = this.position;\n        while (this.position < this.len && condition(this.source.charCodeAt(this.position))) {\n            this.position++;\n        }\n        return this.position - posNow;\n    };\n    return MultiLineStream;\n}());\nexport { MultiLineStream };\nvar _a = 'a'.charCodeAt(0);\nvar _f = 'f'.charCodeAt(0);\nvar _z = 'z'.charCodeAt(0);\nvar _A = 'A'.charCodeAt(0);\nvar _F = 'F'.charCodeAt(0);\nvar _Z = 'Z'.charCodeAt(0);\nvar _0 = '0'.charCodeAt(0);\nvar _9 = '9'.charCodeAt(0);\nvar _TLD = '~'.charCodeAt(0);\nvar _HAT = '^'.charCodeAt(0);\nvar _EQS = '='.charCodeAt(0);\nvar _PIP = '|'.charCodeAt(0);\nvar _MIN = '-'.charCodeAt(0);\nvar _USC = '_'.charCodeAt(0);\nvar _PRC = '%'.charCodeAt(0);\nvar _MUL = '*'.charCodeAt(0);\nvar _LPA = '('.charCodeAt(0);\nvar _RPA = ')'.charCodeAt(0);\nvar _LAN = '<'.charCodeAt(0);\nvar _RAN = '>'.charCodeAt(0);\nvar _ATS = '@'.charCodeAt(0);\nvar _HSH = '#'.charCodeAt(0);\nvar _DLR = '$'.charCodeAt(0);\nvar _BSL = '\\\\'.charCodeAt(0);\nvar _FSL = '/'.charCodeAt(0);\nvar _NWL = '\\n'.charCodeAt(0);\nvar _CAR = '\\r'.charCodeAt(0);\nvar _LFD = '\\f'.charCodeAt(0);\nvar _DQO = '\"'.charCodeAt(0);\nvar _SQO = '\\''.charCodeAt(0);\nvar _WSP = ' '.charCodeAt(0);\nvar _TAB = '\\t'.charCodeAt(0);\nvar _SEM = ';'.charCodeAt(0);\nvar _COL = ':'.charCodeAt(0);\nvar _CUL = '{'.charCodeAt(0);\nvar _CUR = '}'.charCodeAt(0);\nvar _BRL = '['.charCodeAt(0);\nvar _BRR = ']'.charCodeAt(0);\nvar _CMA = ','.charCodeAt(0);\nvar _DOT = '.'.charCodeAt(0);\nvar _BNG = '!'.charCodeAt(0);\nvar staticTokenTable = {};\nstaticTokenTable[_SEM] = TokenType.SemiColon;\nstaticTokenTable[_COL] = TokenType.Colon;\nstaticTokenTable[_CUL] = TokenType.CurlyL;\nstaticTokenTable[_CUR] = TokenType.CurlyR;\nstaticTokenTable[_BRR] = TokenType.BracketR;\nstaticTokenTable[_BRL] = TokenType.BracketL;\nstaticTokenTable[_LPA] = TokenType.ParenthesisL;\nstaticTokenTable[_RPA] = TokenType.ParenthesisR;\nstaticTokenTable[_CMA] = TokenType.Comma;\nvar staticUnitTable = {};\nstaticUnitTable['em'] = TokenType.EMS;\nstaticUnitTable['ex'] = TokenType.EXS;\nstaticUnitTable['px'] = TokenType.Length;\nstaticUnitTable['cm'] = TokenType.Length;\nstaticUnitTable['mm'] = TokenType.Length;\nstaticUnitTable['in'] = TokenType.Length;\nstaticUnitTable['pt'] = TokenType.Length;\nstaticUnitTable['pc'] = TokenType.Length;\nstaticUnitTable['deg'] = TokenType.Angle;\nstaticUnitTable['rad'] = TokenType.Angle;\nstaticUnitTable['grad'] = TokenType.Angle;\nstaticUnitTable['ms'] = TokenType.Time;\nstaticUnitTable['s'] = TokenType.Time;\nstaticUnitTable['hz'] = TokenType.Freq;\nstaticUnitTable['khz'] = TokenType.Freq;\nstaticUnitTable['%'] = TokenType.Percentage;\nstaticUnitTable['fr'] = TokenType.Percentage;\nstaticUnitTable['dpi'] = TokenType.Resolution;\nstaticUnitTable['dpcm'] = TokenType.Resolution;\nvar Scanner = /** @class */ (function () {\n    function Scanner() {\n        this.stream = new MultiLineStream('');\n        this.ignoreComment = true;\n        this.ignoreWhitespace = true;\n        this.inURL = false;\n    }\n    Scanner.prototype.setSource = function (input) {\n        this.stream = new MultiLineStream(input);\n    };\n    Scanner.prototype.finishToken = function (offset, type, text) {\n        return {\n            offset: offset,\n            len: this.stream.pos() - offset,\n            type: type,\n            text: text || this.stream.substring(offset)\n        };\n    };\n    Scanner.prototype.substring = function (offset, len) {\n        return this.stream.substring(offset, offset + len);\n    };\n    Scanner.prototype.pos = function () {\n        return this.stream.pos();\n    };\n    Scanner.prototype.goBackTo = function (pos) {\n        this.stream.goBackTo(pos);\n    };\n    Scanner.prototype.scanUnquotedString = function () {\n        var offset = this.stream.pos();\n        var content = [];\n        if (this._unquotedString(content)) {\n            return this.finishToken(offset, TokenType.UnquotedString, content.join(''));\n        }\n        return null;\n    };\n    Scanner.prototype.scan = function () {\n        // processes all whitespaces and comments\n        var triviaToken = this.trivia();\n        if (triviaToken !== null) {\n            return triviaToken;\n        }\n        var offset = this.stream.pos();\n        // End of file/input\n        if (this.stream.eos()) {\n            return this.finishToken(offset, TokenType.EOF);\n        }\n        return this.scanNext(offset);\n    };\n    Scanner.prototype.scanNext = function (offset) {\n        // CDO <!--\n        if (this.stream.advanceIfChars([_LAN, _BNG, _MIN, _MIN])) {\n            return this.finishToken(offset, TokenType.CDO);\n        }\n        // CDC -->\n        if (this.stream.advanceIfChars([_MIN, _MIN, _RAN])) {\n            return this.finishToken(offset, TokenType.CDC);\n        }\n        var content = [];\n        if (this.ident(content)) {\n            return this.finishToken(offset, TokenType.Ident, content.join(''));\n        }\n        // at-keyword\n        if (this.stream.advanceIfChar(_ATS)) {\n            content = ['@'];\n            if (this._name(content)) {\n                var keywordText = content.join('');\n                if (keywordText === '@charset') {\n                    return this.finishToken(offset, TokenType.Charset, keywordText);\n                }\n                return this.finishToken(offset, TokenType.AtKeyword, keywordText);\n            }\n            else {\n                return this.finishToken(offset, TokenType.Delim);\n            }\n        }\n        // hash\n        if (this.stream.advanceIfChar(_HSH)) {\n            content = ['#'];\n            if (this._name(content)) {\n                return this.finishToken(offset, TokenType.Hash, content.join(''));\n            }\n            else {\n                return this.finishToken(offset, TokenType.Delim);\n            }\n        }\n        // Important\n        if (this.stream.advanceIfChar(_BNG)) {\n            return this.finishToken(offset, TokenType.Exclamation);\n        }\n        // Numbers\n        if (this._number()) {\n            var pos = this.stream.pos();\n            content = [this.stream.substring(offset, pos)];\n            if (this.stream.advanceIfChar(_PRC)) {\n                // Percentage 43%\n                return this.finishToken(offset, TokenType.Percentage);\n            }\n            else if (this.ident(content)) {\n                var dim = this.stream.substring(pos).toLowerCase();\n                var tokenType_1 = staticUnitTable[dim];\n                if (typeof tokenType_1 !== 'undefined') {\n                    // Known dimension 43px\n                    return this.finishToken(offset, tokenType_1, content.join(''));\n                }\n                else {\n                    // Unknown dimension 43ft\n                    return this.finishToken(offset, TokenType.Dimension, content.join(''));\n                }\n            }\n            return this.finishToken(offset, TokenType.Num);\n        }\n        // String, BadString\n        content = [];\n        var tokenType = this._string(content);\n        if (tokenType !== null) {\n            return this.finishToken(offset, tokenType, content.join(''));\n        }\n        // single character tokens\n        tokenType = staticTokenTable[this.stream.peekChar()];\n        if (typeof tokenType !== 'undefined') {\n            this.stream.advance(1);\n            return this.finishToken(offset, tokenType);\n        }\n        // includes ~=\n        if (this.stream.peekChar(0) === _TLD && this.stream.peekChar(1) === _EQS) {\n            this.stream.advance(2);\n            return this.finishToken(offset, TokenType.Includes);\n        }\n        // DashMatch |=\n        if (this.stream.peekChar(0) === _PIP && this.stream.peekChar(1) === _EQS) {\n            this.stream.advance(2);\n            return this.finishToken(offset, TokenType.Dashmatch);\n        }\n        // Substring operator *=\n        if (this.stream.peekChar(0) === _MUL && this.stream.peekChar(1) === _EQS) {\n            this.stream.advance(2);\n            return this.finishToken(offset, TokenType.SubstringOperator);\n        }\n        // Substring operator ^=\n        if (this.stream.peekChar(0) === _HAT && this.stream.peekChar(1) === _EQS) {\n            this.stream.advance(2);\n            return this.finishToken(offset, TokenType.PrefixOperator);\n        }\n        // Substring operator $=\n        if (this.stream.peekChar(0) === _DLR && this.stream.peekChar(1) === _EQS) {\n            this.stream.advance(2);\n            return this.finishToken(offset, TokenType.SuffixOperator);\n        }\n        // Delim\n        this.stream.nextChar();\n        return this.finishToken(offset, TokenType.Delim);\n    };\n    Scanner.prototype.trivia = function () {\n        while (true) {\n            var offset = this.stream.pos();\n            if (this._whitespace()) {\n                if (!this.ignoreWhitespace) {\n                    return this.finishToken(offset, TokenType.Whitespace);\n                }\n            }\n            else if (this.comment()) {\n                if (!this.ignoreComment) {\n                    return this.finishToken(offset, TokenType.Comment);\n                }\n            }\n            else {\n                return null;\n            }\n        }\n    };\n    Scanner.prototype.comment = function () {\n        if (this.stream.advanceIfChars([_FSL, _MUL])) {\n            var success_1 = false, hot_1 = false;\n            this.stream.advanceWhileChar(function (ch) {\n                if (hot_1 && ch === _FSL) {\n                    success_1 = true;\n                    return false;\n                }\n                hot_1 = ch === _MUL;\n                return true;\n            });\n            if (success_1) {\n                this.stream.advance(1);\n            }\n            return true;\n        }\n        return false;\n    };\n    Scanner.prototype._number = function () {\n        var npeek = 0, ch;\n        if (this.stream.peekChar() === _DOT) {\n            npeek = 1;\n        }\n        ch = this.stream.peekChar(npeek);\n        if (ch >= _0 && ch <= _9) {\n            this.stream.advance(npeek + 1);\n            this.stream.advanceWhileChar(function (ch) {\n                return ch >= _0 && ch <= _9 || npeek === 0 && ch === _DOT;\n            });\n            return true;\n        }\n        return false;\n    };\n    Scanner.prototype._newline = function (result) {\n        var ch = this.stream.peekChar();\n        switch (ch) {\n            case _CAR:\n            case _LFD:\n            case _NWL:\n                this.stream.advance(1);\n                result.push(String.fromCharCode(ch));\n                if (ch === _CAR && this.stream.advanceIfChar(_NWL)) {\n                    result.push('\\n');\n                }\n                return true;\n        }\n        return false;\n    };\n    Scanner.prototype._escape = function (result, includeNewLines) {\n        var ch = this.stream.peekChar();\n        if (ch === _BSL) {\n            this.stream.advance(1);\n            ch = this.stream.peekChar();\n            var hexNumCount = 0;\n            while (hexNumCount < 6 && (ch >= _0 && ch <= _9 || ch >= _a && ch <= _f || ch >= _A && ch <= _F)) {\n                this.stream.advance(1);\n                ch = this.stream.peekChar();\n                hexNumCount++;\n            }\n            if (hexNumCount > 0) {\n                try {\n                    var hexVal = parseInt(this.stream.substring(this.stream.pos() - hexNumCount), 16);\n                    if (hexVal) {\n                        result.push(String.fromCharCode(hexVal));\n                    }\n                }\n                catch (e) {\n                    // ignore\n                }\n                // optional whitespace or new line, not part of result text\n                if (ch === _WSP || ch === _TAB) {\n                    this.stream.advance(1);\n                }\n                else {\n                    this._newline([]);\n                }\n                return true;\n            }\n            if (ch !== _CAR && ch !== _LFD && ch !== _NWL) {\n                this.stream.advance(1);\n                result.push(String.fromCharCode(ch));\n                return true;\n            }\n            else if (includeNewLines) {\n                return this._newline(result);\n            }\n        }\n        return false;\n    };\n    Scanner.prototype._stringChar = function (closeQuote, result) {\n        // not closeQuote, not backslash, not newline\n        var ch = this.stream.peekChar();\n        if (ch !== 0 && ch !== closeQuote && ch !== _BSL && ch !== _CAR && ch !== _LFD && ch !== _NWL) {\n            this.stream.advance(1);\n            result.push(String.fromCharCode(ch));\n            return true;\n        }\n        return false;\n    };\n    Scanner.prototype._string = function (result) {\n        if (this.stream.peekChar() === _SQO || this.stream.peekChar() === _DQO) {\n            var closeQuote = this.stream.nextChar();\n            result.push(String.fromCharCode(closeQuote));\n            while (this._stringChar(closeQuote, result) || this._escape(result, true)) {\n                // loop\n            }\n            if (this.stream.peekChar() === closeQuote) {\n                this.stream.nextChar();\n                result.push(String.fromCharCode(closeQuote));\n                return TokenType.String;\n            }\n            else {\n                return TokenType.BadString;\n            }\n        }\n        return null;\n    };\n    Scanner.prototype._unquotedChar = function (result) {\n        // not closeQuote, not backslash, not newline\n        var ch = this.stream.peekChar();\n        if (ch !== 0 && ch !== _BSL && ch !== _SQO && ch !== _DQO && ch !== _LPA && ch !== _RPA && ch !== _WSP && ch !== _TAB && ch !== _NWL && ch !== _LFD && ch !== _CAR) {\n            this.stream.advance(1);\n            result.push(String.fromCharCode(ch));\n            return true;\n        }\n        return false;\n    };\n    Scanner.prototype._unquotedString = function (result) {\n        var hasContent = false;\n        while (this._unquotedChar(result) || this._escape(result)) {\n            hasContent = true;\n        }\n        return hasContent;\n    };\n    Scanner.prototype._whitespace = function () {\n        var n = this.stream.advanceWhileChar(function (ch) {\n            return ch === _WSP || ch === _TAB || ch === _NWL || ch === _LFD || ch === _CAR;\n        });\n        return n > 0;\n    };\n    Scanner.prototype._name = function (result) {\n        var matched = false;\n        while (this._identChar(result) || this._escape(result)) {\n            matched = true;\n        }\n        return matched;\n    };\n    Scanner.prototype.ident = function (result) {\n        var pos = this.stream.pos();\n        var hasMinus = this._minus(result);\n        if (hasMinus && this._minus(result) /* -- */) {\n            if (this._identFirstChar(result) || this._escape(result)) {\n                while (this._identChar(result) || this._escape(result)) {\n                    // loop\n                }\n                return true;\n            }\n        }\n        else if (this._identFirstChar(result) || this._escape(result)) {\n            while (this._identChar(result) || this._escape(result)) {\n                // loop\n            }\n            return true;\n        }\n        this.stream.goBackTo(pos);\n        return false;\n    };\n    Scanner.prototype._identFirstChar = function (result) {\n        var ch = this.stream.peekChar();\n        if (ch === _USC || // _\n            ch >= _a && ch <= _z || // a-z\n            ch >= _A && ch <= _Z || // A-Z\n            ch >= 0x80 && ch <= 0xFFFF) { // nonascii\n            this.stream.advance(1);\n            result.push(String.fromCharCode(ch));\n            return true;\n        }\n        return false;\n    };\n    Scanner.prototype._minus = function (result) {\n        var ch = this.stream.peekChar();\n        if (ch === _MIN) {\n            this.stream.advance(1);\n            result.push(String.fromCharCode(ch));\n            return true;\n        }\n        return false;\n    };\n    Scanner.prototype._identChar = function (result) {\n        var ch = this.stream.peekChar();\n        if (ch === _USC || // _\n            ch === _MIN || // -\n            ch >= _a && ch <= _z || // a-z\n            ch >= _A && ch <= _Z || // A-Z\n            ch >= _0 && ch <= _9 || // 0/9\n            ch >= 0x80 && ch <= 0xFFFF) { // nonascii\n            this.stream.advance(1);\n            result.push(String.fromCharCode(ch));\n            return true;\n        }\n        return false;\n    };\n    return Scanner;\n}());\nexport { Scanner };\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nexport function startsWith(haystack, needle) {\n    if (haystack.length < needle.length) {\n        return false;\n    }\n    for (var i = 0; i < needle.length; i++) {\n        if (haystack[i] !== needle[i]) {\n            return false;\n        }\n    }\n    return true;\n}\n/**\n * Determines if haystack ends with needle.\n */\nexport function endsWith(haystack, needle) {\n    var diff = haystack.length - needle.length;\n    if (diff > 0) {\n        return haystack.lastIndexOf(needle) === diff;\n    }\n    else if (diff === 0) {\n        return haystack === needle;\n    }\n    else {\n        return false;\n    }\n}\n/**\n * Computes the difference score for two strings. More similar strings have a higher score.\n * We use largest common subsequence dynamic programming approach but penalize in the end for length differences.\n * Strings that have a large length difference will get a bad default score 0.\n * Complexity - both time and space O(first.length * second.length)\n * Dynamic programming LCS computation http://en.wikipedia.org/wiki/Longest_common_subsequence_problem\n *\n * @param first a string\n * @param second a string\n */\nexport function difference(first, second, maxLenDelta) {\n    if (maxLenDelta === void 0) { maxLenDelta = 4; }\n    var lengthDifference = Math.abs(first.length - second.length);\n    // We only compute score if length of the currentWord and length of entry.name are similar.\n    if (lengthDifference > maxLenDelta) {\n        return 0;\n    }\n    // Initialize LCS (largest common subsequence) matrix.\n    var LCS = [];\n    var zeroArray = [];\n    var i, j;\n    for (i = 0; i < second.length + 1; ++i) {\n        zeroArray.push(0);\n    }\n    for (i = 0; i < first.length + 1; ++i) {\n        LCS.push(zeroArray);\n    }\n    for (i = 1; i < first.length + 1; ++i) {\n        for (j = 1; j < second.length + 1; ++j) {\n            if (first[i - 1] === second[j - 1]) {\n                LCS[i][j] = LCS[i - 1][j - 1] + 1;\n            }\n            else {\n                LCS[i][j] = Math.max(LCS[i - 1][j], LCS[i][j - 1]);\n            }\n        }\n    }\n    return LCS[first.length][second.length] - Math.sqrt(lengthDifference);\n}\n/**\n * Limit of string length.\n */\nexport function getLimitedString(str, ellipsis) {\n    if (ellipsis === void 0) { ellipsis = true; }\n    if (!str) {\n        return '';\n    }\n    if (str.length < 140) {\n        return str;\n    }\n    return str.slice(0, 140) + (ellipsis ? '\\u2026' : '');\n}\n/**\n * Limit of string length.\n */\nexport function trim(str, regexp) {\n    var m = regexp.exec(str);\n    if (m && m[0].length) {\n        return str.substr(0, str.length - m[0].length);\n    }\n    return str;\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { trim } from \"../utils/strings.js\";\n/// <summary>\n/// Nodes for the css 2.1 specification. See for reference:\n/// http://www.w3.org/TR/CSS21/grammar.html#grammar\n/// </summary>\nexport var NodeType;\n(function (NodeType) {\n    NodeType[NodeType[\"Undefined\"] = 0] = \"Undefined\";\n    NodeType[NodeType[\"Identifier\"] = 1] = \"Identifier\";\n    NodeType[NodeType[\"Stylesheet\"] = 2] = \"Stylesheet\";\n    NodeType[NodeType[\"Ruleset\"] = 3] = \"Ruleset\";\n    NodeType[NodeType[\"Selector\"] = 4] = \"Selector\";\n    NodeType[NodeType[\"SimpleSelector\"] = 5] = \"SimpleSelector\";\n    NodeType[NodeType[\"SelectorInterpolation\"] = 6] = \"SelectorInterpolation\";\n    NodeType[NodeType[\"SelectorCombinator\"] = 7] = \"SelectorCombinator\";\n    NodeType[NodeType[\"SelectorCombinatorParent\"] = 8] = \"SelectorCombinatorParent\";\n    NodeType[NodeType[\"SelectorCombinatorSibling\"] = 9] = \"SelectorCombinatorSibling\";\n    NodeType[NodeType[\"SelectorCombinatorAllSiblings\"] = 10] = \"SelectorCombinatorAllSiblings\";\n    NodeType[NodeType[\"SelectorCombinatorShadowPiercingDescendant\"] = 11] = \"SelectorCombinatorShadowPiercingDescendant\";\n    NodeType[NodeType[\"Page\"] = 12] = \"Page\";\n    NodeType[NodeType[\"PageBoxMarginBox\"] = 13] = \"PageBoxMarginBox\";\n    NodeType[NodeType[\"ClassSelector\"] = 14] = \"ClassSelector\";\n    NodeType[NodeType[\"IdentifierSelector\"] = 15] = \"IdentifierSelector\";\n    NodeType[NodeType[\"ElementNameSelector\"] = 16] = \"ElementNameSelector\";\n    NodeType[NodeType[\"PseudoSelector\"] = 17] = \"PseudoSelector\";\n    NodeType[NodeType[\"AttributeSelector\"] = 18] = \"AttributeSelector\";\n    NodeType[NodeType[\"Declaration\"] = 19] = \"Declaration\";\n    NodeType[NodeType[\"Declarations\"] = 20] = \"Declarations\";\n    NodeType[NodeType[\"Property\"] = 21] = \"Property\";\n    NodeType[NodeType[\"Expression\"] = 22] = \"Expression\";\n    NodeType[NodeType[\"BinaryExpression\"] = 23] = \"BinaryExpression\";\n    NodeType[NodeType[\"Term\"] = 24] = \"Term\";\n    NodeType[NodeType[\"Operator\"] = 25] = \"Operator\";\n    NodeType[NodeType[\"Value\"] = 26] = \"Value\";\n    NodeType[NodeType[\"StringLiteral\"] = 27] = \"StringLiteral\";\n    NodeType[NodeType[\"URILiteral\"] = 28] = \"URILiteral\";\n    NodeType[NodeType[\"EscapedValue\"] = 29] = \"EscapedValue\";\n    NodeType[NodeType[\"Function\"] = 30] = \"Function\";\n    NodeType[NodeType[\"NumericValue\"] = 31] = \"NumericValue\";\n    NodeType[NodeType[\"HexColorValue\"] = 32] = \"HexColorValue\";\n    NodeType[NodeType[\"MixinDeclaration\"] = 33] = \"MixinDeclaration\";\n    NodeType[NodeType[\"MixinReference\"] = 34] = \"MixinReference\";\n    NodeType[NodeType[\"VariableName\"] = 35] = \"VariableName\";\n    NodeType[NodeType[\"VariableDeclaration\"] = 36] = \"VariableDeclaration\";\n    NodeType[NodeType[\"Prio\"] = 37] = \"Prio\";\n    NodeType[NodeType[\"Interpolation\"] = 38] = \"Interpolation\";\n    NodeType[NodeType[\"NestedProperties\"] = 39] = \"NestedProperties\";\n    NodeType[NodeType[\"ExtendsReference\"] = 40] = \"ExtendsReference\";\n    NodeType[NodeType[\"SelectorPlaceholder\"] = 41] = \"SelectorPlaceholder\";\n    NodeType[NodeType[\"Debug\"] = 42] = \"Debug\";\n    NodeType[NodeType[\"If\"] = 43] = \"If\";\n    NodeType[NodeType[\"Else\"] = 44] = \"Else\";\n    NodeType[NodeType[\"For\"] = 45] = \"For\";\n    NodeType[NodeType[\"Each\"] = 46] = \"Each\";\n    NodeType[NodeType[\"While\"] = 47] = \"While\";\n    NodeType[NodeType[\"MixinContentReference\"] = 48] = \"MixinContentReference\";\n    NodeType[NodeType[\"MixinContentDeclaration\"] = 49] = \"MixinContentDeclaration\";\n    NodeType[NodeType[\"Media\"] = 50] = \"Media\";\n    NodeType[NodeType[\"Keyframe\"] = 51] = \"Keyframe\";\n    NodeType[NodeType[\"FontFace\"] = 52] = \"FontFace\";\n    NodeType[NodeType[\"Import\"] = 53] = \"Import\";\n    NodeType[NodeType[\"Namespace\"] = 54] = \"Namespace\";\n    NodeType[NodeType[\"Invocation\"] = 55] = \"Invocation\";\n    NodeType[NodeType[\"FunctionDeclaration\"] = 56] = \"FunctionDeclaration\";\n    NodeType[NodeType[\"ReturnStatement\"] = 57] = \"ReturnStatement\";\n    NodeType[NodeType[\"MediaQuery\"] = 58] = \"MediaQuery\";\n    NodeType[NodeType[\"FunctionParameter\"] = 59] = \"FunctionParameter\";\n    NodeType[NodeType[\"FunctionArgument\"] = 60] = \"FunctionArgument\";\n    NodeType[NodeType[\"KeyframeSelector\"] = 61] = \"KeyframeSelector\";\n    NodeType[NodeType[\"ViewPort\"] = 62] = \"ViewPort\";\n    NodeType[NodeType[\"Document\"] = 63] = \"Document\";\n    NodeType[NodeType[\"AtApplyRule\"] = 64] = \"AtApplyRule\";\n    NodeType[NodeType[\"CustomPropertyDeclaration\"] = 65] = \"CustomPropertyDeclaration\";\n    NodeType[NodeType[\"CustomPropertySet\"] = 66] = \"CustomPropertySet\";\n    NodeType[NodeType[\"ListEntry\"] = 67] = \"ListEntry\";\n    NodeType[NodeType[\"Supports\"] = 68] = \"Supports\";\n    NodeType[NodeType[\"SupportsCondition\"] = 69] = \"SupportsCondition\";\n    NodeType[NodeType[\"NamespacePrefix\"] = 70] = \"NamespacePrefix\";\n    NodeType[NodeType[\"GridLine\"] = 71] = \"GridLine\";\n    NodeType[NodeType[\"Plugin\"] = 72] = \"Plugin\";\n    NodeType[NodeType[\"UnknownAtRule\"] = 73] = \"UnknownAtRule\";\n    NodeType[NodeType[\"Use\"] = 74] = \"Use\";\n    NodeType[NodeType[\"ModuleConfiguration\"] = 75] = \"ModuleConfiguration\";\n    NodeType[NodeType[\"Forward\"] = 76] = \"Forward\";\n    NodeType[NodeType[\"ForwardVisibility\"] = 77] = \"ForwardVisibility\";\n    NodeType[NodeType[\"Module\"] = 78] = \"Module\";\n})(NodeType || (NodeType = {}));\nexport var ReferenceType;\n(function (ReferenceType) {\n    ReferenceType[ReferenceType[\"Mixin\"] = 0] = \"Mixin\";\n    ReferenceType[ReferenceType[\"Rule\"] = 1] = \"Rule\";\n    ReferenceType[ReferenceType[\"Variable\"] = 2] = \"Variable\";\n    ReferenceType[ReferenceType[\"Function\"] = 3] = \"Function\";\n    ReferenceType[ReferenceType[\"Keyframe\"] = 4] = \"Keyframe\";\n    ReferenceType[ReferenceType[\"Unknown\"] = 5] = \"Unknown\";\n    ReferenceType[ReferenceType[\"Module\"] = 6] = \"Module\";\n    ReferenceType[ReferenceType[\"Forward\"] = 7] = \"Forward\";\n    ReferenceType[ReferenceType[\"ForwardVisibility\"] = 8] = \"ForwardVisibility\";\n})(ReferenceType || (ReferenceType = {}));\nexport function getNodeAtOffset(node, offset) {\n    var candidate = null;\n    if (!node || offset < node.offset || offset > node.end) {\n        return null;\n    }\n    // Find the shortest node at the position\n    node.accept(function (node) {\n        if (node.offset === -1 && node.length === -1) {\n            return true;\n        }\n        if (node.offset <= offset && node.end >= offset) {\n            if (!candidate) {\n                candidate = node;\n            }\n            else if (node.length <= candidate.length) {\n                candidate = node;\n            }\n            return true;\n        }\n        return false;\n    });\n    return candidate;\n}\nexport function getNodePath(node, offset) {\n    var candidate = getNodeAtOffset(node, offset);\n    var path = [];\n    while (candidate) {\n        path.unshift(candidate);\n        candidate = candidate.parent;\n    }\n    return path;\n}\nexport function getParentDeclaration(node) {\n    var decl = node.findParent(NodeType.Declaration);\n    var value = decl && decl.getValue();\n    if (value && value.encloses(node)) {\n        return decl;\n    }\n    return null;\n}\nvar Node = /** @class */ (function () {\n    function Node(offset, len, nodeType) {\n        if (offset === void 0) { offset = -1; }\n        if (len === void 0) { len = -1; }\n        this.parent = null;\n        this.offset = offset;\n        this.length = len;\n        if (nodeType) {\n            this.nodeType = nodeType;\n        }\n    }\n    Object.defineProperty(Node.prototype, \"end\", {\n        get: function () { return this.offset + this.length; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Node.prototype, \"type\", {\n        get: function () {\n            return this.nodeType || NodeType.Undefined;\n        },\n        set: function (type) {\n            this.nodeType = type;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Node.prototype.getTextProvider = function () {\n        var node = this;\n        while (node && !node.textProvider) {\n            node = node.parent;\n        }\n        if (node) {\n            return node.textProvider;\n        }\n        return function () { return 'unknown'; };\n    };\n    Node.prototype.getText = function () {\n        return this.getTextProvider()(this.offset, this.length);\n    };\n    Node.prototype.matches = function (str) {\n        return this.length === str.length && this.getTextProvider()(this.offset, this.length) === str;\n    };\n    Node.prototype.startsWith = function (str) {\n        return this.length >= str.length && this.getTextProvider()(this.offset, str.length) === str;\n    };\n    Node.prototype.endsWith = function (str) {\n        return this.length >= str.length && this.getTextProvider()(this.end - str.length, str.length) === str;\n    };\n    Node.prototype.accept = function (visitor) {\n        if (visitor(this) && this.children) {\n            for (var _i = 0, _a = this.children; _i < _a.length; _i++) {\n                var child = _a[_i];\n                child.accept(visitor);\n            }\n        }\n    };\n    Node.prototype.acceptVisitor = function (visitor) {\n        this.accept(visitor.visitNode.bind(visitor));\n    };\n    Node.prototype.adoptChild = function (node, index) {\n        if (index === void 0) { index = -1; }\n        if (node.parent && node.parent.children) {\n            var idx = node.parent.children.indexOf(node);\n            if (idx >= 0) {\n                node.parent.children.splice(idx, 1);\n            }\n        }\n        node.parent = this;\n        var children = this.children;\n        if (!children) {\n            children = this.children = [];\n        }\n        if (index !== -1) {\n            children.splice(index, 0, node);\n        }\n        else {\n            children.push(node);\n        }\n        return node;\n    };\n    Node.prototype.attachTo = function (parent, index) {\n        if (index === void 0) { index = -1; }\n        if (parent) {\n            parent.adoptChild(this, index);\n        }\n        return this;\n    };\n    Node.prototype.collectIssues = function (results) {\n        if (this.issues) {\n            results.push.apply(results, this.issues);\n        }\n    };\n    Node.prototype.addIssue = function (issue) {\n        if (!this.issues) {\n            this.issues = [];\n        }\n        this.issues.push(issue);\n    };\n    Node.prototype.hasIssue = function (rule) {\n        return Array.isArray(this.issues) && this.issues.some(function (i) { return i.getRule() === rule; });\n    };\n    Node.prototype.isErroneous = function (recursive) {\n        if (recursive === void 0) { recursive = false; }\n        if (this.issues && this.issues.length > 0) {\n            return true;\n        }\n        return recursive && Array.isArray(this.children) && this.children.some(function (c) { return c.isErroneous(true); });\n    };\n    Node.prototype.setNode = function (field, node, index) {\n        if (index === void 0) { index = -1; }\n        if (node) {\n            node.attachTo(this, index);\n            this[field] = node;\n            return true;\n        }\n        return false;\n    };\n    Node.prototype.addChild = function (node) {\n        if (node) {\n            if (!this.children) {\n                this.children = [];\n            }\n            node.attachTo(this);\n            this.updateOffsetAndLength(node);\n            return true;\n        }\n        return false;\n    };\n    Node.prototype.updateOffsetAndLength = function (node) {\n        if (node.offset < this.offset || this.offset === -1) {\n            this.offset = node.offset;\n        }\n        var nodeEnd = node.end;\n        if ((nodeEnd > this.end) || this.length === -1) {\n            this.length = nodeEnd - this.offset;\n        }\n    };\n    Node.prototype.hasChildren = function () {\n        return !!this.children && this.children.length > 0;\n    };\n    Node.prototype.getChildren = function () {\n        return this.children ? this.children.slice(0) : [];\n    };\n    Node.prototype.getChild = function (index) {\n        if (this.children && index < this.children.length) {\n            return this.children[index];\n        }\n        return null;\n    };\n    Node.prototype.addChildren = function (nodes) {\n        for (var _i = 0, nodes_1 = nodes; _i < nodes_1.length; _i++) {\n            var node = nodes_1[_i];\n            this.addChild(node);\n        }\n    };\n    Node.prototype.findFirstChildBeforeOffset = function (offset) {\n        if (this.children) {\n            var current = null;\n            for (var i = this.children.length - 1; i >= 0; i--) {\n                // iterate until we find a child that has a start offset smaller than the input offset\n                current = this.children[i];\n                if (current.offset <= offset) {\n                    return current;\n                }\n            }\n        }\n        return null;\n    };\n    Node.prototype.findChildAtOffset = function (offset, goDeep) {\n        var current = this.findFirstChildBeforeOffset(offset);\n        if (current && current.end >= offset) {\n            if (goDeep) {\n                return current.findChildAtOffset(offset, true) || current;\n            }\n            return current;\n        }\n        return null;\n    };\n    Node.prototype.encloses = function (candidate) {\n        return this.offset <= candidate.offset && this.offset + this.length >= candidate.offset + candidate.length;\n    };\n    Node.prototype.getParent = function () {\n        var result = this.parent;\n        while (result instanceof Nodelist) {\n            result = result.parent;\n        }\n        return result;\n    };\n    Node.prototype.findParent = function (type) {\n        var result = this;\n        while (result && result.type !== type) {\n            result = result.parent;\n        }\n        return result;\n    };\n    Node.prototype.findAParent = function () {\n        var types = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            types[_i] = arguments[_i];\n        }\n        var result = this;\n        while (result && !types.some(function (t) { return result.type === t; })) {\n            result = result.parent;\n        }\n        return result;\n    };\n    Node.prototype.setData = function (key, value) {\n        if (!this.options) {\n            this.options = {};\n        }\n        this.options[key] = value;\n    };\n    Node.prototype.getData = function (key) {\n        if (!this.options || !this.options.hasOwnProperty(key)) {\n            return null;\n        }\n        return this.options[key];\n    };\n    return Node;\n}());\nexport { Node };\nvar Nodelist = /** @class */ (function (_super) {\n    __extends(Nodelist, _super);\n    function Nodelist(parent, index) {\n        if (index === void 0) { index = -1; }\n        var _this = _super.call(this, -1, -1) || this;\n        _this.attachTo(parent, index);\n        _this.offset = -1;\n        _this.length = -1;\n        return _this;\n    }\n    return Nodelist;\n}(Node));\nexport { Nodelist };\nvar Identifier = /** @class */ (function (_super) {\n    __extends(Identifier, _super);\n    function Identifier(offset, length) {\n        var _this = _super.call(this, offset, length) || this;\n        _this.isCustomProperty = false;\n        return _this;\n    }\n    Object.defineProperty(Identifier.prototype, \"type\", {\n        get: function () {\n            return NodeType.Identifier;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Identifier.prototype.containsInterpolation = function () {\n        return this.hasChildren();\n    };\n    return Identifier;\n}(Node));\nexport { Identifier };\nvar Stylesheet = /** @class */ (function (_super) {\n    __extends(Stylesheet, _super);\n    function Stylesheet(offset, length) {\n        return _super.call(this, offset, length) || this;\n    }\n    Object.defineProperty(Stylesheet.prototype, \"type\", {\n        get: function () {\n            return NodeType.Stylesheet;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return Stylesheet;\n}(Node));\nexport { Stylesheet };\nvar Declarations = /** @class */ (function (_super) {\n    __extends(Declarations, _super);\n    function Declarations(offset, length) {\n        return _super.call(this, offset, length) || this;\n    }\n    Object.defineProperty(Declarations.prototype, \"type\", {\n        get: function () {\n            return NodeType.Declarations;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return Declarations;\n}(Node));\nexport { Declarations };\nvar BodyDeclaration = /** @class */ (function (_super) {\n    __extends(BodyDeclaration, _super);\n    function BodyDeclaration(offset, length) {\n        return _super.call(this, offset, length) || this;\n    }\n    BodyDeclaration.prototype.getDeclarations = function () {\n        return this.declarations;\n    };\n    BodyDeclaration.prototype.setDeclarations = function (decls) {\n        return this.setNode('declarations', decls);\n    };\n    return BodyDeclaration;\n}(Node));\nexport { BodyDeclaration };\nvar RuleSet = /** @class */ (function (_super) {\n    __extends(RuleSet, _super);\n    function RuleSet(offset, length) {\n        return _super.call(this, offset, length) || this;\n    }\n    Object.defineProperty(RuleSet.prototype, \"type\", {\n        get: function () {\n            return NodeType.Ruleset;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    RuleSet.prototype.getSelectors = function () {\n        if (!this.selectors) {\n            this.selectors = new Nodelist(this);\n        }\n        return this.selectors;\n    };\n    RuleSet.prototype.isNested = function () {\n        return !!this.parent && this.parent.findParent(NodeType.Declarations) !== null;\n    };\n    return RuleSet;\n}(BodyDeclaration));\nexport { RuleSet };\nvar Selector = /** @class */ (function (_super) {\n    __extends(Selector, _super);\n    function Selector(offset, length) {\n        return _super.call(this, offset, length) || this;\n    }\n    Object.defineProperty(Selector.prototype, \"type\", {\n        get: function () {\n            return NodeType.Selector;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return Selector;\n}(Node));\nexport { Selector };\nvar SimpleSelector = /** @class */ (function (_super) {\n    __extends(SimpleSelector, _super);\n    function SimpleSelector(offset, length) {\n        return _super.call(this, offset, length) || this;\n    }\n    Object.defineProperty(SimpleSelector.prototype, \"type\", {\n        get: function () {\n            return NodeType.SimpleSelector;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return SimpleSelector;\n}(Node));\nexport { SimpleSelector };\nvar AtApplyRule = /** @class */ (function (_super) {\n    __extends(AtApplyRule, _super);\n    function AtApplyRule(offset, length) {\n        return _super.call(this, offset, length) || this;\n    }\n    Object.defineProperty(AtApplyRule.prototype, \"type\", {\n        get: function () {\n            return NodeType.AtApplyRule;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    AtApplyRule.prototype.setIdentifier = function (node) {\n        return this.setNode('identifier', node, 0);\n    };\n    AtApplyRule.prototype.getIdentifier = function () {\n        return this.identifier;\n    };\n    AtApplyRule.prototype.getName = function () {\n        return this.identifier ? this.identifier.getText() : '';\n    };\n    return AtApplyRule;\n}(Node));\nexport { AtApplyRule };\nvar AbstractDeclaration = /** @class */ (function (_super) {\n    __extends(AbstractDeclaration, _super);\n    function AbstractDeclaration(offset, length) {\n        return _super.call(this, offset, length) || this;\n    }\n    return AbstractDeclaration;\n}(Node));\nexport { AbstractDeclaration };\nvar CustomPropertyDeclaration = /** @class */ (function (_super) {\n    __extends(CustomPropertyDeclaration, _super);\n    function CustomPropertyDeclaration(offset, length) {\n        return _super.call(this, offset, length) || this;\n    }\n    Object.defineProperty(CustomPropertyDeclaration.prototype, \"type\", {\n        get: function () {\n            return NodeType.CustomPropertyDeclaration;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    CustomPropertyDeclaration.prototype.setProperty = function (node) {\n        return this.setNode('property', node);\n    };\n    CustomPropertyDeclaration.prototype.getProperty = function () {\n        return this.property;\n    };\n    CustomPropertyDeclaration.prototype.setValue = function (value) {\n        return this.setNode('value', value);\n    };\n    CustomPropertyDeclaration.prototype.getValue = function () {\n        return this.value;\n    };\n    CustomPropertyDeclaration.prototype.setPropertySet = function (value) {\n        return this.setNode('propertySet', value);\n    };\n    CustomPropertyDeclaration.prototype.getPropertySet = function () {\n        return this.propertySet;\n    };\n    return CustomPropertyDeclaration;\n}(AbstractDeclaration));\nexport { CustomPropertyDeclaration };\nvar CustomPropertySet = /** @class */ (function (_super) {\n    __extends(CustomPropertySet, _super);\n    function CustomPropertySet(offset, length) {\n        return _super.call(this, offset, length) || this;\n    }\n    Object.defineProperty(CustomPropertySet.prototype, \"type\", {\n        get: function () {\n            return NodeType.CustomPropertySet;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return CustomPropertySet;\n}(BodyDeclaration));\nexport { CustomPropertySet };\nvar Declaration = /** @class */ (function (_super) {\n    __extends(Declaration, _super);\n    function Declaration(offset, length) {\n        var _this = _super.call(this, offset, length) || this;\n        _this.property = null;\n        return _this;\n    }\n    Object.defineProperty(Declaration.prototype, \"type\", {\n        get: function () {\n            return NodeType.Declaration;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Declaration.prototype.setProperty = function (node) {\n        return this.setNode('property', node);\n    };\n    Declaration.prototype.getProperty = function () {\n        return this.property;\n    };\n    Declaration.prototype.getFullPropertyName = function () {\n        var propertyName = this.property ? this.property.getName() : 'unknown';\n        if (this.parent instanceof Declarations && this.parent.getParent() instanceof NestedProperties) {\n            var parentDecl = this.parent.getParent().getParent();\n            if (parentDecl instanceof Declaration) {\n                return parentDecl.getFullPropertyName() + propertyName;\n            }\n        }\n        return propertyName;\n    };\n    Declaration.prototype.getNonPrefixedPropertyName = function () {\n        var propertyName = this.getFullPropertyName();\n        if (propertyName && propertyName.charAt(0) === '-') {\n            var vendorPrefixEnd = propertyName.indexOf('-', 1);\n            if (vendorPrefixEnd !== -1) {\n                return propertyName.substring(vendorPrefixEnd + 1);\n            }\n        }\n        return propertyName;\n    };\n    Declaration.prototype.setValue = function (value) {\n        return this.setNode('value', value);\n    };\n    Declaration.prototype.getValue = function () {\n        return this.value;\n    };\n    Declaration.prototype.setNestedProperties = function (value) {\n        return this.setNode('nestedProperties', value);\n    };\n    Declaration.prototype.getNestedProperties = function () {\n        return this.nestedProperties;\n    };\n    return Declaration;\n}(AbstractDeclaration));\nexport { Declaration };\nvar Property = /** @class */ (function (_super) {\n    __extends(Property, _super);\n    function Property(offset, length) {\n        return _super.call(this, offset, length) || this;\n    }\n    Object.defineProperty(Property.prototype, \"type\", {\n        get: function () {\n            return NodeType.Property;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Property.prototype.setIdentifier = function (value) {\n        return this.setNode('identifier', value);\n    };\n    Property.prototype.getIdentifier = function () {\n        return this.identifier;\n    };\n    Property.prototype.getName = function () {\n        return trim(this.getText(), /[_\\+]+$/); /* +_: less merge */\n    };\n    Property.prototype.isCustomProperty = function () {\n        return !!this.identifier && this.identifier.isCustomProperty;\n    };\n    return Property;\n}(Node));\nexport { Property };\nvar Invocation = /** @class */ (function (_super) {\n    __extends(Invocation, _super);\n    function Invocation(offset, length) {\n        return _super.call(this, offset, length) || this;\n    }\n    Object.defineProperty(Invocation.prototype, \"type\", {\n        get: function () {\n            return NodeType.Invocation;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Invocation.prototype.getArguments = function () {\n        if (!this.arguments) {\n            this.arguments = new Nodelist(this);\n        }\n        return this.arguments;\n    };\n    return Invocation;\n}(Node));\nexport { Invocation };\nvar Function = /** @class */ (function (_super) {\n    __extends(Function, _super);\n    function Function(offset, length) {\n        return _super.call(this, offset, length) || this;\n    }\n    Object.defineProperty(Function.prototype, \"type\", {\n        get: function () {\n            return NodeType.Function;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Function.prototype.setIdentifier = function (node) {\n        return this.setNode('identifier', node, 0);\n    };\n    Function.prototype.getIdentifier = function () {\n        return this.identifier;\n    };\n    Function.prototype.getName = function () {\n        return this.identifier ? this.identifier.getText() : '';\n    };\n    return Function;\n}(Invocation));\nexport { Function };\nvar FunctionParameter = /** @class */ (function (_super) {\n    __extends(FunctionParameter, _super);\n    function FunctionParameter(offset, length) {\n        return _super.call(this, offset, length) || this;\n    }\n    Object.defineProperty(FunctionParameter.prototype, \"type\", {\n        get: function () {\n            return NodeType.FunctionParameter;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    FunctionParameter.prototype.setIdentifier = function (node) {\n        return this.setNode('identifier', node, 0);\n    };\n    FunctionParameter.prototype.getIdentifier = function () {\n        return this.identifier;\n    };\n    FunctionParameter.prototype.getName = function () {\n        return this.identifier ? this.identifier.getText() : '';\n    };\n    FunctionParameter.prototype.setDefaultValue = function (node) {\n        return this.setNode('defaultValue', node, 0);\n    };\n    FunctionParameter.prototype.getDefaultValue = function () {\n        return this.defaultValue;\n    };\n    return FunctionParameter;\n}(Node));\nexport { FunctionParameter };\nvar FunctionArgument = /** @class */ (function (_super) {\n    __extends(FunctionArgument, _super);\n    function FunctionArgument(offset, length) {\n        return _super.call(this, offset, length) || this;\n    }\n    Object.defineProperty(FunctionArgument.prototype, \"type\", {\n        get: function () {\n            return NodeType.FunctionArgument;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    FunctionArgument.prototype.setIdentifier = function (node) {\n        return this.setNode('identifier', node, 0);\n    };\n    FunctionArgument.prototype.getIdentifier = function () {\n        return this.identifier;\n    };\n    FunctionArgument.prototype.getName = function () {\n        return this.identifier ? this.identifier.getText() : '';\n    };\n    FunctionArgument.prototype.setValue = function (node) {\n        return this.setNode('value', node, 0);\n    };\n    FunctionArgument.prototype.getValue = function () {\n        return this.value;\n    };\n    return FunctionArgument;\n}(Node));\nexport { FunctionArgument };\nvar IfStatement = /** @class */ (function (_super) {\n    __extends(IfStatement, _super);\n    function IfStatement(offset, length) {\n        return _super.call(this, offset, length) || this;\n    }\n    Object.defineProperty(IfStatement.prototype, \"type\", {\n        get: function () {\n            return NodeType.If;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    IfStatement.prototype.setExpression = function (node) {\n        return this.setNode('expression', node, 0);\n    };\n    IfStatement.prototype.setElseClause = function (elseClause) {\n        return this.setNode('elseClause', elseClause);\n    };\n    return IfStatement;\n}(BodyDeclaration));\nexport { IfStatement };\nvar ForStatement = /** @class */ (function (_super) {\n    __extends(ForStatement, _super);\n    function ForStatement(offset, length) {\n        return _super.call(this, offset, length) || this;\n    }\n    Object.defineProperty(ForStatement.prototype, \"type\", {\n        get: function () {\n            return NodeType.For;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    ForStatement.prototype.setVariable = function (node) {\n        return this.setNode('variable', node, 0);\n    };\n    return ForStatement;\n}(BodyDeclaration));\nexport { ForStatement };\nvar EachStatement = /** @class */ (function (_super) {\n    __extends(EachStatement, _super);\n    function EachStatement(offset, length) {\n        return _super.call(this, offset, length) || this;\n    }\n    Object.defineProperty(EachStatement.prototype, \"type\", {\n        get: function () {\n            return NodeType.Each;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    EachStatement.prototype.getVariables = function () {\n        if (!this.variables) {\n            this.variables = new Nodelist(this);\n        }\n        return this.variables;\n    };\n    return EachStatement;\n}(BodyDeclaration));\nexport { EachStatement };\nvar WhileStatement = /** @class */ (function (_super) {\n    __extends(WhileStatement, _super);\n    function WhileStatement(offset, length) {\n        return _super.call(this, offset, length) || this;\n    }\n    Object.defineProperty(WhileStatement.prototype, \"type\", {\n        get: function () {\n            return NodeType.While;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return WhileStatement;\n}(BodyDeclaration));\nexport { WhileStatement };\nvar ElseStatement = /** @class */ (function (_super) {\n    __extends(ElseStatement, _super);\n    function ElseStatement(offset, length) {\n        return _super.call(this, offset, length) || this;\n    }\n    Object.defineProperty(ElseStatement.prototype, \"type\", {\n        get: function () {\n            return NodeType.Else;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return ElseStatement;\n}(BodyDeclaration));\nexport { ElseStatement };\nvar FunctionDeclaration = /** @class */ (function (_super) {\n    __extends(FunctionDeclaration, _super);\n    function FunctionDeclaration(offset, length) {\n        return _super.call(this, offset, length) || this;\n    }\n    Object.defineProperty(FunctionDeclaration.prototype, \"type\", {\n        get: function () {\n            return NodeType.FunctionDeclaration;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    FunctionDeclaration.prototype.setIdentifier = function (node) {\n        return this.setNode('identifier', node, 0);\n    };\n    FunctionDeclaration.prototype.getIdentifier = function () {\n        return this.identifier;\n    };\n    FunctionDeclaration.prototype.getName = function () {\n        return this.identifier ? this.identifier.getText() : '';\n    };\n    FunctionDeclaration.prototype.getParameters = function () {\n        if (!this.parameters) {\n            this.parameters = new Nodelist(this);\n        }\n        return this.parameters;\n    };\n    return FunctionDeclaration;\n}(BodyDeclaration));\nexport { FunctionDeclaration };\nvar ViewPort = /** @class */ (function (_super) {\n    __extends(ViewPort, _super);\n    function ViewPort(offset, length) {\n        return _super.call(this, offset, length) || this;\n    }\n    Object.defineProperty(ViewPort.prototype, \"type\", {\n        get: function () {\n            return NodeType.ViewPort;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return ViewPort;\n}(BodyDeclaration));\nexport { ViewPort };\nvar FontFace = /** @class */ (function (_super) {\n    __extends(FontFace, _super);\n    function FontFace(offset, length) {\n        return _super.call(this, offset, length) || this;\n    }\n    Object.defineProperty(FontFace.prototype, \"type\", {\n        get: function () {\n            return NodeType.FontFace;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return FontFace;\n}(BodyDeclaration));\nexport { FontFace };\nvar NestedProperties = /** @class */ (function (_super) {\n    __extends(NestedProperties, _super);\n    function NestedProperties(offset, length) {\n        return _super.call(this, offset, length) || this;\n    }\n    Object.defineProperty(NestedProperties.prototype, \"type\", {\n        get: function () {\n            return NodeType.NestedProperties;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return NestedProperties;\n}(BodyDeclaration));\nexport { NestedProperties };\nvar Keyframe = /** @class */ (function (_super) {\n    __extends(Keyframe, _super);\n    function Keyframe(offset, length) {\n        return _super.call(this, offset, length) || this;\n    }\n    Object.defineProperty(Keyframe.prototype, \"type\", {\n        get: function () {\n            return NodeType.Keyframe;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Keyframe.prototype.setKeyword = function (keyword) {\n        return this.setNode('keyword', keyword, 0);\n    };\n    Keyframe.prototype.getKeyword = function () {\n        return this.keyword;\n    };\n    Keyframe.prototype.setIdentifier = function (node) {\n        return this.setNode('identifier', node, 0);\n    };\n    Keyframe.prototype.getIdentifier = function () {\n        return this.identifier;\n    };\n    Keyframe.prototype.getName = function () {\n        return this.identifier ? this.identifier.getText() : '';\n    };\n    return Keyframe;\n}(BodyDeclaration));\nexport { Keyframe };\nvar KeyframeSelector = /** @class */ (function (_super) {\n    __extends(KeyframeSelector, _super);\n    function KeyframeSelector(offset, length) {\n        return _super.call(this, offset, length) || this;\n    }\n    Object.defineProperty(KeyframeSelector.prototype, \"type\", {\n        get: function () {\n            return NodeType.KeyframeSelector;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return KeyframeSelector;\n}(BodyDeclaration));\nexport { KeyframeSelector };\nvar Import = /** @class */ (function (_super) {\n    __extends(Import, _super);\n    function Import(offset, length) {\n        return _super.call(this, offset, length) || this;\n    }\n    Object.defineProperty(Import.prototype, \"type\", {\n        get: function () {\n            return NodeType.Import;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Import.prototype.setMedialist = function (node) {\n        if (node) {\n            node.attachTo(this);\n            return true;\n        }\n        return false;\n    };\n    return Import;\n}(Node));\nexport { Import };\nvar Use = /** @class */ (function (_super) {\n    __extends(Use, _super);\n    function Use() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Object.defineProperty(Use.prototype, \"type\", {\n        get: function () {\n            return NodeType.Use;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Use.prototype.getParameters = function () {\n        if (!this.parameters) {\n            this.parameters = new Nodelist(this);\n        }\n        return this.parameters;\n    };\n    Use.prototype.setIdentifier = function (node) {\n        return this.setNode('identifier', node, 0);\n    };\n    Use.prototype.getIdentifier = function () {\n        return this.identifier;\n    };\n    return Use;\n}(Node));\nexport { Use };\nvar ModuleConfiguration = /** @class */ (function (_super) {\n    __extends(ModuleConfiguration, _super);\n    function ModuleConfiguration() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Object.defineProperty(ModuleConfiguration.prototype, \"type\", {\n        get: function () {\n            return NodeType.ModuleConfiguration;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    ModuleConfiguration.prototype.setIdentifier = function (node) {\n        return this.setNode('identifier', node, 0);\n    };\n    ModuleConfiguration.prototype.getIdentifier = function () {\n        return this.identifier;\n    };\n    ModuleConfiguration.prototype.getName = function () {\n        return this.identifier ? this.identifier.getText() : '';\n    };\n    ModuleConfiguration.prototype.setValue = function (node) {\n        return this.setNode('value', node, 0);\n    };\n    ModuleConfiguration.prototype.getValue = function () {\n        return this.value;\n    };\n    return ModuleConfiguration;\n}(Node));\nexport { ModuleConfiguration };\nvar Forward = /** @class */ (function (_super) {\n    __extends(Forward, _super);\n    function Forward() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Object.defineProperty(Forward.prototype, \"type\", {\n        get: function () {\n            return NodeType.Forward;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Forward.prototype.setIdentifier = function (node) {\n        return this.setNode('identifier', node, 0);\n    };\n    Forward.prototype.getIdentifier = function () {\n        return this.identifier;\n    };\n    return Forward;\n}(Node));\nexport { Forward };\nvar ForwardVisibility = /** @class */ (function (_super) {\n    __extends(ForwardVisibility, _super);\n    function ForwardVisibility() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Object.defineProperty(ForwardVisibility.prototype, \"type\", {\n        get: function () {\n            return NodeType.ForwardVisibility;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    ForwardVisibility.prototype.setIdentifier = function (node) {\n        return this.setNode('identifier', node, 0);\n    };\n    ForwardVisibility.prototype.getIdentifier = function () {\n        return this.identifier;\n    };\n    return ForwardVisibility;\n}(Node));\nexport { ForwardVisibility };\nvar Namespace = /** @class */ (function (_super) {\n    __extends(Namespace, _super);\n    function Namespace(offset, length) {\n        return _super.call(this, offset, length) || this;\n    }\n    Object.defineProperty(Namespace.prototype, \"type\", {\n        get: function () {\n            return NodeType.Namespace;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return Namespace;\n}(Node));\nexport { Namespace };\nvar Media = /** @class */ (function (_super) {\n    __extends(Media, _super);\n    function Media(offset, length) {\n        return _super.call(this, offset, length) || this;\n    }\n    Object.defineProperty(Media.prototype, \"type\", {\n        get: function () {\n            return NodeType.Media;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return Media;\n}(BodyDeclaration));\nexport { Media };\nvar Supports = /** @class */ (function (_super) {\n    __extends(Supports, _super);\n    function Supports(offset, length) {\n        return _super.call(this, offset, length) || this;\n    }\n    Object.defineProperty(Supports.prototype, \"type\", {\n        get: function () {\n            return NodeType.Supports;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return Supports;\n}(BodyDeclaration));\nexport { Supports };\nvar Document = /** @class */ (function (_super) {\n    __extends(Document, _super);\n    function Document(offset, length) {\n        return _super.call(this, offset, length) || this;\n    }\n    Object.defineProperty(Document.prototype, \"type\", {\n        get: function () {\n            return NodeType.Document;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return Document;\n}(BodyDeclaration));\nexport { Document };\nvar Medialist = /** @class */ (function (_super) {\n    __extends(Medialist, _super);\n    function Medialist(offset, length) {\n        return _super.call(this, offset, length) || this;\n    }\n    Medialist.prototype.getMediums = function () {\n        if (!this.mediums) {\n            this.mediums = new Nodelist(this);\n        }\n        return this.mediums;\n    };\n    return Medialist;\n}(Node));\nexport { Medialist };\nvar MediaQuery = /** @class */ (function (_super) {\n    __extends(MediaQuery, _super);\n    function MediaQuery(offset, length) {\n        return _super.call(this, offset, length) || this;\n    }\n    Object.defineProperty(MediaQuery.prototype, \"type\", {\n        get: function () {\n            return NodeType.MediaQuery;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return MediaQuery;\n}(Node));\nexport { MediaQuery };\nvar SupportsCondition = /** @class */ (function (_super) {\n    __extends(SupportsCondition, _super);\n    function SupportsCondition(offset, length) {\n        return _super.call(this, offset, length) || this;\n    }\n    Object.defineProperty(SupportsCondition.prototype, \"type\", {\n        get: function () {\n            return NodeType.SupportsCondition;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return SupportsCondition;\n}(Node));\nexport { SupportsCondition };\nvar Page = /** @class */ (function (_super) {\n    __extends(Page, _super);\n    function Page(offset, length) {\n        return _super.call(this, offset, length) || this;\n    }\n    Object.defineProperty(Page.prototype, \"type\", {\n        get: function () {\n            return NodeType.Page;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return Page;\n}(BodyDeclaration));\nexport { Page };\nvar PageBoxMarginBox = /** @class */ (function (_super) {\n    __extends(PageBoxMarginBox, _super);\n    function PageBoxMarginBox(offset, length) {\n        return _super.call(this, offset, length) || this;\n    }\n    Object.defineProperty(PageBoxMarginBox.prototype, \"type\", {\n        get: function () {\n            return NodeType.PageBoxMarginBox;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return PageBoxMarginBox;\n}(BodyDeclaration));\nexport { PageBoxMarginBox };\nvar Expression = /** @class */ (function (_super) {\n    __extends(Expression, _super);\n    function Expression(offset, length) {\n        return _super.call(this, offset, length) || this;\n    }\n    Object.defineProperty(Expression.prototype, \"type\", {\n        get: function () {\n            return NodeType.Expression;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return Expression;\n}(Node));\nexport { Expression };\nvar BinaryExpression = /** @class */ (function (_super) {\n    __extends(BinaryExpression, _super);\n    function BinaryExpression(offset, length) {\n        return _super.call(this, offset, length) || this;\n    }\n    Object.defineProperty(BinaryExpression.prototype, \"type\", {\n        get: function () {\n            return NodeType.BinaryExpression;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    BinaryExpression.prototype.setLeft = function (left) {\n        return this.setNode('left', left);\n    };\n    BinaryExpression.prototype.getLeft = function () {\n        return this.left;\n    };\n    BinaryExpression.prototype.setRight = function (right) {\n        return this.setNode('right', right);\n    };\n    BinaryExpression.prototype.getRight = function () {\n        return this.right;\n    };\n    BinaryExpression.prototype.setOperator = function (value) {\n        return this.setNode('operator', value);\n    };\n    BinaryExpression.prototype.getOperator = function () {\n        return this.operator;\n    };\n    return BinaryExpression;\n}(Node));\nexport { BinaryExpression };\nvar Term = /** @class */ (function (_super) {\n    __extends(Term, _super);\n    function Term(offset, length) {\n        return _super.call(this, offset, length) || this;\n    }\n    Object.defineProperty(Term.prototype, \"type\", {\n        get: function () {\n            return NodeType.Term;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Term.prototype.setOperator = function (value) {\n        return this.setNode('operator', value);\n    };\n    Term.prototype.getOperator = function () {\n        return this.operator;\n    };\n    Term.prototype.setExpression = function (value) {\n        return this.setNode('expression', value);\n    };\n    Term.prototype.getExpression = function () {\n        return this.expression;\n    };\n    return Term;\n}(Node));\nexport { Term };\nvar AttributeSelector = /** @class */ (function (_super) {\n    __extends(AttributeSelector, _super);\n    function AttributeSelector(offset, length) {\n        return _super.call(this, offset, length) || this;\n    }\n    Object.defineProperty(AttributeSelector.prototype, \"type\", {\n        get: function () {\n            return NodeType.AttributeSelector;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    AttributeSelector.prototype.setNamespacePrefix = function (value) {\n        return this.setNode('namespacePrefix', value);\n    };\n    AttributeSelector.prototype.getNamespacePrefix = function () {\n        return this.namespacePrefix;\n    };\n    AttributeSelector.prototype.setIdentifier = function (value) {\n        return this.setNode('identifier', value);\n    };\n    AttributeSelector.prototype.getIdentifier = function () {\n        return this.identifier;\n    };\n    AttributeSelector.prototype.setOperator = function (operator) {\n        return this.setNode('operator', operator);\n    };\n    AttributeSelector.prototype.getOperator = function () {\n        return this.operator;\n    };\n    AttributeSelector.prototype.setValue = function (value) {\n        return this.setNode('value', value);\n    };\n    AttributeSelector.prototype.getValue = function () {\n        return this.value;\n    };\n    return AttributeSelector;\n}(Node));\nexport { AttributeSelector };\nvar Operator = /** @class */ (function (_super) {\n    __extends(Operator, _super);\n    function Operator(offset, length) {\n        return _super.call(this, offset, length) || this;\n    }\n    Object.defineProperty(Operator.prototype, \"type\", {\n        get: function () {\n            return NodeType.Operator;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return Operator;\n}(Node));\nexport { Operator };\nvar HexColorValue = /** @class */ (function (_super) {\n    __extends(HexColorValue, _super);\n    function HexColorValue(offset, length) {\n        return _super.call(this, offset, length) || this;\n    }\n    Object.defineProperty(HexColorValue.prototype, \"type\", {\n        get: function () {\n            return NodeType.HexColorValue;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return HexColorValue;\n}(Node));\nexport { HexColorValue };\nvar _dot = '.'.charCodeAt(0), _0 = '0'.charCodeAt(0), _9 = '9'.charCodeAt(0);\nvar NumericValue = /** @class */ (function (_super) {\n    __extends(NumericValue, _super);\n    function NumericValue(offset, length) {\n        return _super.call(this, offset, length) || this;\n    }\n    Object.defineProperty(NumericValue.prototype, \"type\", {\n        get: function () {\n            return NodeType.NumericValue;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    NumericValue.prototype.getValue = function () {\n        var raw = this.getText();\n        var unitIdx = 0;\n        var code;\n        for (var i = 0, len = raw.length; i < len; i++) {\n            code = raw.charCodeAt(i);\n            if (!(_0 <= code && code <= _9 || code === _dot)) {\n                break;\n            }\n            unitIdx += 1;\n        }\n        return {\n            value: raw.substring(0, unitIdx),\n            unit: unitIdx < raw.length ? raw.substring(unitIdx) : undefined\n        };\n    };\n    return NumericValue;\n}(Node));\nexport { NumericValue };\nvar VariableDeclaration = /** @class */ (function (_super) {\n    __extends(VariableDeclaration, _super);\n    function VariableDeclaration(offset, length) {\n        var _this = _super.call(this, offset, length) || this;\n        _this.variable = null;\n        _this.value = null;\n        _this.needsSemicolon = true;\n        return _this;\n    }\n    Object.defineProperty(VariableDeclaration.prototype, \"type\", {\n        get: function () {\n            return NodeType.VariableDeclaration;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    VariableDeclaration.prototype.setVariable = function (node) {\n        if (node) {\n            node.attachTo(this);\n            this.variable = node;\n            return true;\n        }\n        return false;\n    };\n    VariableDeclaration.prototype.getVariable = function () {\n        return this.variable;\n    };\n    VariableDeclaration.prototype.getName = function () {\n        return this.variable ? this.variable.getName() : '';\n    };\n    VariableDeclaration.prototype.setValue = function (node) {\n        if (node) {\n            node.attachTo(this);\n            this.value = node;\n            return true;\n        }\n        return false;\n    };\n    VariableDeclaration.prototype.getValue = function () {\n        return this.value;\n    };\n    return VariableDeclaration;\n}(AbstractDeclaration));\nexport { VariableDeclaration };\nvar Interpolation = /** @class */ (function (_super) {\n    __extends(Interpolation, _super);\n    // private _interpolations: void; // workaround for https://github.com/Microsoft/TypeScript/issues/18276\n    function Interpolation(offset, length) {\n        return _super.call(this, offset, length) || this;\n    }\n    Object.defineProperty(Interpolation.prototype, \"type\", {\n        get: function () {\n            return NodeType.Interpolation;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return Interpolation;\n}(Node));\nexport { Interpolation };\nvar Variable = /** @class */ (function (_super) {\n    __extends(Variable, _super);\n    function Variable(offset, length) {\n        return _super.call(this, offset, length) || this;\n    }\n    Object.defineProperty(Variable.prototype, \"type\", {\n        get: function () {\n            return NodeType.VariableName;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Variable.prototype.getName = function () {\n        return this.getText();\n    };\n    return Variable;\n}(Node));\nexport { Variable };\nvar ExtendsReference = /** @class */ (function (_super) {\n    __extends(ExtendsReference, _super);\n    function ExtendsReference(offset, length) {\n        return _super.call(this, offset, length) || this;\n    }\n    Object.defineProperty(ExtendsReference.prototype, \"type\", {\n        get: function () {\n            return NodeType.ExtendsReference;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    ExtendsReference.prototype.getSelectors = function () {\n        if (!this.selectors) {\n            this.selectors = new Nodelist(this);\n        }\n        return this.selectors;\n    };\n    return ExtendsReference;\n}(Node));\nexport { ExtendsReference };\nvar MixinContentReference = /** @class */ (function (_super) {\n    __extends(MixinContentReference, _super);\n    function MixinContentReference(offset, length) {\n        return _super.call(this, offset, length) || this;\n    }\n    Object.defineProperty(MixinContentReference.prototype, \"type\", {\n        get: function () {\n            return NodeType.MixinContentReference;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    MixinContentReference.prototype.getArguments = function () {\n        if (!this.arguments) {\n            this.arguments = new Nodelist(this);\n        }\n        return this.arguments;\n    };\n    return MixinContentReference;\n}(Node));\nexport { MixinContentReference };\nvar MixinContentDeclaration = /** @class */ (function (_super) {\n    __extends(MixinContentDeclaration, _super);\n    function MixinContentDeclaration(offset, length) {\n        return _super.call(this, offset, length) || this;\n    }\n    Object.defineProperty(MixinContentDeclaration.prototype, \"type\", {\n        get: function () {\n            return NodeType.MixinContentReference;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    MixinContentDeclaration.prototype.getParameters = function () {\n        if (!this.parameters) {\n            this.parameters = new Nodelist(this);\n        }\n        return this.parameters;\n    };\n    return MixinContentDeclaration;\n}(BodyDeclaration));\nexport { MixinContentDeclaration };\nvar MixinReference = /** @class */ (function (_super) {\n    __extends(MixinReference, _super);\n    function MixinReference(offset, length) {\n        return _super.call(this, offset, length) || this;\n    }\n    Object.defineProperty(MixinReference.prototype, \"type\", {\n        get: function () {\n            return NodeType.MixinReference;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    MixinReference.prototype.getNamespaces = function () {\n        if (!this.namespaces) {\n            this.namespaces = new Nodelist(this);\n        }\n        return this.namespaces;\n    };\n    MixinReference.prototype.setIdentifier = function (node) {\n        return this.setNode('identifier', node, 0);\n    };\n    MixinReference.prototype.getIdentifier = function () {\n        return this.identifier;\n    };\n    MixinReference.prototype.getName = function () {\n        return this.identifier ? this.identifier.getText() : '';\n    };\n    MixinReference.prototype.getArguments = function () {\n        if (!this.arguments) {\n            this.arguments = new Nodelist(this);\n        }\n        return this.arguments;\n    };\n    MixinReference.prototype.setContent = function (node) {\n        return this.setNode('content', node);\n    };\n    MixinReference.prototype.getContent = function () {\n        return this.content;\n    };\n    return MixinReference;\n}(Node));\nexport { MixinReference };\nvar MixinDeclaration = /** @class */ (function (_super) {\n    __extends(MixinDeclaration, _super);\n    function MixinDeclaration(offset, length) {\n        return _super.call(this, offset, length) || this;\n    }\n    Object.defineProperty(MixinDeclaration.prototype, \"type\", {\n        get: function () {\n            return NodeType.MixinDeclaration;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    MixinDeclaration.prototype.setIdentifier = function (node) {\n        return this.setNode('identifier', node, 0);\n    };\n    MixinDeclaration.prototype.getIdentifier = function () {\n        return this.identifier;\n    };\n    MixinDeclaration.prototype.getName = function () {\n        return this.identifier ? this.identifier.getText() : '';\n    };\n    MixinDeclaration.prototype.getParameters = function () {\n        if (!this.parameters) {\n            this.parameters = new Nodelist(this);\n        }\n        return this.parameters;\n    };\n    MixinDeclaration.prototype.setGuard = function (node) {\n        if (node) {\n            node.attachTo(this);\n            this.guard = node;\n        }\n        return false;\n    };\n    return MixinDeclaration;\n}(BodyDeclaration));\nexport { MixinDeclaration };\nvar UnknownAtRule = /** @class */ (function (_super) {\n    __extends(UnknownAtRule, _super);\n    function UnknownAtRule(offset, length) {\n        return _super.call(this, offset, length) || this;\n    }\n    Object.defineProperty(UnknownAtRule.prototype, \"type\", {\n        get: function () {\n            return NodeType.UnknownAtRule;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    UnknownAtRule.prototype.setAtRuleName = function (atRuleName) {\n        this.atRuleName = atRuleName;\n    };\n    UnknownAtRule.prototype.getAtRuleName = function () {\n        return this.atRuleName;\n    };\n    return UnknownAtRule;\n}(BodyDeclaration));\nexport { UnknownAtRule };\nvar ListEntry = /** @class */ (function (_super) {\n    __extends(ListEntry, _super);\n    function ListEntry() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Object.defineProperty(ListEntry.prototype, \"type\", {\n        get: function () {\n            return NodeType.ListEntry;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    ListEntry.prototype.setKey = function (node) {\n        return this.setNode('key', node, 0);\n    };\n    ListEntry.prototype.setValue = function (node) {\n        return this.setNode('value', node, 1);\n    };\n    return ListEntry;\n}(Node));\nexport { ListEntry };\nvar LessGuard = /** @class */ (function (_super) {\n    __extends(LessGuard, _super);\n    function LessGuard() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    LessGuard.prototype.getConditions = function () {\n        if (!this.conditions) {\n            this.conditions = new Nodelist(this);\n        }\n        return this.conditions;\n    };\n    return LessGuard;\n}(Node));\nexport { LessGuard };\nvar GuardCondition = /** @class */ (function (_super) {\n    __extends(GuardCondition, _super);\n    function GuardCondition() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    GuardCondition.prototype.setVariable = function (node) {\n        return this.setNode('variable', node);\n    };\n    return GuardCondition;\n}(Node));\nexport { GuardCondition };\nvar Module = /** @class */ (function (_super) {\n    __extends(Module, _super);\n    function Module() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Object.defineProperty(Module.prototype, \"type\", {\n        get: function () {\n            return NodeType.Module;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Module.prototype.setIdentifier = function (node) {\n        return this.setNode('identifier', node, 0);\n    };\n    Module.prototype.getIdentifier = function () {\n        return this.identifier;\n    };\n    return Module;\n}(Node));\nexport { Module };\nexport var Level;\n(function (Level) {\n    Level[Level[\"Ignore\"] = 1] = \"Ignore\";\n    Level[Level[\"Warning\"] = 2] = \"Warning\";\n    Level[Level[\"Error\"] = 4] = \"Error\";\n})(Level || (Level = {}));\nvar Marker = /** @class */ (function () {\n    function Marker(node, rule, level, message, offset, length) {\n        if (offset === void 0) { offset = node.offset; }\n        if (length === void 0) { length = node.length; }\n        this.node = node;\n        this.rule = rule;\n        this.level = level;\n        this.message = message || rule.message;\n        this.offset = offset;\n        this.length = length;\n    }\n    Marker.prototype.getRule = function () {\n        return this.rule;\n    };\n    Marker.prototype.getLevel = function () {\n        return this.level;\n    };\n    Marker.prototype.getOffset = function () {\n        return this.offset;\n    };\n    Marker.prototype.getLength = function () {\n        return this.length;\n    };\n    Marker.prototype.getNode = function () {\n        return this.node;\n    };\n    Marker.prototype.getMessage = function () {\n        return this.message;\n    };\n    return Marker;\n}());\nexport { Marker };\n/*\nexport class DefaultVisitor implements IVisitor {\n\n    public visitNode(node:Node):boolean {\n        switch (node.type) {\n            case NodeType.Stylesheet:\n                return this.visitStylesheet(<Stylesheet> node);\n            case NodeType.FontFace:\n                return this.visitFontFace(<FontFace> node);\n            case NodeType.Ruleset:\n                return this.visitRuleSet(<RuleSet> node);\n            case NodeType.Selector:\n                return this.visitSelector(<Selector> node);\n            case NodeType.SimpleSelector:\n                return this.visitSimpleSelector(<SimpleSelector> node);\n            case NodeType.Declaration:\n                return this.visitDeclaration(<Declaration> node);\n            case NodeType.Function:\n                return this.visitFunction(<Function> node);\n            case NodeType.FunctionDeclaration:\n                return this.visitFunctionDeclaration(<FunctionDeclaration> node);\n            case NodeType.FunctionParameter:\n                return this.visitFunctionParameter(<FunctionParameter> node);\n            case NodeType.FunctionArgument:\n                return this.visitFunctionArgument(<FunctionArgument> node);\n            case NodeType.Term:\n                return this.visitTerm(<Term> node);\n            case NodeType.Declaration:\n                return this.visitExpression(<Expression> node);\n            case NodeType.NumericValue:\n                return this.visitNumericValue(<NumericValue> node);\n            case NodeType.Page:\n                return this.visitPage(<Page> node);\n            case NodeType.PageBoxMarginBox:\n                return this.visitPageBoxMarginBox(<PageBoxMarginBox> node);\n            case NodeType.Property:\n                return this.visitProperty(<Property> node);\n            case NodeType.NumericValue:\n                return this.visitNodelist(<Nodelist> node);\n            case NodeType.Import:\n                return this.visitImport(<Import> node);\n            case NodeType.Namespace:\n                return this.visitNamespace(<Namespace> node);\n            case NodeType.Keyframe:\n                return this.visitKeyframe(<Keyframe> node);\n            case NodeType.KeyframeSelector:\n                return this.visitKeyframeSelector(<KeyframeSelector> node);\n            case NodeType.MixinDeclaration:\n                return this.visitMixinDeclaration(<MixinDeclaration> node);\n            case NodeType.MixinReference:\n                return this.visitMixinReference(<MixinReference> node);\n            case NodeType.Variable:\n                return this.visitVariable(<Variable> node);\n            case NodeType.VariableDeclaration:\n                return this.visitVariableDeclaration(<VariableDeclaration> node);\n        }\n        return this.visitUnknownNode(node);\n    }\n\n    public visitFontFace(node:FontFace):boolean {\n        return true;\n    }\n\n    public visitKeyframe(node:Keyframe):boolean {\n        return true;\n    }\n\n    public visitKeyframeSelector(node:KeyframeSelector):boolean {\n        return true;\n    }\n\n    public visitStylesheet(node:Stylesheet):boolean {\n        return true;\n    }\n\n    public visitProperty(Node:Property):boolean {\n        return true;\n    }\n\n    public visitRuleSet(node:RuleSet):boolean {\n        return true;\n    }\n\n    public visitSelector(node:Selector):boolean {\n        return true;\n    }\n\n    public visitSimpleSelector(node:SimpleSelector):boolean {\n        return true;\n    }\n\n    public visitDeclaration(node:Declaration):boolean {\n        return true;\n    }\n\n    public visitFunction(node:Function):boolean {\n        return true;\n    }\n\n    public visitFunctionDeclaration(node:FunctionDeclaration):boolean {\n        return true;\n    }\n\n    public visitInvocation(node:Invocation):boolean {\n        return true;\n    }\n\n    public visitTerm(node:Term):boolean {\n        return true;\n    }\n\n    public visitImport(node:Import):boolean {\n        return true;\n    }\n\n    public visitNamespace(node:Namespace):boolean {\n        return true;\n    }\n\n    public visitExpression(node:Expression):boolean {\n        return true;\n    }\n\n    public visitNumericValue(node:NumericValue):boolean {\n        return true;\n    }\n\n    public visitPage(node:Page):boolean {\n        return true;\n    }\n\n    public visitPageBoxMarginBox(node:PageBoxMarginBox):boolean {\n        return true;\n    }\n\n    public visitNodelist(node:Nodelist):boolean {\n        return true;\n    }\n\n    public visitVariableDeclaration(node:VariableDeclaration):boolean {\n        return true;\n    }\n\n    public visitVariable(node:Variable):boolean {\n        return true;\n    }\n\n    public visitMixinDeclaration(node:MixinDeclaration):boolean {\n        return true;\n    }\n\n    public visitMixinReference(node:MixinReference):boolean {\n        return true;\n    }\n\n    public visitUnknownNode(node:Node):boolean {\n        return true;\n    }\n}\n*/\nvar ParseErrorCollector = /** @class */ (function () {\n    function ParseErrorCollector() {\n        this.entries = [];\n    }\n    ParseErrorCollector.entries = function (node) {\n        var visitor = new ParseErrorCollector();\n        node.acceptVisitor(visitor);\n        return visitor.entries;\n    };\n    ParseErrorCollector.prototype.visitNode = function (node) {\n        if (node.isErroneous()) {\n            node.collectIssues(this.entries);\n        }\n        return true;\n    };\n    return ParseErrorCollector;\n}());\nexport { ParseErrorCollector };\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nfunction format(message, args) {\n    var result;\n    if (args.length === 0) {\n        result = message;\n    }\n    else {\n        result = message.replace(/\\{(\\d+)\\}/g, function (match, rest) {\n            var index = rest[0];\n            return typeof args[index] !== 'undefined' ? args[index] : match;\n        });\n    }\n    return result;\n}\nfunction localize(key, message) {\n    var args = [];\n    for (var _i = 2; _i < arguments.length; _i++) {\n        args[_i - 2] = arguments[_i];\n    }\n    return format(message, args);\n}\nexport function loadMessageBundle(file) {\n    return localize;\n}\nexport function config(opt) {\n    return loadMessageBundle;\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nimport * as nls from '../../../fillers/vscode-nls.js';\nvar localize = nls.loadMessageBundle();\nvar CSSIssueType = /** @class */ (function () {\n    function CSSIssueType(id, message) {\n        this.id = id;\n        this.message = message;\n    }\n    return CSSIssueType;\n}());\nexport { CSSIssueType };\nexport var ParseError = {\n    NumberExpected: new CSSIssueType('css-numberexpected', localize('expected.number', \"number expected\")),\n    ConditionExpected: new CSSIssueType('css-conditionexpected', localize('expected.condt', \"condition expected\")),\n    RuleOrSelectorExpected: new CSSIssueType('css-ruleorselectorexpected', localize('expected.ruleorselector', \"at-rule or selector expected\")),\n    DotExpected: new CSSIssueType('css-dotexpected', localize('expected.dot', \"dot expected\")),\n    ColonExpected: new CSSIssueType('css-colonexpected', localize('expected.colon', \"colon expected\")),\n    SemiColonExpected: new CSSIssueType('css-semicolonexpected', localize('expected.semicolon', \"semi-colon expected\")),\n    TermExpected: new CSSIssueType('css-termexpected', localize('expected.term', \"term expected\")),\n    ExpressionExpected: new CSSIssueType('css-expressionexpected', localize('expected.expression', \"expression expected\")),\n    OperatorExpected: new CSSIssueType('css-operatorexpected', localize('expected.operator', \"operator expected\")),\n    IdentifierExpected: new CSSIssueType('css-identifierexpected', localize('expected.ident', \"identifier expected\")),\n    PercentageExpected: new CSSIssueType('css-percentageexpected', localize('expected.percentage', \"percentage expected\")),\n    URIOrStringExpected: new CSSIssueType('css-uriorstringexpected', localize('expected.uriorstring', \"uri or string expected\")),\n    URIExpected: new CSSIssueType('css-uriexpected', localize('expected.uri', \"URI expected\")),\n    VariableNameExpected: new CSSIssueType('css-varnameexpected', localize('expected.varname', \"variable name expected\")),\n    VariableValueExpected: new CSSIssueType('css-varvalueexpected', localize('expected.varvalue', \"variable value expected\")),\n    PropertyValueExpected: new CSSIssueType('css-propertyvalueexpected', localize('expected.propvalue', \"property value expected\")),\n    LeftCurlyExpected: new CSSIssueType('css-lcurlyexpected', localize('expected.lcurly', \"{ expected\")),\n    RightCurlyExpected: new CSSIssueType('css-rcurlyexpected', localize('expected.rcurly', \"} expected\")),\n    LeftSquareBracketExpected: new CSSIssueType('css-rbracketexpected', localize('expected.lsquare', \"[ expected\")),\n    RightSquareBracketExpected: new CSSIssueType('css-lbracketexpected', localize('expected.rsquare', \"] expected\")),\n    LeftParenthesisExpected: new CSSIssueType('css-lparentexpected', localize('expected.lparen', \"( expected\")),\n    RightParenthesisExpected: new CSSIssueType('css-rparentexpected', localize('expected.rparent', \") expected\")),\n    CommaExpected: new CSSIssueType('css-commaexpected', localize('expected.comma', \"comma expected\")),\n    PageDirectiveOrDeclarationExpected: new CSSIssueType('css-pagedirordeclexpected', localize('expected.pagedirordecl', \"page directive or declaraton expected\")),\n    UnknownAtRule: new CSSIssueType('css-unknownatrule', localize('unknown.atrule', \"at-rule unknown\")),\n    UnknownKeyword: new CSSIssueType('css-unknownkeyword', localize('unknown.keyword', \"unknown keyword\")),\n    SelectorExpected: new CSSIssueType('css-selectorexpected', localize('expected.selector', \"selector expected\")),\n    StringLiteralExpected: new CSSIssueType('css-stringliteralexpected', localize('expected.stringliteral', \"string literal expected\")),\n    WhitespaceExpected: new CSSIssueType('css-whitespaceexpected', localize('expected.whitespace', \"whitespace expected\")),\n    MediaQueryExpected: new CSSIssueType('css-mediaqueryexpected', localize('expected.mediaquery', \"media query expected\")),\n    IdentifierOrWildcardExpected: new CSSIssueType('css-idorwildcardexpected', localize('expected.idorwildcard', \"identifier or wildcard expected\")),\n    WildcardExpected: new CSSIssueType('css-wildcardexpected', localize('expected.wildcard', \"wildcard expected\")),\n    IdentifierOrVariableExpected: new CSSIssueType('css-idorvarexpected', localize('expected.idorvar', \"identifier or variable expected\")),\n};\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nexport var browserNames = {\n    E: 'Edge',\n    FF: 'Firefox',\n    S: 'Safari',\n    C: 'Chrome',\n    IE: 'IE',\n    O: 'Opera'\n};\nfunction getEntryStatus(status) {\n    switch (status) {\n        case 'experimental':\n            return ' Property is experimental. Be cautious when using it.\\n\\n';\n        case 'nonstandard':\n            return ' Property is nonstandard. Avoid using it.\\n\\n';\n        case 'obsolete':\n            return ' Property is obsolete. Avoid using it.\\n\\n';\n        default:\n            return '';\n    }\n}\nexport function getEntryDescription(entry, doesSupportMarkdown) {\n    var result;\n    if (doesSupportMarkdown) {\n        result = {\n            kind: 'markdown',\n            value: getEntryMarkdownDescription(entry)\n        };\n    }\n    else {\n        result = {\n            kind: 'plaintext',\n            value: getEntryStringDescription(entry)\n        };\n    }\n    if (result.value === '') {\n        return undefined;\n    }\n    return result;\n}\nexport function textToMarkedString(text) {\n    text = text.replace(/[\\\\`*_{}[\\]()#+\\-.!]/g, '\\\\$&'); // escape markdown syntax tokens: http://daringfireball.net/projects/markdown/syntax#backslash\n    return text.replace(/</g, '&lt;').replace(/>/g, '&gt;');\n}\nfunction getEntryStringDescription(entry) {\n    if (!entry.description || entry.description === '') {\n        return '';\n    }\n    if (typeof entry.description !== 'string') {\n        return entry.description.value;\n    }\n    var result = '';\n    if (entry.status) {\n        result += getEntryStatus(entry.status);\n    }\n    result += entry.description;\n    var browserLabel = getBrowserLabel(entry.browsers);\n    if (browserLabel) {\n        result += '\\n(' + browserLabel + ')';\n    }\n    if ('syntax' in entry) {\n        result += \"\\n\\nSyntax: \" + entry.syntax;\n    }\n    if (entry.references && entry.references.length > 0) {\n        result += '\\n\\n';\n        result += entry.references.map(function (r) {\n            return r.name + \": \" + r.url;\n        }).join(' | ');\n    }\n    return result;\n}\nfunction getEntryMarkdownDescription(entry) {\n    if (!entry.description || entry.description === '') {\n        return '';\n    }\n    var result = '';\n    if (entry.status) {\n        result += getEntryStatus(entry.status);\n    }\n    var description = typeof entry.description === 'string' ? entry.description : entry.description.value;\n    result += textToMarkedString(description);\n    var browserLabel = getBrowserLabel(entry.browsers);\n    if (browserLabel) {\n        result += '\\n\\n(' + textToMarkedString(browserLabel) + ')';\n    }\n    if ('syntax' in entry && entry.syntax) {\n        result += \"\\n\\nSyntax: \" + textToMarkedString(entry.syntax);\n    }\n    if (entry.references && entry.references.length > 0) {\n        result += '\\n\\n';\n        result += entry.references.map(function (r) {\n            return \"[\" + r.name + \"](\" + r.url + \")\";\n        }).join(' | ');\n    }\n    return result;\n}\n/**\n * Input is like `[\"E12\",\"FF49\",\"C47\",\"IE\",\"O\"]`\n * Output is like `Edge 12, Firefox 49, Chrome 47, IE, Opera`\n */\nexport function getBrowserLabel(browsers) {\n    if (browsers === void 0) { browsers = []; }\n    if (browsers.length === 0) {\n        return null;\n    }\n    return browsers\n        .map(function (b) {\n        var result = '';\n        var matches = b.match(/([A-Z]+)(\\d+)?/);\n        var name = matches[1];\n        var version = matches[2];\n        if (name in browserNames) {\n            result += browserNames[name];\n        }\n        if (version) {\n            result += ' ' + version;\n        }\n        return result;\n    })\n        .join(', ');\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport * as nodes from '../parser/cssNodes.js';\nimport * as nls from '../../../fillers/vscode-nls.js';\nvar localize = nls.loadMessageBundle();\nexport var colorFunctions = [\n    { func: 'rgb($red, $green, $blue)', desc: localize('css.builtin.rgb', 'Creates a Color from red, green, and blue values.') },\n    { func: 'rgba($red, $green, $blue, $alpha)', desc: localize('css.builtin.rgba', 'Creates a Color from red, green, blue, and alpha values.') },\n    { func: 'hsl($hue, $saturation, $lightness)', desc: localize('css.builtin.hsl', 'Creates a Color from hue, saturation, and lightness values.') },\n    { func: 'hsla($hue, $saturation, $lightness, $alpha)', desc: localize('css.builtin.hsla', 'Creates a Color from hue, saturation, lightness, and alpha values.') }\n];\nexport var colors = {\n    aliceblue: '#f0f8ff',\n    antiquewhite: '#faebd7',\n    aqua: '#00ffff',\n    aquamarine: '#7fffd4',\n    azure: '#f0ffff',\n    beige: '#f5f5dc',\n    bisque: '#ffe4c4',\n    black: '#000000',\n    blanchedalmond: '#ffebcd',\n    blue: '#0000ff',\n    blueviolet: '#8a2be2',\n    brown: '#a52a2a',\n    burlywood: '#deb887',\n    cadetblue: '#5f9ea0',\n    chartreuse: '#7fff00',\n    chocolate: '#d2691e',\n    coral: '#ff7f50',\n    cornflowerblue: '#6495ed',\n    cornsilk: '#fff8dc',\n    crimson: '#dc143c',\n    cyan: '#00ffff',\n    darkblue: '#00008b',\n    darkcyan: '#008b8b',\n    darkgoldenrod: '#b8860b',\n    darkgray: '#a9a9a9',\n    darkgrey: '#a9a9a9',\n    darkgreen: '#006400',\n    darkkhaki: '#bdb76b',\n    darkmagenta: '#8b008b',\n    darkolivegreen: '#556b2f',\n    darkorange: '#ff8c00',\n    darkorchid: '#9932cc',\n    darkred: '#8b0000',\n    darksalmon: '#e9967a',\n    darkseagreen: '#8fbc8f',\n    darkslateblue: '#483d8b',\n    darkslategray: '#2f4f4f',\n    darkslategrey: '#2f4f4f',\n    darkturquoise: '#00ced1',\n    darkviolet: '#9400d3',\n    deeppink: '#ff1493',\n    deepskyblue: '#00bfff',\n    dimgray: '#696969',\n    dimgrey: '#696969',\n    dodgerblue: '#1e90ff',\n    firebrick: '#b22222',\n    floralwhite: '#fffaf0',\n    forestgreen: '#228b22',\n    fuchsia: '#ff00ff',\n    gainsboro: '#dcdcdc',\n    ghostwhite: '#f8f8ff',\n    gold: '#ffd700',\n    goldenrod: '#daa520',\n    gray: '#808080',\n    grey: '#808080',\n    green: '#008000',\n    greenyellow: '#adff2f',\n    honeydew: '#f0fff0',\n    hotpink: '#ff69b4',\n    indianred: '#cd5c5c',\n    indigo: '#4b0082',\n    ivory: '#fffff0',\n    khaki: '#f0e68c',\n    lavender: '#e6e6fa',\n    lavenderblush: '#fff0f5',\n    lawngreen: '#7cfc00',\n    lemonchiffon: '#fffacd',\n    lightblue: '#add8e6',\n    lightcoral: '#f08080',\n    lightcyan: '#e0ffff',\n    lightgoldenrodyellow: '#fafad2',\n    lightgray: '#d3d3d3',\n    lightgrey: '#d3d3d3',\n    lightgreen: '#90ee90',\n    lightpink: '#ffb6c1',\n    lightsalmon: '#ffa07a',\n    lightseagreen: '#20b2aa',\n    lightskyblue: '#87cefa',\n    lightslategray: '#778899',\n    lightslategrey: '#778899',\n    lightsteelblue: '#b0c4de',\n    lightyellow: '#ffffe0',\n    lime: '#00ff00',\n    limegreen: '#32cd32',\n    linen: '#faf0e6',\n    magenta: '#ff00ff',\n    maroon: '#800000',\n    mediumaquamarine: '#66cdaa',\n    mediumblue: '#0000cd',\n    mediumorchid: '#ba55d3',\n    mediumpurple: '#9370d8',\n    mediumseagreen: '#3cb371',\n    mediumslateblue: '#7b68ee',\n    mediumspringgreen: '#00fa9a',\n    mediumturquoise: '#48d1cc',\n    mediumvioletred: '#c71585',\n    midnightblue: '#191970',\n    mintcream: '#f5fffa',\n    mistyrose: '#ffe4e1',\n    moccasin: '#ffe4b5',\n    navajowhite: '#ffdead',\n    navy: '#000080',\n    oldlace: '#fdf5e6',\n    olive: '#808000',\n    olivedrab: '#6b8e23',\n    orange: '#ffa500',\n    orangered: '#ff4500',\n    orchid: '#da70d6',\n    palegoldenrod: '#eee8aa',\n    palegreen: '#98fb98',\n    paleturquoise: '#afeeee',\n    palevioletred: '#d87093',\n    papayawhip: '#ffefd5',\n    peachpuff: '#ffdab9',\n    peru: '#cd853f',\n    pink: '#ffc0cb',\n    plum: '#dda0dd',\n    powderblue: '#b0e0e6',\n    purple: '#800080',\n    red: '#ff0000',\n    rebeccapurple: '#663399',\n    rosybrown: '#bc8f8f',\n    royalblue: '#4169e1',\n    saddlebrown: '#8b4513',\n    salmon: '#fa8072',\n    sandybrown: '#f4a460',\n    seagreen: '#2e8b57',\n    seashell: '#fff5ee',\n    sienna: '#a0522d',\n    silver: '#c0c0c0',\n    skyblue: '#87ceeb',\n    slateblue: '#6a5acd',\n    slategray: '#708090',\n    slategrey: '#708090',\n    snow: '#fffafa',\n    springgreen: '#00ff7f',\n    steelblue: '#4682b4',\n    tan: '#d2b48c',\n    teal: '#008080',\n    thistle: '#d8bfd8',\n    tomato: '#ff6347',\n    turquoise: '#40e0d0',\n    violet: '#ee82ee',\n    wheat: '#f5deb3',\n    white: '#ffffff',\n    whitesmoke: '#f5f5f5',\n    yellow: '#ffff00',\n    yellowgreen: '#9acd32'\n};\nexport var colorKeywords = {\n    'currentColor': 'The value of the \\'color\\' property. The computed value of the \\'currentColor\\' keyword is the computed value of the \\'color\\' property. If the \\'currentColor\\' keyword is set on the \\'color\\' property itself, it is treated as \\'color:inherit\\' at parse time.',\n    'transparent': 'Fully transparent. This keyword can be considered a shorthand for rgba(0,0,0,0) which is its computed value.',\n};\nfunction getNumericValue(node, factor) {\n    var val = node.getText();\n    var m = val.match(/^([-+]?[0-9]*\\.?[0-9]+)(%?)$/);\n    if (m) {\n        if (m[2]) {\n            factor = 100.0;\n        }\n        var result = parseFloat(m[1]) / factor;\n        if (result >= 0 && result <= 1) {\n            return result;\n        }\n    }\n    throw new Error();\n}\nfunction getAngle(node) {\n    var val = node.getText();\n    var m = val.match(/^([-+]?[0-9]*\\.?[0-9]+)(deg)?$/);\n    if (m) {\n        return parseFloat(val) % 360;\n    }\n    throw new Error();\n}\nexport function isColorConstructor(node) {\n    var name = node.getName();\n    if (!name) {\n        return false;\n    }\n    return /^(rgb|rgba|hsl|hsla)$/gi.test(name);\n}\n/**\n * Returns true if the node is a color value - either\n * defined a hex number, as rgb or rgba function, or\n * as color name.\n */\nexport function isColorValue(node) {\n    if (node.type === nodes.NodeType.HexColorValue) {\n        return true;\n    }\n    else if (node.type === nodes.NodeType.Function) {\n        return isColorConstructor(node);\n    }\n    else if (node.type === nodes.NodeType.Identifier) {\n        if (node.parent && node.parent.type !== nodes.NodeType.Term) {\n            return false;\n        }\n        var candidateColor = node.getText().toLowerCase();\n        if (candidateColor === 'none') {\n            return false;\n        }\n        if (colors[candidateColor]) {\n            return true;\n        }\n    }\n    return false;\n}\nvar Digit0 = 48;\nvar Digit9 = 57;\nvar A = 65;\nvar F = 70;\nvar a = 97;\nvar f = 102;\nexport function hexDigit(charCode) {\n    if (charCode < Digit0) {\n        return 0;\n    }\n    if (charCode <= Digit9) {\n        return charCode - Digit0;\n    }\n    if (charCode < a) {\n        charCode += (a - A);\n    }\n    if (charCode >= a && charCode <= f) {\n        return charCode - a + 10;\n    }\n    return 0;\n}\nexport function colorFromHex(text) {\n    if (text[0] !== '#') {\n        return null;\n    }\n    switch (text.length) {\n        case 4:\n            return {\n                red: (hexDigit(text.charCodeAt(1)) * 0x11) / 255.0,\n                green: (hexDigit(text.charCodeAt(2)) * 0x11) / 255.0,\n                blue: (hexDigit(text.charCodeAt(3)) * 0x11) / 255.0,\n                alpha: 1\n            };\n        case 5:\n            return {\n                red: (hexDigit(text.charCodeAt(1)) * 0x11) / 255.0,\n                green: (hexDigit(text.charCodeAt(2)) * 0x11) / 255.0,\n                blue: (hexDigit(text.charCodeAt(3)) * 0x11) / 255.0,\n                alpha: (hexDigit(text.charCodeAt(4)) * 0x11) / 255.0,\n            };\n        case 7:\n            return {\n                red: (hexDigit(text.charCodeAt(1)) * 0x10 + hexDigit(text.charCodeAt(2))) / 255.0,\n                green: (hexDigit(text.charCodeAt(3)) * 0x10 + hexDigit(text.charCodeAt(4))) / 255.0,\n                blue: (hexDigit(text.charCodeAt(5)) * 0x10 + hexDigit(text.charCodeAt(6))) / 255.0,\n                alpha: 1\n            };\n        case 9:\n            return {\n                red: (hexDigit(text.charCodeAt(1)) * 0x10 + hexDigit(text.charCodeAt(2))) / 255.0,\n                green: (hexDigit(text.charCodeAt(3)) * 0x10 + hexDigit(text.charCodeAt(4))) / 255.0,\n                blue: (hexDigit(text.charCodeAt(5)) * 0x10 + hexDigit(text.charCodeAt(6))) / 255.0,\n                alpha: (hexDigit(text.charCodeAt(7)) * 0x10 + hexDigit(text.charCodeAt(8))) / 255.0\n            };\n    }\n    return null;\n}\nexport function colorFrom256RGB(red, green, blue, alpha) {\n    if (alpha === void 0) { alpha = 1.0; }\n    return {\n        red: red / 255.0,\n        green: green / 255.0,\n        blue: blue / 255.0,\n        alpha: alpha\n    };\n}\nexport function colorFromHSL(hue, sat, light, alpha) {\n    if (alpha === void 0) { alpha = 1.0; }\n    hue = hue / 60.0;\n    if (sat === 0) {\n        return { red: light, green: light, blue: light, alpha: alpha };\n    }\n    else {\n        var hueToRgb = function (t1, t2, hue) {\n            while (hue < 0) {\n                hue += 6;\n            }\n            while (hue >= 6) {\n                hue -= 6;\n            }\n            if (hue < 1) {\n                return (t2 - t1) * hue + t1;\n            }\n            if (hue < 3) {\n                return t2;\n            }\n            if (hue < 4) {\n                return (t2 - t1) * (4 - hue) + t1;\n            }\n            return t1;\n        };\n        var t2 = light <= 0.5 ? (light * (sat + 1)) : (light + sat - (light * sat));\n        var t1 = light * 2 - t2;\n        return { red: hueToRgb(t1, t2, hue + 2), green: hueToRgb(t1, t2, hue), blue: hueToRgb(t1, t2, hue - 2), alpha: alpha };\n    }\n}\nexport function hslFromColor(rgba) {\n    var r = rgba.red;\n    var g = rgba.green;\n    var b = rgba.blue;\n    var a = rgba.alpha;\n    var max = Math.max(r, g, b);\n    var min = Math.min(r, g, b);\n    var h = 0;\n    var s = 0;\n    var l = (min + max) / 2;\n    var chroma = max - min;\n    if (chroma > 0) {\n        s = Math.min((l <= 0.5 ? chroma / (2 * l) : chroma / (2 - (2 * l))), 1);\n        switch (max) {\n            case r:\n                h = (g - b) / chroma + (g < b ? 6 : 0);\n                break;\n            case g:\n                h = (b - r) / chroma + 2;\n                break;\n            case b:\n                h = (r - g) / chroma + 4;\n                break;\n        }\n        h *= 60;\n        h = Math.round(h);\n    }\n    return { h: h, s: s, l: l, a: a };\n}\nexport function getColorValue(node) {\n    if (node.type === nodes.NodeType.HexColorValue) {\n        var text = node.getText();\n        return colorFromHex(text);\n    }\n    else if (node.type === nodes.NodeType.Function) {\n        var functionNode = node;\n        var name = functionNode.getName();\n        var colorValues = functionNode.getArguments().getChildren();\n        if (!name || colorValues.length < 3 || colorValues.length > 4) {\n            return null;\n        }\n        try {\n            var alpha = colorValues.length === 4 ? getNumericValue(colorValues[3], 1) : 1;\n            if (name === 'rgb' || name === 'rgba') {\n                return {\n                    red: getNumericValue(colorValues[0], 255.0),\n                    green: getNumericValue(colorValues[1], 255.0),\n                    blue: getNumericValue(colorValues[2], 255.0),\n                    alpha: alpha\n                };\n            }\n            else if (name === 'hsl' || name === 'hsla') {\n                var h = getAngle(colorValues[0]);\n                var s = getNumericValue(colorValues[1], 100.0);\n                var l = getNumericValue(colorValues[2], 100.0);\n                return colorFromHSL(h, s, l, alpha);\n            }\n        }\n        catch (e) {\n            // parse error on numeric value\n            return null;\n        }\n    }\n    else if (node.type === nodes.NodeType.Identifier) {\n        if (node.parent && node.parent.type !== nodes.NodeType.Term) {\n            return null;\n        }\n        var term = node.parent;\n        if (term && term.parent && term.parent.type === nodes.NodeType.BinaryExpression) {\n            var expression = term.parent;\n            if (expression.parent && expression.parent.type === nodes.NodeType.ListEntry && expression.parent.key === expression) {\n                return null;\n            }\n        }\n        var candidateColor = node.getText().toLowerCase();\n        if (candidateColor === 'none') {\n            return null;\n        }\n        var colorHex = colors[candidateColor];\n        if (colorHex) {\n            return colorFromHex(colorHex);\n        }\n    }\n    return null;\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nexport var positionKeywords = {\n    'bottom': 'Computes to 100% for the vertical position if one or two values are given, otherwise specifies the bottom edge as the origin for the next offset.',\n    'center': 'Computes to 50% (left 50%) for the horizontal position if the horizontal position is not otherwise specified, or 50% (top 50%) for the vertical position if it is.',\n    'left': 'Computes to 0% for the horizontal position if one or two values are given, otherwise specifies the left edge as the origin for the next offset.',\n    'right': 'Computes to 100% for the horizontal position if one or two values are given, otherwise specifies the right edge as the origin for the next offset.',\n    'top': 'Computes to 0% for the vertical position if one or two values are given, otherwise specifies the top edge as the origin for the next offset.'\n};\nexport var repeatStyleKeywords = {\n    'no-repeat': 'Placed once and not repeated in this direction.',\n    'repeat': 'Repeated in this direction as often as needed to cover the background painting area.',\n    'repeat-x': 'Computes to repeat no-repeat.',\n    'repeat-y': 'Computes to no-repeat repeat.',\n    'round': 'Repeated as often as will fit within the background positioning area. If it doesnt fit a whole number of times, it is rescaled so that it does.',\n    'space': 'Repeated as often as will fit within the background positioning area without being clipped and then the images are spaced out to fill the area.'\n};\nexport var lineStyleKeywords = {\n    'dashed': 'A series of square-ended dashes.',\n    'dotted': 'A series of round dots.',\n    'double': 'Two parallel solid lines with some space between them.',\n    'groove': 'Looks as if it were carved in the canvas.',\n    'hidden': 'Same as none, but has different behavior in the border conflict resolution rules for border-collapsed tables.',\n    'inset': 'Looks as if the content on the inside of the border is sunken into the canvas.',\n    'none': 'No border. Color and width are ignored.',\n    'outset': 'Looks as if the content on the inside of the border is coming out of the canvas.',\n    'ridge': 'Looks as if it were coming out of the canvas.',\n    'solid': 'A single line segment.'\n};\nexport var lineWidthKeywords = ['medium', 'thick', 'thin'];\nexport var boxKeywords = {\n    'border-box': 'The background is painted within (clipped to) the border box.',\n    'content-box': 'The background is painted within (clipped to) the content box.',\n    'padding-box': 'The background is painted within (clipped to) the padding box.'\n};\nexport var geometryBoxKeywords = {\n    'margin-box': 'Uses the margin box as reference box.',\n    'fill-box': 'Uses the object bounding box as reference box.',\n    'stroke-box': 'Uses the stroke bounding box as reference box.',\n    'view-box': 'Uses the nearest SVG viewport as reference box.'\n};\nexport var cssWideKeywords = {\n    'initial': 'Represents the value specified as the propertys initial value.',\n    'inherit': 'Represents the computed value of the property on the elements parent.',\n    'unset': 'Acts as either `inherit` or `initial`, depending on whether the property is inherited or not.'\n};\nexport var imageFunctions = {\n    'url()': 'Reference an image file by URL',\n    'image()': 'Provide image fallbacks and annotations.',\n    '-webkit-image-set()': 'Provide multiple resolutions. Remember to use unprefixed image-set() in addition.',\n    'image-set()': 'Provide multiple resolutions of an image and const the UA decide which is most appropriate in a given situation.',\n    '-moz-element()': 'Use an element in the document as an image. Remember to use unprefixed element() in addition.',\n    'element()': 'Use an element in the document as an image.',\n    'cross-fade()': 'Indicates the two images to be combined and how far along in the transition the combination is.',\n    '-webkit-gradient()': 'Deprecated. Use modern linear-gradient() or radial-gradient() instead.',\n    '-webkit-linear-gradient()': 'Linear gradient. Remember to use unprefixed version in addition.',\n    '-moz-linear-gradient()': 'Linear gradient. Remember to use unprefixed version in addition.',\n    '-o-linear-gradient()': 'Linear gradient. Remember to use unprefixed version in addition.',\n    'linear-gradient()': 'A linear gradient is created by specifying a straight gradient line, and then several colors placed along that line.',\n    '-webkit-repeating-linear-gradient()': 'Repeating Linear gradient. Remember to use unprefixed version in addition.',\n    '-moz-repeating-linear-gradient()': 'Repeating Linear gradient. Remember to use unprefixed version in addition.',\n    '-o-repeating-linear-gradient()': 'Repeating Linear gradient. Remember to use unprefixed version in addition.',\n    'repeating-linear-gradient()': 'Same as linear-gradient, except the color-stops are repeated infinitely in both directions, with their positions shifted by multiples of the difference between the last specified color-stops position and the first specified color-stops position.',\n    '-webkit-radial-gradient()': 'Radial gradient. Remember to use unprefixed version in addition.',\n    '-moz-radial-gradient()': 'Radial gradient. Remember to use unprefixed version in addition.',\n    'radial-gradient()': 'Colors emerge from a single point and smoothly spread outward in a circular or elliptical shape.',\n    '-webkit-repeating-radial-gradient()': 'Repeating radial gradient. Remember to use unprefixed version in addition.',\n    '-moz-repeating-radial-gradient()': 'Repeating radial gradient. Remember to use unprefixed version in addition.',\n    'repeating-radial-gradient()': 'Same as radial-gradient, except the color-stops are repeated infinitely in both directions, with their positions shifted by multiples of the difference between the last specified color-stops position and the first specified color-stops position.'\n};\nexport var transitionTimingFunctions = {\n    'ease': 'Equivalent to cubic-bezier(0.25, 0.1, 0.25, 1.0).',\n    'ease-in': 'Equivalent to cubic-bezier(0.42, 0, 1.0, 1.0).',\n    'ease-in-out': 'Equivalent to cubic-bezier(0.42, 0, 0.58, 1.0).',\n    'ease-out': 'Equivalent to cubic-bezier(0, 0, 0.58, 1.0).',\n    'linear': 'Equivalent to cubic-bezier(0.0, 0.0, 1.0, 1.0).',\n    'step-end': 'Equivalent to steps(1, end).',\n    'step-start': 'Equivalent to steps(1, start).',\n    'steps()': 'The first parameter specifies the number of intervals in the function. The second parameter, which is optional, is either the value start or end.',\n    'cubic-bezier()': 'Specifies a cubic-bezier curve. The four values specify points P1 and P2  of the curve as (x1, y1, x2, y2).',\n    'cubic-bezier(0.6, -0.28, 0.735, 0.045)': 'Ease-in Back. Overshoots.',\n    'cubic-bezier(0.68, -0.55, 0.265, 1.55)': 'Ease-in-out Back. Overshoots.',\n    'cubic-bezier(0.175, 0.885, 0.32, 1.275)': 'Ease-out Back. Overshoots.',\n    'cubic-bezier(0.6, 0.04, 0.98, 0.335)': 'Ease-in Circular. Based on half circle.',\n    'cubic-bezier(0.785, 0.135, 0.15, 0.86)': 'Ease-in-out Circular. Based on half circle.',\n    'cubic-bezier(0.075, 0.82, 0.165, 1)': 'Ease-out Circular. Based on half circle.',\n    'cubic-bezier(0.55, 0.055, 0.675, 0.19)': 'Ease-in Cubic. Based on power of three.',\n    'cubic-bezier(0.645, 0.045, 0.355, 1)': 'Ease-in-out Cubic. Based on power of three.',\n    'cubic-bezier(0.215, 0.610, 0.355, 1)': 'Ease-out Cubic. Based on power of three.',\n    'cubic-bezier(0.95, 0.05, 0.795, 0.035)': 'Ease-in Exponential. Based on two to the power ten.',\n    'cubic-bezier(1, 0, 0, 1)': 'Ease-in-out Exponential. Based on two to the power ten.',\n    'cubic-bezier(0.19, 1, 0.22, 1)': 'Ease-out Exponential. Based on two to the power ten.',\n    'cubic-bezier(0.47, 0, 0.745, 0.715)': 'Ease-in Sine.',\n    'cubic-bezier(0.445, 0.05, 0.55, 0.95)': 'Ease-in-out Sine.',\n    'cubic-bezier(0.39, 0.575, 0.565, 1)': 'Ease-out Sine.',\n    'cubic-bezier(0.55, 0.085, 0.68, 0.53)': 'Ease-in Quadratic. Based on power of two.',\n    'cubic-bezier(0.455, 0.03, 0.515, 0.955)': 'Ease-in-out Quadratic. Based on power of two.',\n    'cubic-bezier(0.25, 0.46, 0.45, 0.94)': 'Ease-out Quadratic. Based on power of two.',\n    'cubic-bezier(0.895, 0.03, 0.685, 0.22)': 'Ease-in Quartic. Based on power of four.',\n    'cubic-bezier(0.77, 0, 0.175, 1)': 'Ease-in-out Quartic. Based on power of four.',\n    'cubic-bezier(0.165, 0.84, 0.44, 1)': 'Ease-out Quartic. Based on power of four.',\n    'cubic-bezier(0.755, 0.05, 0.855, 0.06)': 'Ease-in Quintic. Based on power of five.',\n    'cubic-bezier(0.86, 0, 0.07, 1)': 'Ease-in-out Quintic. Based on power of five.',\n    'cubic-bezier(0.23, 1, 0.320, 1)': 'Ease-out Quintic. Based on power of five.'\n};\nexport var basicShapeFunctions = {\n    'circle()': 'Defines a circle.',\n    'ellipse()': 'Defines an ellipse.',\n    'inset()': 'Defines an inset rectangle.',\n    'polygon()': 'Defines a polygon.'\n};\nexport var units = {\n    'length': ['em', 'rem', 'ex', 'px', 'cm', 'mm', 'in', 'pt', 'pc', 'ch', 'vw', 'vh', 'vmin', 'vmax'],\n    'angle': ['deg', 'rad', 'grad', 'turn'],\n    'time': ['ms', 's'],\n    'frequency': ['Hz', 'kHz'],\n    'resolution': ['dpi', 'dpcm', 'dppx'],\n    'percentage': ['%', 'fr']\n};\nexport var html5Tags = ['a', 'abbr', 'address', 'area', 'article', 'aside', 'audio', 'b', 'base', 'bdi', 'bdo', 'blockquote', 'body', 'br', 'button', 'canvas', 'caption',\n    'cite', 'code', 'col', 'colgroup', 'data', 'datalist', 'dd', 'del', 'details', 'dfn', 'dialog', 'div', 'dl', 'dt', 'em', 'embed', 'fieldset', 'figcaption', 'figure', 'footer',\n    'form', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'head', 'header', 'hgroup', 'hr', 'html', 'i', 'iframe', 'img', 'input', 'ins', 'kbd', 'keygen', 'label', 'legend', 'li', 'link',\n    'main', 'map', 'mark', 'menu', 'menuitem', 'meta', 'meter', 'nav', 'noscript', 'object', 'ol', 'optgroup', 'option', 'output', 'p', 'param', 'picture', 'pre', 'progress', 'q',\n    'rb', 'rp', 'rt', 'rtc', 'ruby', 's', 'samp', 'script', 'section', 'select', 'small', 'source', 'span', 'strong', 'style', 'sub', 'summary', 'sup', 'table', 'tbody', 'td',\n    'template', 'textarea', 'tfoot', 'th', 'thead', 'time', 'title', 'tr', 'track', 'u', 'ul', 'const', 'video', 'wbr'];\nexport var svgElements = ['circle', 'clipPath', 'cursor', 'defs', 'desc', 'ellipse', 'feBlend', 'feColorMatrix', 'feComponentTransfer', 'feComposite', 'feConvolveMatrix', 'feDiffuseLighting',\n    'feDisplacementMap', 'feDistantLight', 'feDropShadow', 'feFlood', 'feFuncA', 'feFuncB', 'feFuncG', 'feFuncR', 'feGaussianBlur', 'feImage', 'feMerge', 'feMergeNode', 'feMorphology',\n    'feOffset', 'fePointLight', 'feSpecularLighting', 'feSpotLight', 'feTile', 'feTurbulence', 'filter', 'foreignObject', 'g', 'hatch', 'hatchpath', 'image', 'line', 'linearGradient',\n    'marker', 'mask', 'mesh', 'meshpatch', 'meshrow', 'metadata', 'mpath', 'path', 'pattern', 'polygon', 'polyline', 'radialGradient', 'rect', 'set', 'solidcolor', 'stop', 'svg', 'switch',\n    'symbol', 'text', 'textPath', 'tspan', 'use', 'view'];\nexport var pageBoxDirectives = [\n    '@bottom-center', '@bottom-left', '@bottom-left-corner', '@bottom-right', '@bottom-right-corner',\n    '@left-bottom', '@left-middle', '@left-top', '@right-bottom', '@right-middle', '@right-top',\n    '@top-center', '@top-left', '@top-left-corner', '@top-right', '@top-right-corner'\n];\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nexport function values(obj) {\n    return Object.keys(obj).map(function (key) { return obj[key]; });\n}\nexport function isDefined(obj) {\n    return typeof obj !== 'undefined';\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nvar __spreadArrays = (this && this.__spreadArrays) || function () {\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n            r[k] = a[j];\n    return r;\n};\nimport { TokenType, Scanner } from './cssScanner.js';\nimport * as nodes from './cssNodes.js';\nimport { ParseError } from './cssErrors.js';\nimport * as languageFacts from '../languageFacts/facts.js';\nimport { isDefined } from '../utils/objects.js';\n/// <summary>\n/// A parser for the css core specification. See for reference:\n/// https://www.w3.org/TR/CSS21/grammar.html\n/// http://www.w3.org/TR/CSS21/syndata.html#tokenization\n/// </summary>\nvar Parser = /** @class */ (function () {\n    function Parser(scnr) {\n        if (scnr === void 0) { scnr = new Scanner(); }\n        this.keyframeRegex = /^@(\\-(webkit|ms|moz|o)\\-)?keyframes$/i;\n        this.scanner = scnr;\n        this.token = { type: TokenType.EOF, offset: -1, len: 0, text: '' };\n        this.prevToken = undefined;\n    }\n    Parser.prototype.peekIdent = function (text) {\n        return TokenType.Ident === this.token.type && text.length === this.token.text.length && text === this.token.text.toLowerCase();\n    };\n    Parser.prototype.peekKeyword = function (text) {\n        return TokenType.AtKeyword === this.token.type && text.length === this.token.text.length && text === this.token.text.toLowerCase();\n    };\n    Parser.prototype.peekDelim = function (text) {\n        return TokenType.Delim === this.token.type && text === this.token.text;\n    };\n    Parser.prototype.peek = function (type) {\n        return type === this.token.type;\n    };\n    Parser.prototype.peekRegExp = function (type, regEx) {\n        if (type !== this.token.type) {\n            return false;\n        }\n        return regEx.test(this.token.text);\n    };\n    Parser.prototype.hasWhitespace = function () {\n        return !!this.prevToken && (this.prevToken.offset + this.prevToken.len !== this.token.offset);\n    };\n    Parser.prototype.consumeToken = function () {\n        this.prevToken = this.token;\n        this.token = this.scanner.scan();\n    };\n    Parser.prototype.mark = function () {\n        return {\n            prev: this.prevToken,\n            curr: this.token,\n            pos: this.scanner.pos()\n        };\n    };\n    Parser.prototype.restoreAtMark = function (mark) {\n        this.prevToken = mark.prev;\n        this.token = mark.curr;\n        this.scanner.goBackTo(mark.pos);\n    };\n    Parser.prototype.try = function (func) {\n        var pos = this.mark();\n        var node = func();\n        if (!node) {\n            this.restoreAtMark(pos);\n            return null;\n        }\n        return node;\n    };\n    Parser.prototype.acceptOneKeyword = function (keywords) {\n        if (TokenType.AtKeyword === this.token.type) {\n            for (var _i = 0, keywords_1 = keywords; _i < keywords_1.length; _i++) {\n                var keyword = keywords_1[_i];\n                if (keyword.length === this.token.text.length && keyword === this.token.text.toLowerCase()) {\n                    this.consumeToken();\n                    return true;\n                }\n            }\n        }\n        return false;\n    };\n    Parser.prototype.accept = function (type) {\n        if (type === this.token.type) {\n            this.consumeToken();\n            return true;\n        }\n        return false;\n    };\n    Parser.prototype.acceptIdent = function (text) {\n        if (this.peekIdent(text)) {\n            this.consumeToken();\n            return true;\n        }\n        return false;\n    };\n    Parser.prototype.acceptKeyword = function (text) {\n        if (this.peekKeyword(text)) {\n            this.consumeToken();\n            return true;\n        }\n        return false;\n    };\n    Parser.prototype.acceptDelim = function (text) {\n        if (this.peekDelim(text)) {\n            this.consumeToken();\n            return true;\n        }\n        return false;\n    };\n    Parser.prototype.acceptRegexp = function (regEx) {\n        if (regEx.test(this.token.text)) {\n            this.consumeToken();\n            return true;\n        }\n        return false;\n    };\n    Parser.prototype._parseRegexp = function (regEx) {\n        var node = this.createNode(nodes.NodeType.Identifier);\n        do { } while (this.acceptRegexp(regEx));\n        return this.finish(node);\n    };\n    Parser.prototype.acceptUnquotedString = function () {\n        var pos = this.scanner.pos();\n        this.scanner.goBackTo(this.token.offset);\n        var unquoted = this.scanner.scanUnquotedString();\n        if (unquoted) {\n            this.token = unquoted;\n            this.consumeToken();\n            return true;\n        }\n        this.scanner.goBackTo(pos);\n        return false;\n    };\n    Parser.prototype.resync = function (resyncTokens, resyncStopTokens) {\n        while (true) {\n            if (resyncTokens && resyncTokens.indexOf(this.token.type) !== -1) {\n                this.consumeToken();\n                return true;\n            }\n            else if (resyncStopTokens && resyncStopTokens.indexOf(this.token.type) !== -1) {\n                return true;\n            }\n            else {\n                if (this.token.type === TokenType.EOF) {\n                    return false;\n                }\n                this.token = this.scanner.scan();\n            }\n        }\n    };\n    Parser.prototype.createNode = function (nodeType) {\n        return new nodes.Node(this.token.offset, this.token.len, nodeType);\n    };\n    Parser.prototype.create = function (ctor) {\n        return new ctor(this.token.offset, this.token.len);\n    };\n    Parser.prototype.finish = function (node, error, resyncTokens, resyncStopTokens) {\n        // parseNumeric misuses error for boolean flagging (however the real error mustn't be a false)\n        // + nodelist offsets mustn't be modified, because there is a offset hack in rulesets for smartselection\n        if (!(node instanceof nodes.Nodelist)) {\n            if (error) {\n                this.markError(node, error, resyncTokens, resyncStopTokens);\n            }\n            // set the node end position\n            if (this.prevToken) {\n                // length with more elements belonging together\n                var prevEnd = this.prevToken.offset + this.prevToken.len;\n                node.length = prevEnd > node.offset ? prevEnd - node.offset : 0; // offset is taken from current token, end from previous: Use 0 for empty nodes\n            }\n        }\n        return node;\n    };\n    Parser.prototype.markError = function (node, error, resyncTokens, resyncStopTokens) {\n        if (this.token !== this.lastErrorToken) { // do not report twice on the same token\n            node.addIssue(new nodes.Marker(node, error, nodes.Level.Error, undefined, this.token.offset, this.token.len));\n            this.lastErrorToken = this.token;\n        }\n        if (resyncTokens || resyncStopTokens) {\n            this.resync(resyncTokens, resyncStopTokens);\n        }\n    };\n    Parser.prototype.parseStylesheet = function (textDocument) {\n        var versionId = textDocument.version;\n        var text = textDocument.getText();\n        var textProvider = function (offset, length) {\n            if (textDocument.version !== versionId) {\n                throw new Error('Underlying model has changed, AST is no longer valid');\n            }\n            return text.substr(offset, length);\n        };\n        return this.internalParse(text, this._parseStylesheet, textProvider);\n    };\n    Parser.prototype.internalParse = function (input, parseFunc, textProvider) {\n        this.scanner.setSource(input);\n        this.token = this.scanner.scan();\n        var node = parseFunc.bind(this)();\n        if (node) {\n            if (textProvider) {\n                node.textProvider = textProvider;\n            }\n            else {\n                node.textProvider = function (offset, length) { return input.substr(offset, length); };\n            }\n        }\n        return node;\n    };\n    Parser.prototype._parseStylesheet = function () {\n        var node = this.create(nodes.Stylesheet);\n        while (node.addChild(this._parseStylesheetStart())) {\n            // Parse statements only valid at the beginning of stylesheets.\n        }\n        var inRecovery = false;\n        do {\n            var hasMatch = false;\n            do {\n                hasMatch = false;\n                var statement = this._parseStylesheetStatement();\n                if (statement) {\n                    node.addChild(statement);\n                    hasMatch = true;\n                    inRecovery = false;\n                    if (!this.peek(TokenType.EOF) && this._needsSemicolonAfter(statement) && !this.accept(TokenType.SemiColon)) {\n                        this.markError(node, ParseError.SemiColonExpected);\n                    }\n                }\n                while (this.accept(TokenType.SemiColon) || this.accept(TokenType.CDO) || this.accept(TokenType.CDC)) {\n                    // accept empty statements\n                    hasMatch = true;\n                    inRecovery = false;\n                }\n            } while (hasMatch);\n            if (this.peek(TokenType.EOF)) {\n                break;\n            }\n            if (!inRecovery) {\n                if (this.peek(TokenType.AtKeyword)) {\n                    this.markError(node, ParseError.UnknownAtRule);\n                }\n                else {\n                    this.markError(node, ParseError.RuleOrSelectorExpected);\n                }\n                inRecovery = true;\n            }\n            this.consumeToken();\n        } while (!this.peek(TokenType.EOF));\n        return this.finish(node);\n    };\n    Parser.prototype._parseStylesheetStart = function () {\n        return this._parseCharset();\n    };\n    Parser.prototype._parseStylesheetStatement = function (isNested) {\n        if (isNested === void 0) { isNested = false; }\n        if (this.peek(TokenType.AtKeyword)) {\n            return this._parseStylesheetAtStatement(isNested);\n        }\n        return this._parseRuleset(isNested);\n    };\n    Parser.prototype._parseStylesheetAtStatement = function (isNested) {\n        if (isNested === void 0) { isNested = false; }\n        return this._parseImport()\n            || this._parseMedia(isNested)\n            || this._parsePage()\n            || this._parseFontFace()\n            || this._parseKeyframe()\n            || this._parseSupports(isNested)\n            || this._parseViewPort()\n            || this._parseNamespace()\n            || this._parseDocument()\n            || this._parseUnknownAtRule();\n    };\n    Parser.prototype._tryParseRuleset = function (isNested) {\n        var mark = this.mark();\n        if (this._parseSelector(isNested)) {\n            while (this.accept(TokenType.Comma) && this._parseSelector(isNested)) {\n                // loop\n            }\n            if (this.accept(TokenType.CurlyL)) {\n                this.restoreAtMark(mark);\n                return this._parseRuleset(isNested);\n            }\n        }\n        this.restoreAtMark(mark);\n        return null;\n    };\n    Parser.prototype._parseRuleset = function (isNested) {\n        if (isNested === void 0) { isNested = false; }\n        var node = this.create(nodes.RuleSet);\n        var selectors = node.getSelectors();\n        if (!selectors.addChild(this._parseSelector(isNested))) {\n            return null;\n        }\n        while (this.accept(TokenType.Comma)) {\n            if (!selectors.addChild(this._parseSelector(isNested))) {\n                return this.finish(node, ParseError.SelectorExpected);\n            }\n        }\n        return this._parseBody(node, this._parseRuleSetDeclaration.bind(this));\n    };\n    Parser.prototype._parseRuleSetDeclarationAtStatement = function () {\n        return this._parseAtApply()\n            || this._parseUnknownAtRule();\n    };\n    Parser.prototype._parseRuleSetDeclaration = function () {\n        // https://www.w3.org/TR/css-syntax-3/#consume-a-list-of-declarations0\n        if (this.peek(TokenType.AtKeyword)) {\n            return this._parseRuleSetDeclarationAtStatement();\n        }\n        return this._tryParseCustomPropertyDeclaration()\n            || this._parseDeclaration();\n    };\n    /**\n     * Parses declarations like:\n     *   @apply --my-theme;\n     *\n     * Follows https://tabatkins.github.io/specs/css-apply-rule/#using\n     */\n    Parser.prototype._parseAtApply = function () {\n        if (!this.peekKeyword('@apply')) {\n            return null;\n        }\n        var node = this.create(nodes.AtApplyRule);\n        this.consumeToken();\n        if (!node.setIdentifier(this._parseIdent([nodes.ReferenceType.Variable]))) {\n            return this.finish(node, ParseError.IdentifierExpected);\n        }\n        return this.finish(node);\n    };\n    Parser.prototype._needsSemicolonAfter = function (node) {\n        switch (node.type) {\n            case nodes.NodeType.Keyframe:\n            case nodes.NodeType.ViewPort:\n            case nodes.NodeType.Media:\n            case nodes.NodeType.Ruleset:\n            case nodes.NodeType.Namespace:\n            case nodes.NodeType.If:\n            case nodes.NodeType.For:\n            case nodes.NodeType.Each:\n            case nodes.NodeType.While:\n            case nodes.NodeType.MixinDeclaration:\n            case nodes.NodeType.FunctionDeclaration:\n            case nodes.NodeType.MixinContentDeclaration:\n                return false;\n            case nodes.NodeType.ExtendsReference:\n            case nodes.NodeType.MixinContentReference:\n            case nodes.NodeType.ReturnStatement:\n            case nodes.NodeType.MediaQuery:\n            case nodes.NodeType.Debug:\n            case nodes.NodeType.Import:\n            case nodes.NodeType.AtApplyRule:\n            case nodes.NodeType.CustomPropertyDeclaration:\n                return true;\n            case nodes.NodeType.VariableDeclaration:\n                return node.needsSemicolon;\n            case nodes.NodeType.MixinReference:\n                return !node.getContent();\n            case nodes.NodeType.Declaration:\n                return !node.getNestedProperties();\n        }\n        return false;\n    };\n    Parser.prototype._parseDeclarations = function (parseDeclaration) {\n        var node = this.create(nodes.Declarations);\n        if (!this.accept(TokenType.CurlyL)) {\n            return null;\n        }\n        var decl = parseDeclaration();\n        while (node.addChild(decl)) {\n            if (this.peek(TokenType.CurlyR)) {\n                break;\n            }\n            if (this._needsSemicolonAfter(decl) && !this.accept(TokenType.SemiColon)) {\n                return this.finish(node, ParseError.SemiColonExpected, [TokenType.SemiColon, TokenType.CurlyR]);\n            }\n            // We accepted semicolon token. Link it to declaration.\n            if (decl && this.prevToken && this.prevToken.type === TokenType.SemiColon) {\n                decl.semicolonPosition = this.prevToken.offset;\n            }\n            while (this.accept(TokenType.SemiColon)) {\n                // accept empty statements\n            }\n            decl = parseDeclaration();\n        }\n        if (!this.accept(TokenType.CurlyR)) {\n            return this.finish(node, ParseError.RightCurlyExpected, [TokenType.CurlyR, TokenType.SemiColon]);\n        }\n        return this.finish(node);\n    };\n    Parser.prototype._parseBody = function (node, parseDeclaration) {\n        if (!node.setDeclarations(this._parseDeclarations(parseDeclaration))) {\n            return this.finish(node, ParseError.LeftCurlyExpected, [TokenType.CurlyR, TokenType.SemiColon]);\n        }\n        return this.finish(node);\n    };\n    Parser.prototype._parseSelector = function (isNested) {\n        var node = this.create(nodes.Selector);\n        var hasContent = false;\n        if (isNested) {\n            // nested selectors can start with a combinator\n            hasContent = node.addChild(this._parseCombinator());\n        }\n        while (node.addChild(this._parseSimpleSelector())) {\n            hasContent = true;\n            node.addChild(this._parseCombinator()); // optional\n        }\n        return hasContent ? this.finish(node) : null;\n    };\n    Parser.prototype._parseDeclaration = function (resyncStopTokens) {\n        var node = this.create(nodes.Declaration);\n        if (!node.setProperty(this._parseProperty())) {\n            return null;\n        }\n        if (!this.accept(TokenType.Colon)) {\n            var stopTokens = resyncStopTokens ? __spreadArrays(resyncStopTokens, [TokenType.SemiColon]) : [TokenType.SemiColon];\n            return this.finish(node, ParseError.ColonExpected, [TokenType.Colon], stopTokens);\n        }\n        if (this.prevToken) {\n            node.colonPosition = this.prevToken.offset;\n        }\n        if (!node.setValue(this._parseExpr())) {\n            return this.finish(node, ParseError.PropertyValueExpected);\n        }\n        node.addChild(this._parsePrio());\n        if (this.peek(TokenType.SemiColon)) {\n            node.semicolonPosition = this.token.offset; // not part of the declaration, but useful information for code assist\n        }\n        return this.finish(node);\n    };\n    Parser.prototype._tryParseCustomPropertyDeclaration = function () {\n        if (!this.peekRegExp(TokenType.Ident, /^--/)) {\n            return null;\n        }\n        var node = this.create(nodes.CustomPropertyDeclaration);\n        if (!node.setProperty(this._parseProperty())) {\n            return null;\n        }\n        if (!this.accept(TokenType.Colon)) {\n            return this.finish(node, ParseError.ColonExpected, [TokenType.Colon]);\n        }\n        if (this.prevToken) {\n            node.colonPosition = this.prevToken.offset;\n        }\n        var mark = this.mark();\n        if (this.peek(TokenType.CurlyL)) {\n            // try to parse it as nested declaration\n            var propertySet = this.create(nodes.CustomPropertySet);\n            var declarations = this._parseDeclarations(this._parseRuleSetDeclaration.bind(this));\n            if (propertySet.setDeclarations(declarations) && !declarations.isErroneous(true)) {\n                propertySet.addChild(this._parsePrio());\n                if (this.peek(TokenType.SemiColon)) {\n                    this.finish(propertySet);\n                    node.setPropertySet(propertySet);\n                    node.semicolonPosition = this.token.offset; // not part of the declaration, but useful information for code assist\n                    return this.finish(node);\n                }\n            }\n            this.restoreAtMark(mark);\n        }\n        // try tp parse as expression\n        var expression = this._parseExpr();\n        if (expression && !expression.isErroneous(true)) {\n            this._parsePrio();\n            if (this.peek(TokenType.SemiColon)) {\n                node.setValue(expression);\n                node.semicolonPosition = this.token.offset; // not part of the declaration, but useful information for code assist\n                return this.finish(node);\n            }\n        }\n        this.restoreAtMark(mark);\n        node.addChild(this._parseCustomPropertyValue());\n        node.addChild(this._parsePrio());\n        if (isDefined(node.colonPosition) && this.token.offset === node.colonPosition + 1) {\n            return this.finish(node, ParseError.PropertyValueExpected);\n        }\n        return this.finish(node);\n    };\n    /**\n     * Parse custom property values.\n     *\n     * Based on https://www.w3.org/TR/css-variables/#syntax\n     *\n     * This code is somewhat unusual, as the allowed syntax is incredibly broad,\n     * parsing almost any sequence of tokens, save for a small set of exceptions.\n     * Unbalanced delimitors, invalid tokens, and declaration\n     * terminators like semicolons and !important directives (when not inside\n     * of delimitors).\n     */\n    Parser.prototype._parseCustomPropertyValue = function () {\n        var node = this.create(nodes.Node);\n        var isTopLevel = function () { return curlyDepth === 0 && parensDepth === 0 && bracketsDepth === 0; };\n        var curlyDepth = 0;\n        var parensDepth = 0;\n        var bracketsDepth = 0;\n        done: while (true) {\n            switch (this.token.type) {\n                case TokenType.SemiColon:\n                    // A semicolon only ends things if we're not inside a delimitor.\n                    if (isTopLevel()) {\n                        break done;\n                    }\n                    break;\n                case TokenType.Exclamation:\n                    // An exclamation ends the value if we're not inside delims.\n                    if (isTopLevel()) {\n                        break done;\n                    }\n                    break;\n                case TokenType.CurlyL:\n                    curlyDepth++;\n                    break;\n                case TokenType.CurlyR:\n                    curlyDepth--;\n                    if (curlyDepth < 0) {\n                        // The property value has been terminated without a semicolon, and\n                        // this is the last declaration in the ruleset.\n                        if (parensDepth === 0 && bracketsDepth === 0) {\n                            break done;\n                        }\n                        return this.finish(node, ParseError.LeftCurlyExpected);\n                    }\n                    break;\n                case TokenType.ParenthesisL:\n                    parensDepth++;\n                    break;\n                case TokenType.ParenthesisR:\n                    parensDepth--;\n                    if (parensDepth < 0) {\n                        return this.finish(node, ParseError.LeftParenthesisExpected);\n                    }\n                    break;\n                case TokenType.BracketL:\n                    bracketsDepth++;\n                    break;\n                case TokenType.BracketR:\n                    bracketsDepth--;\n                    if (bracketsDepth < 0) {\n                        return this.finish(node, ParseError.LeftSquareBracketExpected);\n                    }\n                    break;\n                case TokenType.BadString: // fall through\n                    break done;\n                case TokenType.EOF:\n                    // We shouldn't have reached the end of input, something is\n                    // unterminated.\n                    var error = ParseError.RightCurlyExpected;\n                    if (bracketsDepth > 0) {\n                        error = ParseError.RightSquareBracketExpected;\n                    }\n                    else if (parensDepth > 0) {\n                        error = ParseError.RightParenthesisExpected;\n                    }\n                    return this.finish(node, error);\n            }\n            this.consumeToken();\n        }\n        return this.finish(node);\n    };\n    Parser.prototype._tryToParseDeclaration = function () {\n        var mark = this.mark();\n        if (this._parseProperty() && this.accept(TokenType.Colon)) {\n            // looks like a declaration, go ahead\n            this.restoreAtMark(mark);\n            return this._parseDeclaration();\n        }\n        this.restoreAtMark(mark);\n        return null;\n    };\n    Parser.prototype._parseProperty = function () {\n        var node = this.create(nodes.Property);\n        var mark = this.mark();\n        if (this.acceptDelim('*') || this.acceptDelim('_')) {\n            // support for  IE 5.x, 6 and 7 star hack: see http://en.wikipedia.org/wiki/CSS_filter#Star_hack\n            if (this.hasWhitespace()) {\n                this.restoreAtMark(mark);\n                return null;\n            }\n        }\n        if (node.setIdentifier(this._parsePropertyIdentifier())) {\n            return this.finish(node);\n        }\n        return null;\n    };\n    Parser.prototype._parsePropertyIdentifier = function () {\n        return this._parseIdent();\n    };\n    Parser.prototype._parseCharset = function () {\n        if (!this.peek(TokenType.Charset)) {\n            return null;\n        }\n        var node = this.create(nodes.Node);\n        this.consumeToken(); // charset\n        if (!this.accept(TokenType.String)) {\n            return this.finish(node, ParseError.IdentifierExpected);\n        }\n        if (!this.accept(TokenType.SemiColon)) {\n            return this.finish(node, ParseError.SemiColonExpected);\n        }\n        return this.finish(node);\n    };\n    Parser.prototype._parseImport = function () {\n        if (!this.peekKeyword('@import')) {\n            return null;\n        }\n        var node = this.create(nodes.Import);\n        this.consumeToken(); // @import\n        if (!node.addChild(this._parseURILiteral()) && !node.addChild(this._parseStringLiteral())) {\n            return this.finish(node, ParseError.URIOrStringExpected);\n        }\n        if (!this.peek(TokenType.SemiColon) && !this.peek(TokenType.EOF)) {\n            node.setMedialist(this._parseMediaQueryList());\n        }\n        return this.finish(node);\n    };\n    Parser.prototype._parseNamespace = function () {\n        // http://www.w3.org/TR/css3-namespace/\n        // namespace  : NAMESPACE_SYM S* [IDENT S*]? [STRING|URI] S* ';' S*\n        if (!this.peekKeyword('@namespace')) {\n            return null;\n        }\n        var node = this.create(nodes.Namespace);\n        this.consumeToken(); // @namespace\n        if (!node.addChild(this._parseURILiteral())) { // url literal also starts with ident\n            node.addChild(this._parseIdent()); // optional prefix\n            if (!node.addChild(this._parseURILiteral()) && !node.addChild(this._parseStringLiteral())) {\n                return this.finish(node, ParseError.URIExpected, [TokenType.SemiColon]);\n            }\n        }\n        if (!this.accept(TokenType.SemiColon)) {\n            return this.finish(node, ParseError.SemiColonExpected);\n        }\n        return this.finish(node);\n    };\n    Parser.prototype._parseFontFace = function () {\n        if (!this.peekKeyword('@font-face')) {\n            return null;\n        }\n        var node = this.create(nodes.FontFace);\n        this.consumeToken(); // @font-face\n        return this._parseBody(node, this._parseRuleSetDeclaration.bind(this));\n    };\n    Parser.prototype._parseViewPort = function () {\n        if (!this.peekKeyword('@-ms-viewport') &&\n            !this.peekKeyword('@-o-viewport') &&\n            !this.peekKeyword('@viewport')) {\n            return null;\n        }\n        var node = this.create(nodes.ViewPort);\n        this.consumeToken(); // @-ms-viewport\n        return this._parseBody(node, this._parseRuleSetDeclaration.bind(this));\n    };\n    Parser.prototype._parseKeyframe = function () {\n        if (!this.peekRegExp(TokenType.AtKeyword, this.keyframeRegex)) {\n            return null;\n        }\n        var node = this.create(nodes.Keyframe);\n        var atNode = this.create(nodes.Node);\n        this.consumeToken(); // atkeyword\n        node.setKeyword(this.finish(atNode));\n        if (atNode.matches('@-ms-keyframes')) { // -ms-keyframes never existed\n            this.markError(atNode, ParseError.UnknownKeyword);\n        }\n        if (!node.setIdentifier(this._parseKeyframeIdent())) {\n            return this.finish(node, ParseError.IdentifierExpected, [TokenType.CurlyR]);\n        }\n        return this._parseBody(node, this._parseKeyframeSelector.bind(this));\n    };\n    Parser.prototype._parseKeyframeIdent = function () {\n        return this._parseIdent([nodes.ReferenceType.Keyframe]);\n    };\n    Parser.prototype._parseKeyframeSelector = function () {\n        var node = this.create(nodes.KeyframeSelector);\n        if (!node.addChild(this._parseIdent()) && !this.accept(TokenType.Percentage)) {\n            return null;\n        }\n        while (this.accept(TokenType.Comma)) {\n            if (!node.addChild(this._parseIdent()) && !this.accept(TokenType.Percentage)) {\n                return this.finish(node, ParseError.PercentageExpected);\n            }\n        }\n        return this._parseBody(node, this._parseRuleSetDeclaration.bind(this));\n    };\n    Parser.prototype._tryParseKeyframeSelector = function () {\n        var node = this.create(nodes.KeyframeSelector);\n        var pos = this.mark();\n        if (!node.addChild(this._parseIdent()) && !this.accept(TokenType.Percentage)) {\n            return null;\n        }\n        while (this.accept(TokenType.Comma)) {\n            if (!node.addChild(this._parseIdent()) && !this.accept(TokenType.Percentage)) {\n                this.restoreAtMark(pos);\n                return null;\n            }\n        }\n        if (!this.peek(TokenType.CurlyL)) {\n            this.restoreAtMark(pos);\n            return null;\n        }\n        return this._parseBody(node, this._parseRuleSetDeclaration.bind(this));\n    };\n    Parser.prototype._parseSupports = function (isNested) {\n        if (isNested === void 0) { isNested = false; }\n        // SUPPORTS_SYM S* supports_condition '{' S* ruleset* '}' S*\n        if (!this.peekKeyword('@supports')) {\n            return null;\n        }\n        var node = this.create(nodes.Supports);\n        this.consumeToken(); // @supports\n        node.addChild(this._parseSupportsCondition());\n        return this._parseBody(node, this._parseSupportsDeclaration.bind(this, isNested));\n    };\n    Parser.prototype._parseSupportsDeclaration = function (isNested) {\n        if (isNested === void 0) { isNested = false; }\n        if (isNested) {\n            // if nested, the body can contain rulesets, but also declarations\n            return this._tryParseRuleset(true)\n                || this._tryToParseDeclaration()\n                || this._parseStylesheetStatement(true);\n        }\n        return this._parseStylesheetStatement(false);\n    };\n    Parser.prototype._parseSupportsCondition = function () {\n        // supports_condition : supports_negation | supports_conjunction | supports_disjunction | supports_condition_in_parens ;\n        // supports_condition_in_parens: ( '(' S* supports_condition S* ')' ) | supports_declaration_condition | general_enclosed ;\n        // supports_negation: NOT S+ supports_condition_in_parens ;\n        // supports_conjunction: supports_condition_in_parens ( S+ AND S+ supports_condition_in_parens )+;\n        // supports_disjunction: supports_condition_in_parens ( S+ OR S+ supports_condition_in_parens )+;\n        // supports_declaration_condition: '(' S* declaration ')';\n        // general_enclosed: ( FUNCTION | '(' ) ( any | unused )* ')' ;\n        var node = this.create(nodes.SupportsCondition);\n        if (this.acceptIdent('not')) {\n            node.addChild(this._parseSupportsConditionInParens());\n        }\n        else {\n            node.addChild(this._parseSupportsConditionInParens());\n            if (this.peekRegExp(TokenType.Ident, /^(and|or)$/i)) {\n                var text = this.token.text.toLowerCase();\n                while (this.acceptIdent(text)) {\n                    node.addChild(this._parseSupportsConditionInParens());\n                }\n            }\n        }\n        return this.finish(node);\n    };\n    Parser.prototype._parseSupportsConditionInParens = function () {\n        var node = this.create(nodes.SupportsCondition);\n        if (this.accept(TokenType.ParenthesisL)) {\n            if (this.prevToken) {\n                node.lParent = this.prevToken.offset;\n            }\n            if (!node.addChild(this._tryToParseDeclaration())) {\n                if (!this._parseSupportsCondition()) {\n                    return this.finish(node, ParseError.ConditionExpected);\n                }\n            }\n            if (!this.accept(TokenType.ParenthesisR)) {\n                return this.finish(node, ParseError.RightParenthesisExpected, [TokenType.ParenthesisR], []);\n            }\n            if (this.prevToken) {\n                node.rParent = this.prevToken.offset;\n            }\n            return this.finish(node);\n        }\n        else if (this.peek(TokenType.Ident)) {\n            var pos = this.mark();\n            this.consumeToken();\n            if (!this.hasWhitespace() && this.accept(TokenType.ParenthesisL)) {\n                var openParentCount = 1;\n                while (this.token.type !== TokenType.EOF && openParentCount !== 0) {\n                    if (this.token.type === TokenType.ParenthesisL) {\n                        openParentCount++;\n                    }\n                    else if (this.token.type === TokenType.ParenthesisR) {\n                        openParentCount--;\n                    }\n                    this.consumeToken();\n                }\n                return this.finish(node);\n            }\n            else {\n                this.restoreAtMark(pos);\n            }\n        }\n        return this.finish(node, ParseError.LeftParenthesisExpected, [], [TokenType.ParenthesisL]);\n    };\n    Parser.prototype._parseMediaDeclaration = function (isNested) {\n        if (isNested === void 0) { isNested = false; }\n        if (isNested) {\n            // if nested, the body can contain rulesets, but also declarations\n            return this._tryParseRuleset(true)\n                || this._tryToParseDeclaration()\n                || this._parseStylesheetStatement(true);\n        }\n        return this._parseStylesheetStatement(false);\n    };\n    Parser.prototype._parseMedia = function (isNested) {\n        if (isNested === void 0) { isNested = false; }\n        // MEDIA_SYM S* media_query_list '{' S* ruleset* '}' S*\n        // media_query_list : S* [media_query [ ',' S* media_query ]* ]?\n        if (!this.peekKeyword('@media')) {\n            return null;\n        }\n        var node = this.create(nodes.Media);\n        this.consumeToken(); // @media\n        if (!node.addChild(this._parseMediaQueryList())) {\n            return this.finish(node, ParseError.MediaQueryExpected);\n        }\n        return this._parseBody(node, this._parseMediaDeclaration.bind(this, isNested));\n    };\n    Parser.prototype._parseMediaQueryList = function () {\n        var node = this.create(nodes.Medialist);\n        if (!node.addChild(this._parseMediaQuery([TokenType.CurlyL]))) {\n            return this.finish(node, ParseError.MediaQueryExpected);\n        }\n        while (this.accept(TokenType.Comma)) {\n            if (!node.addChild(this._parseMediaQuery([TokenType.CurlyL]))) {\n                return this.finish(node, ParseError.MediaQueryExpected);\n            }\n        }\n        return this.finish(node);\n    };\n    Parser.prototype._parseMediaQuery = function (resyncStopToken) {\n        // http://www.w3.org/TR/css3-mediaqueries/\n        // media_query : [ONLY | NOT]? S* IDENT S* [ AND S* expression ]* | expression [ AND S* expression ]*\n        // expression : '(' S* IDENT S* [ ':' S* expr ]? ')' S*\n        var node = this.create(nodes.MediaQuery);\n        var parseExpression = true;\n        var hasContent = false;\n        if (!this.peek(TokenType.ParenthesisL)) {\n            if (this.acceptIdent('only') || this.acceptIdent('not')) {\n                // optional\n            }\n            if (!node.addChild(this._parseIdent())) {\n                return null;\n            }\n            hasContent = true;\n            parseExpression = this.acceptIdent('and');\n        }\n        while (parseExpression) {\n            // Allow short-circuting for other language constructs.\n            if (node.addChild(this._parseMediaContentStart())) {\n                parseExpression = this.acceptIdent('and');\n                continue;\n            }\n            if (!this.accept(TokenType.ParenthesisL)) {\n                if (hasContent) {\n                    return this.finish(node, ParseError.LeftParenthesisExpected, [], resyncStopToken);\n                }\n                return null;\n            }\n            if (!node.addChild(this._parseMediaFeatureName())) {\n                return this.finish(node, ParseError.IdentifierExpected, [], resyncStopToken);\n            }\n            if (this.accept(TokenType.Colon)) {\n                if (!node.addChild(this._parseExpr())) {\n                    return this.finish(node, ParseError.TermExpected, [], resyncStopToken);\n                }\n            }\n            if (!this.accept(TokenType.ParenthesisR)) {\n                return this.finish(node, ParseError.RightParenthesisExpected, [], resyncStopToken);\n            }\n            parseExpression = this.acceptIdent('and');\n        }\n        return this.finish(node);\n    };\n    Parser.prototype._parseMediaContentStart = function () {\n        return null;\n    };\n    Parser.prototype._parseMediaFeatureName = function () {\n        return this._parseIdent();\n    };\n    Parser.prototype._parseMedium = function () {\n        var node = this.create(nodes.Node);\n        if (node.addChild(this._parseIdent())) {\n            return this.finish(node);\n        }\n        else {\n            return null;\n        }\n    };\n    Parser.prototype._parsePageDeclaration = function () {\n        return this._parsePageMarginBox() || this._parseRuleSetDeclaration();\n    };\n    Parser.prototype._parsePage = function () {\n        // http://www.w3.org/TR/css3-page/\n        // page_rule : PAGE_SYM S* page_selector_list '{' S* page_body '}' S*\n        // page_body :  /* Can be empty */ declaration? [ ';' S* page_body ]? | page_margin_box page_body\n        if (!this.peekKeyword('@page')) {\n            return null;\n        }\n        var node = this.create(nodes.Page);\n        this.consumeToken();\n        if (node.addChild(this._parsePageSelector())) {\n            while (this.accept(TokenType.Comma)) {\n                if (!node.addChild(this._parsePageSelector())) {\n                    return this.finish(node, ParseError.IdentifierExpected);\n                }\n            }\n        }\n        return this._parseBody(node, this._parsePageDeclaration.bind(this));\n    };\n    Parser.prototype._parsePageMarginBox = function () {\n        // page_margin_box :  margin_sym S* '{' S* declaration? [ ';' S* declaration? ]* '}' S*\n        if (!this.peek(TokenType.AtKeyword)) {\n            return null;\n        }\n        var node = this.create(nodes.PageBoxMarginBox);\n        if (!this.acceptOneKeyword(languageFacts.pageBoxDirectives)) {\n            this.markError(node, ParseError.UnknownAtRule, [], [TokenType.CurlyL]);\n        }\n        return this._parseBody(node, this._parseRuleSetDeclaration.bind(this));\n    };\n    Parser.prototype._parsePageSelector = function () {\n        // page_selector : pseudo_page+ | IDENT pseudo_page*\n        // pseudo_page :  ':' [ \"left\" | \"right\" | \"first\" | \"blank\" ];\n        if (!this.peek(TokenType.Ident) && !this.peek(TokenType.Colon)) {\n            return null;\n        }\n        var node = this.create(nodes.Node);\n        node.addChild(this._parseIdent()); // optional ident\n        if (this.accept(TokenType.Colon)) {\n            if (!node.addChild(this._parseIdent())) { // optional ident\n                return this.finish(node, ParseError.IdentifierExpected);\n            }\n        }\n        return this.finish(node);\n    };\n    Parser.prototype._parseDocument = function () {\n        // -moz-document is experimental but has been pushed to css4\n        if (!this.peekKeyword('@-moz-document')) {\n            return null;\n        }\n        var node = this.create(nodes.Document);\n        this.consumeToken(); // @-moz-document\n        this.resync([], [TokenType.CurlyL]); // ignore all the rules\n        return this._parseBody(node, this._parseStylesheetStatement.bind(this));\n    };\n    // https://www.w3.org/TR/css-syntax-3/#consume-an-at-rule\n    Parser.prototype._parseUnknownAtRule = function () {\n        if (!this.peek(TokenType.AtKeyword)) {\n            return null;\n        }\n        var node = this.create(nodes.UnknownAtRule);\n        node.addChild(this._parseUnknownAtRuleName());\n        var isTopLevel = function () { return curlyDepth === 0 && parensDepth === 0 && bracketsDepth === 0; };\n        var curlyLCount = 0;\n        var curlyDepth = 0;\n        var parensDepth = 0;\n        var bracketsDepth = 0;\n        done: while (true) {\n            switch (this.token.type) {\n                case TokenType.SemiColon:\n                    if (isTopLevel()) {\n                        break done;\n                    }\n                    break;\n                case TokenType.EOF:\n                    if (curlyDepth > 0) {\n                        return this.finish(node, ParseError.RightCurlyExpected);\n                    }\n                    else if (bracketsDepth > 0) {\n                        return this.finish(node, ParseError.RightSquareBracketExpected);\n                    }\n                    else if (parensDepth > 0) {\n                        return this.finish(node, ParseError.RightParenthesisExpected);\n                    }\n                    else {\n                        return this.finish(node);\n                    }\n                case TokenType.CurlyL:\n                    curlyLCount++;\n                    curlyDepth++;\n                    break;\n                case TokenType.CurlyR:\n                    curlyDepth--;\n                    // End of at-rule, consume CurlyR and return node\n                    if (curlyLCount > 0 && curlyDepth === 0) {\n                        this.consumeToken();\n                        if (bracketsDepth > 0) {\n                            return this.finish(node, ParseError.RightSquareBracketExpected);\n                        }\n                        else if (parensDepth > 0) {\n                            return this.finish(node, ParseError.RightParenthesisExpected);\n                        }\n                        break done;\n                    }\n                    if (curlyDepth < 0) {\n                        // The property value has been terminated without a semicolon, and\n                        // this is the last declaration in the ruleset.\n                        if (parensDepth === 0 && bracketsDepth === 0) {\n                            break done;\n                        }\n                        return this.finish(node, ParseError.LeftCurlyExpected);\n                    }\n                    break;\n                case TokenType.ParenthesisL:\n                    parensDepth++;\n                    break;\n                case TokenType.ParenthesisR:\n                    parensDepth--;\n                    if (parensDepth < 0) {\n                        return this.finish(node, ParseError.LeftParenthesisExpected);\n                    }\n                    break;\n                case TokenType.BracketL:\n                    bracketsDepth++;\n                    break;\n                case TokenType.BracketR:\n                    bracketsDepth--;\n                    if (bracketsDepth < 0) {\n                        return this.finish(node, ParseError.LeftSquareBracketExpected);\n                    }\n                    break;\n            }\n            this.consumeToken();\n        }\n        return node;\n    };\n    Parser.prototype._parseUnknownAtRuleName = function () {\n        var node = this.create(nodes.Node);\n        if (this.accept(TokenType.AtKeyword)) {\n            return this.finish(node);\n        }\n        return node;\n    };\n    Parser.prototype._parseOperator = function () {\n        // these are operators for binary expressions\n        if (this.peekDelim('/') ||\n            this.peekDelim('*') ||\n            this.peekDelim('+') ||\n            this.peekDelim('-') ||\n            this.peek(TokenType.Dashmatch) ||\n            this.peek(TokenType.Includes) ||\n            this.peek(TokenType.SubstringOperator) ||\n            this.peek(TokenType.PrefixOperator) ||\n            this.peek(TokenType.SuffixOperator) ||\n            this.peekDelim('=')) { // doesn't stick to the standard here\n            var node = this.createNode(nodes.NodeType.Operator);\n            this.consumeToken();\n            return this.finish(node);\n        }\n        else {\n            return null;\n        }\n    };\n    Parser.prototype._parseUnaryOperator = function () {\n        if (!this.peekDelim('+') && !this.peekDelim('-')) {\n            return null;\n        }\n        var node = this.create(nodes.Node);\n        this.consumeToken();\n        return this.finish(node);\n    };\n    Parser.prototype._parseCombinator = function () {\n        if (this.peekDelim('>')) {\n            var node = this.create(nodes.Node);\n            this.consumeToken();\n            var mark = this.mark();\n            if (!this.hasWhitespace() && this.acceptDelim('>')) {\n                if (!this.hasWhitespace() && this.acceptDelim('>')) {\n                    node.type = nodes.NodeType.SelectorCombinatorShadowPiercingDescendant;\n                    return this.finish(node);\n                }\n                this.restoreAtMark(mark);\n            }\n            node.type = nodes.NodeType.SelectorCombinatorParent;\n            return this.finish(node);\n        }\n        else if (this.peekDelim('+')) {\n            var node = this.create(nodes.Node);\n            this.consumeToken();\n            node.type = nodes.NodeType.SelectorCombinatorSibling;\n            return this.finish(node);\n        }\n        else if (this.peekDelim('~')) {\n            var node = this.create(nodes.Node);\n            this.consumeToken();\n            node.type = nodes.NodeType.SelectorCombinatorAllSiblings;\n            return this.finish(node);\n        }\n        else if (this.peekDelim('/')) {\n            var node = this.create(nodes.Node);\n            this.consumeToken();\n            var mark = this.mark();\n            if (!this.hasWhitespace() && this.acceptIdent('deep') && !this.hasWhitespace() && this.acceptDelim('/')) {\n                node.type = nodes.NodeType.SelectorCombinatorShadowPiercingDescendant;\n                return this.finish(node);\n            }\n            this.restoreAtMark(mark);\n        }\n        return null;\n    };\n    Parser.prototype._parseSimpleSelector = function () {\n        // simple_selector\n        //  : element_name [ HASH | class | attrib | pseudo ]* | [ HASH | class | attrib | pseudo ]+ ;\n        var node = this.create(nodes.SimpleSelector);\n        var c = 0;\n        if (node.addChild(this._parseElementName())) {\n            c++;\n        }\n        while ((c === 0 || !this.hasWhitespace()) && node.addChild(this._parseSimpleSelectorBody())) {\n            c++;\n        }\n        return c > 0 ? this.finish(node) : null;\n    };\n    Parser.prototype._parseSimpleSelectorBody = function () {\n        return this._parsePseudo() || this._parseHash() || this._parseClass() || this._parseAttrib();\n    };\n    Parser.prototype._parseSelectorIdent = function () {\n        return this._parseIdent();\n    };\n    Parser.prototype._parseHash = function () {\n        if (!this.peek(TokenType.Hash) && !this.peekDelim('#')) {\n            return null;\n        }\n        var node = this.createNode(nodes.NodeType.IdentifierSelector);\n        if (this.acceptDelim('#')) {\n            if (this.hasWhitespace() || !node.addChild(this._parseSelectorIdent())) {\n                return this.finish(node, ParseError.IdentifierExpected);\n            }\n        }\n        else {\n            this.consumeToken(); // TokenType.Hash\n        }\n        return this.finish(node);\n    };\n    Parser.prototype._parseClass = function () {\n        // class: '.' IDENT ;\n        if (!this.peekDelim('.')) {\n            return null;\n        }\n        var node = this.createNode(nodes.NodeType.ClassSelector);\n        this.consumeToken(); // '.'\n        if (this.hasWhitespace() || !node.addChild(this._parseSelectorIdent())) {\n            return this.finish(node, ParseError.IdentifierExpected);\n        }\n        return this.finish(node);\n    };\n    Parser.prototype._parseElementName = function () {\n        // element_name: (ns? '|')? IDENT | '*';\n        var pos = this.mark();\n        var node = this.createNode(nodes.NodeType.ElementNameSelector);\n        node.addChild(this._parseNamespacePrefix());\n        if (!node.addChild(this._parseSelectorIdent()) && !this.acceptDelim('*')) {\n            this.restoreAtMark(pos);\n            return null;\n        }\n        return this.finish(node);\n    };\n    Parser.prototype._parseNamespacePrefix = function () {\n        var pos = this.mark();\n        var node = this.createNode(nodes.NodeType.NamespacePrefix);\n        if (!node.addChild(this._parseIdent()) && !this.acceptDelim('*')) {\n            // ns is optional\n        }\n        if (!this.acceptDelim('|')) {\n            this.restoreAtMark(pos);\n            return null;\n        }\n        return this.finish(node);\n    };\n    Parser.prototype._parseAttrib = function () {\n        // attrib : '[' S* IDENT S* [ [ '=' | INCLUDES | DASHMATCH ] S*   [ IDENT | STRING ] S* ]? ']'\n        if (!this.peek(TokenType.BracketL)) {\n            return null;\n        }\n        var node = this.create(nodes.AttributeSelector);\n        this.consumeToken(); // BracketL\n        // Optional attrib namespace\n        node.setNamespacePrefix(this._parseNamespacePrefix());\n        if (!node.setIdentifier(this._parseIdent())) {\n            return this.finish(node, ParseError.IdentifierExpected);\n        }\n        if (node.setOperator(this._parseOperator())) {\n            node.setValue(this._parseBinaryExpr());\n            this.acceptIdent('i'); // case insensitive matching\n        }\n        if (!this.accept(TokenType.BracketR)) {\n            return this.finish(node, ParseError.RightSquareBracketExpected);\n        }\n        return this.finish(node);\n    };\n    Parser.prototype._parsePseudo = function () {\n        var _this = this;\n        // pseudo: ':' [ IDENT | FUNCTION S* [IDENT S*]? ')' ]\n        var node = this._tryParsePseudoIdentifier();\n        if (node) {\n            if (!this.hasWhitespace() && this.accept(TokenType.ParenthesisL)) {\n                var tryAsSelector = function () {\n                    var selectors = _this.create(nodes.Node);\n                    if (!selectors.addChild(_this._parseSelector(false))) {\n                        return null;\n                    }\n                    while (_this.accept(TokenType.Comma) && selectors.addChild(_this._parseSelector(false))) {\n                        // loop\n                    }\n                    if (_this.peek(TokenType.ParenthesisR)) {\n                        return _this.finish(selectors);\n                    }\n                    return null;\n                };\n                node.addChild(this.try(tryAsSelector) || this._parseBinaryExpr());\n                if (!this.accept(TokenType.ParenthesisR)) {\n                    return this.finish(node, ParseError.RightParenthesisExpected);\n                }\n            }\n            return this.finish(node);\n        }\n        return null;\n    };\n    Parser.prototype._tryParsePseudoIdentifier = function () {\n        if (!this.peek(TokenType.Colon)) {\n            return null;\n        }\n        var pos = this.mark();\n        var node = this.createNode(nodes.NodeType.PseudoSelector);\n        this.consumeToken(); // Colon\n        if (this.hasWhitespace()) {\n            this.restoreAtMark(pos);\n            return null;\n        }\n        // optional, support ::\n        if (this.accept(TokenType.Colon) && this.hasWhitespace()) {\n            this.markError(node, ParseError.IdentifierExpected);\n        }\n        if (!node.addChild(this._parseIdent())) {\n            this.markError(node, ParseError.IdentifierExpected);\n        }\n        return node;\n    };\n    Parser.prototype._tryParsePrio = function () {\n        var mark = this.mark();\n        var prio = this._parsePrio();\n        if (prio) {\n            return prio;\n        }\n        this.restoreAtMark(mark);\n        return null;\n    };\n    Parser.prototype._parsePrio = function () {\n        if (!this.peek(TokenType.Exclamation)) {\n            return null;\n        }\n        var node = this.createNode(nodes.NodeType.Prio);\n        if (this.accept(TokenType.Exclamation) && this.acceptIdent('important')) {\n            return this.finish(node);\n        }\n        return null;\n    };\n    Parser.prototype._parseExpr = function (stopOnComma) {\n        if (stopOnComma === void 0) { stopOnComma = false; }\n        var node = this.create(nodes.Expression);\n        if (!node.addChild(this._parseBinaryExpr())) {\n            return null;\n        }\n        while (true) {\n            if (this.peek(TokenType.Comma)) { // optional\n                if (stopOnComma) {\n                    return this.finish(node);\n                }\n                this.consumeToken();\n            }\n            if (!node.addChild(this._parseBinaryExpr())) {\n                break;\n            }\n        }\n        return this.finish(node);\n    };\n    Parser.prototype._parseNamedLine = function () {\n        // https://www.w3.org/TR/css-grid-1/#named-lines\n        if (!this.peek(TokenType.BracketL)) {\n            return null;\n        }\n        var node = this.createNode(nodes.NodeType.GridLine);\n        this.consumeToken();\n        while (node.addChild(this._parseIdent())) {\n            // repeat\n        }\n        if (!this.accept(TokenType.BracketR)) {\n            return this.finish(node, ParseError.RightSquareBracketExpected);\n        }\n        return this.finish(node);\n    };\n    Parser.prototype._parseBinaryExpr = function (preparsedLeft, preparsedOper) {\n        var node = this.create(nodes.BinaryExpression);\n        if (!node.setLeft((preparsedLeft || this._parseTerm()))) {\n            return null;\n        }\n        if (!node.setOperator(preparsedOper || this._parseOperator())) {\n            return this.finish(node);\n        }\n        if (!node.setRight(this._parseTerm())) {\n            return this.finish(node, ParseError.TermExpected);\n        }\n        // things needed for multiple binary expressions\n        node = this.finish(node);\n        var operator = this._parseOperator();\n        if (operator) {\n            node = this._parseBinaryExpr(node, operator);\n        }\n        return this.finish(node);\n    };\n    Parser.prototype._parseTerm = function () {\n        var node = this.create(nodes.Term);\n        node.setOperator(this._parseUnaryOperator()); // optional\n        if (node.setExpression(this._parseTermExpression())) {\n            return this.finish(node);\n        }\n        return null;\n    };\n    Parser.prototype._parseTermExpression = function () {\n        return this._parseURILiteral() || // url before function\n            this._parseFunction() || // function before ident\n            this._parseIdent() ||\n            this._parseStringLiteral() ||\n            this._parseNumeric() ||\n            this._parseHexColor() ||\n            this._parseOperation() ||\n            this._parseNamedLine();\n    };\n    Parser.prototype._parseOperation = function () {\n        if (!this.peek(TokenType.ParenthesisL)) {\n            return null;\n        }\n        var node = this.create(nodes.Node);\n        this.consumeToken(); // ParenthesisL\n        node.addChild(this._parseExpr());\n        if (!this.accept(TokenType.ParenthesisR)) {\n            return this.finish(node, ParseError.RightParenthesisExpected);\n        }\n        return this.finish(node);\n    };\n    Parser.prototype._parseNumeric = function () {\n        if (this.peek(TokenType.Num) ||\n            this.peek(TokenType.Percentage) ||\n            this.peek(TokenType.Resolution) ||\n            this.peek(TokenType.Length) ||\n            this.peek(TokenType.EMS) ||\n            this.peek(TokenType.EXS) ||\n            this.peek(TokenType.Angle) ||\n            this.peek(TokenType.Time) ||\n            this.peek(TokenType.Dimension) ||\n            this.peek(TokenType.Freq)) {\n            var node = this.create(nodes.NumericValue);\n            this.consumeToken();\n            return this.finish(node);\n        }\n        return null;\n    };\n    Parser.prototype._parseStringLiteral = function () {\n        if (!this.peek(TokenType.String) && !this.peek(TokenType.BadString)) {\n            return null;\n        }\n        var node = this.createNode(nodes.NodeType.StringLiteral);\n        this.consumeToken();\n        return this.finish(node);\n    };\n    Parser.prototype._parseURILiteral = function () {\n        if (!this.peekRegExp(TokenType.Ident, /^url(-prefix)?$/i)) {\n            return null;\n        }\n        var pos = this.mark();\n        var node = this.createNode(nodes.NodeType.URILiteral);\n        this.accept(TokenType.Ident);\n        if (this.hasWhitespace() || !this.peek(TokenType.ParenthesisL)) {\n            this.restoreAtMark(pos);\n            return null;\n        }\n        this.scanner.inURL = true;\n        this.consumeToken(); // consume ()\n        node.addChild(this._parseURLArgument()); // argument is optional\n        this.scanner.inURL = false;\n        if (!this.accept(TokenType.ParenthesisR)) {\n            return this.finish(node, ParseError.RightParenthesisExpected);\n        }\n        return this.finish(node);\n    };\n    Parser.prototype._parseURLArgument = function () {\n        var node = this.create(nodes.Node);\n        if (!this.accept(TokenType.String) && !this.accept(TokenType.BadString) && !this.acceptUnquotedString()) {\n            return null;\n        }\n        return this.finish(node);\n    };\n    Parser.prototype._parseIdent = function (referenceTypes) {\n        if (!this.peek(TokenType.Ident)) {\n            return null;\n        }\n        var node = this.create(nodes.Identifier);\n        if (referenceTypes) {\n            node.referenceTypes = referenceTypes;\n        }\n        node.isCustomProperty = this.peekRegExp(TokenType.Ident, /^--/);\n        this.consumeToken();\n        return this.finish(node);\n    };\n    Parser.prototype._parseFunction = function () {\n        var pos = this.mark();\n        var node = this.create(nodes.Function);\n        if (!node.setIdentifier(this._parseFunctionIdentifier())) {\n            return null;\n        }\n        if (this.hasWhitespace() || !this.accept(TokenType.ParenthesisL)) {\n            this.restoreAtMark(pos);\n            return null;\n        }\n        if (node.getArguments().addChild(this._parseFunctionArgument())) {\n            while (this.accept(TokenType.Comma)) {\n                if (this.peek(TokenType.ParenthesisR)) {\n                    break;\n                }\n                if (!node.getArguments().addChild(this._parseFunctionArgument())) {\n                    this.markError(node, ParseError.ExpressionExpected);\n                }\n            }\n        }\n        if (!this.accept(TokenType.ParenthesisR)) {\n            return this.finish(node, ParseError.RightParenthesisExpected);\n        }\n        return this.finish(node);\n    };\n    Parser.prototype._parseFunctionIdentifier = function () {\n        if (!this.peek(TokenType.Ident)) {\n            return null;\n        }\n        var node = this.create(nodes.Identifier);\n        node.referenceTypes = [nodes.ReferenceType.Function];\n        if (this.acceptIdent('progid')) {\n            // support for IE7 specific filters: 'progid:DXImageTransform.Microsoft.MotionBlur(strength=13, direction=310)'\n            if (this.accept(TokenType.Colon)) {\n                while (this.accept(TokenType.Ident) && this.acceptDelim('.')) {\n                    // loop\n                }\n            }\n            return this.finish(node);\n        }\n        this.consumeToken();\n        return this.finish(node);\n    };\n    Parser.prototype._parseFunctionArgument = function () {\n        var node = this.create(nodes.FunctionArgument);\n        if (node.setValue(this._parseExpr(true))) {\n            return this.finish(node);\n        }\n        return null;\n    };\n    Parser.prototype._parseHexColor = function () {\n        if (this.peekRegExp(TokenType.Hash, /^#([A-Fa-f0-9]{3}|[A-Fa-f0-9]{4}|[A-Fa-f0-9]{6}|[A-Fa-f0-9]{8})$/g)) {\n            var node = this.create(nodes.HexColorValue);\n            this.consumeToken();\n            return this.finish(node);\n        }\n        else {\n            return null;\n        }\n    };\n    return Parser;\n}());\nexport { Parser };\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\n/**\n * Takes a sorted array and a function p. The array is sorted in such a way that all elements where p(x) is false\n * are located before all elements where p(x) is true.\n * @returns the least x for which p(x) is true or array.length if no element fullfills the given function.\n */\nexport function findFirst(array, p) {\n    var low = 0, high = array.length;\n    if (high === 0) {\n        return 0; // no children\n    }\n    while (low < high) {\n        var mid = Math.floor((low + high) / 2);\n        if (p(array[mid])) {\n            high = mid;\n        }\n        else {\n            low = mid + 1;\n        }\n    }\n    return low;\n}\nexport function includes(array, item) {\n    return array.indexOf(item) !== -1;\n}\nexport function union() {\n    var arrays = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        arrays[_i] = arguments[_i];\n    }\n    var result = [];\n    for (var _a = 0, arrays_1 = arrays; _a < arrays_1.length; _a++) {\n        var array = arrays_1[_a];\n        for (var _b = 0, array_1 = array; _b < array_1.length; _b++) {\n            var item = array_1[_b];\n            if (!includes(result, item)) {\n                result.push(item);\n            }\n        }\n    }\n    return result;\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport * as nodes from './cssNodes.js';\nimport { findFirst } from '../utils/arrays.js';\nvar Scope = /** @class */ (function () {\n    function Scope(offset, length) {\n        this.offset = offset;\n        this.length = length;\n        this.symbols = [];\n        this.parent = null;\n        this.children = [];\n    }\n    Scope.prototype.addChild = function (scope) {\n        this.children.push(scope);\n        scope.setParent(this);\n    };\n    Scope.prototype.setParent = function (scope) {\n        this.parent = scope;\n    };\n    Scope.prototype.findScope = function (offset, length) {\n        if (length === void 0) { length = 0; }\n        if (this.offset <= offset && this.offset + this.length > offset + length || this.offset === offset && this.length === length) {\n            return this.findInScope(offset, length);\n        }\n        return null;\n    };\n    Scope.prototype.findInScope = function (offset, length) {\n        if (length === void 0) { length = 0; }\n        // find the first scope child that has an offset larger than offset + length\n        var end = offset + length;\n        var idx = findFirst(this.children, function (s) { return s.offset > end; });\n        if (idx === 0) {\n            // all scopes have offsets larger than our end\n            return this;\n        }\n        var res = this.children[idx - 1];\n        if (res.offset <= offset && res.offset + res.length >= offset + length) {\n            return res.findInScope(offset, length);\n        }\n        return this;\n    };\n    Scope.prototype.addSymbol = function (symbol) {\n        this.symbols.push(symbol);\n    };\n    Scope.prototype.getSymbol = function (name, type) {\n        for (var index = 0; index < this.symbols.length; index++) {\n            var symbol = this.symbols[index];\n            if (symbol.name === name && symbol.type === type) {\n                return symbol;\n            }\n        }\n        return null;\n    };\n    Scope.prototype.getSymbols = function () {\n        return this.symbols;\n    };\n    return Scope;\n}());\nexport { Scope };\nvar GlobalScope = /** @class */ (function (_super) {\n    __extends(GlobalScope, _super);\n    function GlobalScope() {\n        return _super.call(this, 0, Number.MAX_VALUE) || this;\n    }\n    return GlobalScope;\n}(Scope));\nexport { GlobalScope };\nvar Symbol = /** @class */ (function () {\n    function Symbol(name, value, node, type) {\n        this.name = name;\n        this.value = value;\n        this.node = node;\n        this.type = type;\n    }\n    return Symbol;\n}());\nexport { Symbol };\nvar ScopeBuilder = /** @class */ (function () {\n    function ScopeBuilder(scope) {\n        this.scope = scope;\n    }\n    ScopeBuilder.prototype.addSymbol = function (node, name, value, type) {\n        if (node.offset !== -1) {\n            var current = this.scope.findScope(node.offset, node.length);\n            if (current) {\n                current.addSymbol(new Symbol(name, value, node, type));\n            }\n        }\n    };\n    ScopeBuilder.prototype.addScope = function (node) {\n        if (node.offset !== -1) {\n            var current = this.scope.findScope(node.offset, node.length);\n            if (current && (current.offset !== node.offset || current.length !== node.length)) { // scope already known?\n                var newScope = new Scope(node.offset, node.length);\n                current.addChild(newScope);\n                return newScope;\n            }\n            return current;\n        }\n        return null;\n    };\n    ScopeBuilder.prototype.addSymbolToChildScope = function (scopeNode, node, name, value, type) {\n        if (scopeNode && scopeNode.offset !== -1) {\n            var current = this.addScope(scopeNode); // create the scope or gets the existing one\n            if (current) {\n                current.addSymbol(new Symbol(name, value, node, type));\n            }\n        }\n    };\n    ScopeBuilder.prototype.visitNode = function (node) {\n        switch (node.type) {\n            case nodes.NodeType.Keyframe:\n                this.addSymbol(node, node.getName(), void 0, nodes.ReferenceType.Keyframe);\n                return true;\n            case nodes.NodeType.CustomPropertyDeclaration:\n                return this.visitCustomPropertyDeclarationNode(node);\n            case nodes.NodeType.VariableDeclaration:\n                return this.visitVariableDeclarationNode(node);\n            case nodes.NodeType.Ruleset:\n                return this.visitRuleSet(node);\n            case nodes.NodeType.MixinDeclaration:\n                this.addSymbol(node, node.getName(), void 0, nodes.ReferenceType.Mixin);\n                return true;\n            case nodes.NodeType.FunctionDeclaration:\n                this.addSymbol(node, node.getName(), void 0, nodes.ReferenceType.Function);\n                return true;\n            case nodes.NodeType.FunctionParameter: {\n                return this.visitFunctionParameterNode(node);\n            }\n            case nodes.NodeType.Declarations:\n                this.addScope(node);\n                return true;\n            case nodes.NodeType.For:\n                var forNode = node;\n                var scopeNode = forNode.getDeclarations();\n                if (scopeNode && forNode.variable) {\n                    this.addSymbolToChildScope(scopeNode, forNode.variable, forNode.variable.getName(), void 0, nodes.ReferenceType.Variable);\n                }\n                return true;\n            case nodes.NodeType.Each: {\n                var eachNode = node;\n                var scopeNode_1 = eachNode.getDeclarations();\n                if (scopeNode_1) {\n                    var variables = eachNode.getVariables().getChildren();\n                    for (var _i = 0, variables_1 = variables; _i < variables_1.length; _i++) {\n                        var variable = variables_1[_i];\n                        this.addSymbolToChildScope(scopeNode_1, variable, variable.getName(), void 0, nodes.ReferenceType.Variable);\n                    }\n                }\n                return true;\n            }\n        }\n        return true;\n    };\n    ScopeBuilder.prototype.visitRuleSet = function (node) {\n        var current = this.scope.findScope(node.offset, node.length);\n        if (current) {\n            for (var _i = 0, _a = node.getSelectors().getChildren(); _i < _a.length; _i++) {\n                var child = _a[_i];\n                if (child instanceof nodes.Selector) {\n                    if (child.getChildren().length === 1) { // only selectors with a single element can be extended\n                        current.addSymbol(new Symbol(child.getChild(0).getText(), void 0, child, nodes.ReferenceType.Rule));\n                    }\n                }\n            }\n        }\n        return true;\n    };\n    ScopeBuilder.prototype.visitVariableDeclarationNode = function (node) {\n        var value = node.getValue() ? node.getValue().getText() : void 0;\n        this.addSymbol(node, node.getName(), value, nodes.ReferenceType.Variable);\n        return true;\n    };\n    ScopeBuilder.prototype.visitFunctionParameterNode = function (node) {\n        // parameters are part of the body scope\n        var scopeNode = node.getParent().getDeclarations();\n        if (scopeNode) {\n            var valueNode = node.getDefaultValue();\n            var value = valueNode ? valueNode.getText() : void 0;\n            this.addSymbolToChildScope(scopeNode, node, node.getName(), value, nodes.ReferenceType.Variable);\n        }\n        return true;\n    };\n    ScopeBuilder.prototype.visitCustomPropertyDeclarationNode = function (node) {\n        var value = node.getValue() ? node.getValue().getText() : '';\n        this.addCSSVariable(node.getProperty(), node.getProperty().getName(), value, nodes.ReferenceType.Variable);\n        return true;\n    };\n    ScopeBuilder.prototype.addCSSVariable = function (node, name, value, type) {\n        if (node.offset !== -1) {\n            this.scope.addSymbol(new Symbol(name, value, node, type));\n        }\n    };\n    return ScopeBuilder;\n}());\nexport { ScopeBuilder };\nvar Symbols = /** @class */ (function () {\n    function Symbols(node) {\n        this.global = new GlobalScope();\n        node.acceptVisitor(new ScopeBuilder(this.global));\n    }\n    Symbols.prototype.findSymbolsAtOffset = function (offset, referenceType) {\n        var scope = this.global.findScope(offset, 0);\n        var result = [];\n        var names = {};\n        while (scope) {\n            var symbols = scope.getSymbols();\n            for (var i = 0; i < symbols.length; i++) {\n                var symbol = symbols[i];\n                if (symbol.type === referenceType && !names[symbol.name]) {\n                    result.push(symbol);\n                    names[symbol.name] = true;\n                }\n            }\n            scope = scope.parent;\n        }\n        return result;\n    };\n    Symbols.prototype.internalFindSymbol = function (node, referenceTypes) {\n        var scopeNode = node;\n        if (node.parent instanceof nodes.FunctionParameter && node.parent.getParent() instanceof nodes.BodyDeclaration) {\n            scopeNode = node.parent.getParent().getDeclarations();\n        }\n        if (node.parent instanceof nodes.FunctionArgument && node.parent.getParent() instanceof nodes.Function) {\n            var funcId = node.parent.getParent().getIdentifier();\n            if (funcId) {\n                var functionSymbol = this.internalFindSymbol(funcId, [nodes.ReferenceType.Function]);\n                if (functionSymbol) {\n                    scopeNode = functionSymbol.node.getDeclarations();\n                }\n            }\n        }\n        if (!scopeNode) {\n            return null;\n        }\n        var name = node.getText();\n        var scope = this.global.findScope(scopeNode.offset, scopeNode.length);\n        while (scope) {\n            for (var index = 0; index < referenceTypes.length; index++) {\n                var type = referenceTypes[index];\n                var symbol = scope.getSymbol(name, type);\n                if (symbol) {\n                    return symbol;\n                }\n            }\n            scope = scope.parent;\n        }\n        return null;\n    };\n    Symbols.prototype.evaluateReferenceTypes = function (node) {\n        if (node instanceof nodes.Identifier) {\n            var referenceTypes = node.referenceTypes;\n            if (referenceTypes) {\n                return referenceTypes;\n            }\n            else {\n                if (node.isCustomProperty) {\n                    return [nodes.ReferenceType.Variable];\n                }\n                // are a reference to a keyframe?\n                var decl = nodes.getParentDeclaration(node);\n                if (decl) {\n                    var propertyName = decl.getNonPrefixedPropertyName();\n                    if ((propertyName === 'animation' || propertyName === 'animation-name')\n                        && decl.getValue() && decl.getValue().offset === node.offset) {\n                        return [nodes.ReferenceType.Keyframe];\n                    }\n                }\n            }\n        }\n        else if (node instanceof nodes.Variable) {\n            return [nodes.ReferenceType.Variable];\n        }\n        var selector = node.findAParent(nodes.NodeType.Selector, nodes.NodeType.ExtendsReference);\n        if (selector) {\n            return [nodes.ReferenceType.Rule];\n        }\n        return null;\n    };\n    Symbols.prototype.findSymbolFromNode = function (node) {\n        if (!node) {\n            return null;\n        }\n        while (node.type === nodes.NodeType.Interpolation) {\n            node = node.getParent();\n        }\n        var referenceTypes = this.evaluateReferenceTypes(node);\n        if (referenceTypes) {\n            return this.internalFindSymbol(node, referenceTypes);\n        }\n        return null;\n    };\n    Symbols.prototype.matchesSymbol = function (node, symbol) {\n        if (!node) {\n            return false;\n        }\n        while (node.type === nodes.NodeType.Interpolation) {\n            node = node.getParent();\n        }\n        if (!node.matches(symbol.name)) {\n            return false;\n        }\n        var referenceTypes = this.evaluateReferenceTypes(node);\n        if (!referenceTypes || referenceTypes.indexOf(symbol.type) === -1) {\n            return false;\n        }\n        var nodeSymbol = this.internalFindSymbol(node, referenceTypes);\n        return nodeSymbol === symbol;\n    };\n    Symbols.prototype.findSymbol = function (name, type, offset) {\n        var scope = this.global.findScope(offset);\n        while (scope) {\n            var symbol = scope.getSymbol(name, type);\n            if (symbol) {\n                return symbol;\n            }\n            scope = scope.parent;\n        }\n        return null;\n    };\n    return Symbols;\n}());\nexport { Symbols };\n","/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\n'use strict';\n/**\n * The Position namespace provides helper functions to work with\n * [Position](#Position) literals.\n */\nexport var Position;\n(function (Position) {\n    /**\n     * Creates a new Position literal from the given line and character.\n     * @param line The position's line.\n     * @param character The position's character.\n     */\n    function create(line, character) {\n        return { line: line, character: character };\n    }\n    Position.create = create;\n    /**\n     * Checks whether the given liternal conforms to the [Position](#Position) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(candidate) && Is.number(candidate.line) && Is.number(candidate.character);\n    }\n    Position.is = is;\n})(Position || (Position = {}));\n/**\n * The Range namespace provides helper functions to work with\n * [Range](#Range) literals.\n */\nexport var Range;\n(function (Range) {\n    function create(one, two, three, four) {\n        if (Is.number(one) && Is.number(two) && Is.number(three) && Is.number(four)) {\n            return { start: Position.create(one, two), end: Position.create(three, four) };\n        }\n        else if (Position.is(one) && Position.is(two)) {\n            return { start: one, end: two };\n        }\n        else {\n            throw new Error(\"Range#create called with invalid arguments[\" + one + \", \" + two + \", \" + three + \", \" + four + \"]\");\n        }\n    }\n    Range.create = create;\n    /**\n     * Checks whether the given literal conforms to the [Range](#Range) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(candidate) && Position.is(candidate.start) && Position.is(candidate.end);\n    }\n    Range.is = is;\n})(Range || (Range = {}));\n/**\n * The Location namespace provides helper functions to work with\n * [Location](#Location) literals.\n */\nexport var Location;\n(function (Location) {\n    /**\n     * Creates a Location literal.\n     * @param uri The location's uri.\n     * @param range The location's range.\n     */\n    function create(uri, range) {\n        return { uri: uri, range: range };\n    }\n    Location.create = create;\n    /**\n     * Checks whether the given literal conforms to the [Location](#Location) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Range.is(candidate.range) && (Is.string(candidate.uri) || Is.undefined(candidate.uri));\n    }\n    Location.is = is;\n})(Location || (Location = {}));\n/**\n * The LocationLink namespace provides helper functions to work with\n * [LocationLink](#LocationLink) literals.\n */\nexport var LocationLink;\n(function (LocationLink) {\n    /**\n     * Creates a LocationLink literal.\n     * @param targetUri The definition's uri.\n     * @param targetRange The full range of the definition.\n     * @param targetSelectionRange The span of the symbol definition at the target.\n     * @param originSelectionRange The span of the symbol being defined in the originating source file.\n     */\n    function create(targetUri, targetRange, targetSelectionRange, originSelectionRange) {\n        return { targetUri: targetUri, targetRange: targetRange, targetSelectionRange: targetSelectionRange, originSelectionRange: originSelectionRange };\n    }\n    LocationLink.create = create;\n    /**\n     * Checks whether the given literal conforms to the [LocationLink](#LocationLink) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Range.is(candidate.targetRange) && Is.string(candidate.targetUri)\n            && (Range.is(candidate.targetSelectionRange) || Is.undefined(candidate.targetSelectionRange))\n            && (Range.is(candidate.originSelectionRange) || Is.undefined(candidate.originSelectionRange));\n    }\n    LocationLink.is = is;\n})(LocationLink || (LocationLink = {}));\n/**\n * The Color namespace provides helper functions to work with\n * [Color](#Color) literals.\n */\nexport var Color;\n(function (Color) {\n    /**\n     * Creates a new Color literal.\n     */\n    function create(red, green, blue, alpha) {\n        return {\n            red: red,\n            green: green,\n            blue: blue,\n            alpha: alpha,\n        };\n    }\n    Color.create = create;\n    /**\n     * Checks whether the given literal conforms to the [Color](#Color) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.number(candidate.red)\n            && Is.number(candidate.green)\n            && Is.number(candidate.blue)\n            && Is.number(candidate.alpha);\n    }\n    Color.is = is;\n})(Color || (Color = {}));\n/**\n * The ColorInformation namespace provides helper functions to work with\n * [ColorInformation](#ColorInformation) literals.\n */\nexport var ColorInformation;\n(function (ColorInformation) {\n    /**\n     * Creates a new ColorInformation literal.\n     */\n    function create(range, color) {\n        return {\n            range: range,\n            color: color,\n        };\n    }\n    ColorInformation.create = create;\n    /**\n     * Checks whether the given literal conforms to the [ColorInformation](#ColorInformation) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Range.is(candidate.range) && Color.is(candidate.color);\n    }\n    ColorInformation.is = is;\n})(ColorInformation || (ColorInformation = {}));\n/**\n * The Color namespace provides helper functions to work with\n * [ColorPresentation](#ColorPresentation) literals.\n */\nexport var ColorPresentation;\n(function (ColorPresentation) {\n    /**\n     * Creates a new ColorInformation literal.\n     */\n    function create(label, textEdit, additionalTextEdits) {\n        return {\n            label: label,\n            textEdit: textEdit,\n            additionalTextEdits: additionalTextEdits,\n        };\n    }\n    ColorPresentation.create = create;\n    /**\n     * Checks whether the given literal conforms to the [ColorInformation](#ColorInformation) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.string(candidate.label)\n            && (Is.undefined(candidate.textEdit) || TextEdit.is(candidate))\n            && (Is.undefined(candidate.additionalTextEdits) || Is.typedArray(candidate.additionalTextEdits, TextEdit.is));\n    }\n    ColorPresentation.is = is;\n})(ColorPresentation || (ColorPresentation = {}));\n/**\n * Enum of known range kinds\n */\nexport var FoldingRangeKind;\n(function (FoldingRangeKind) {\n    /**\n     * Folding range for a comment\n     */\n    FoldingRangeKind[\"Comment\"] = \"comment\";\n    /**\n     * Folding range for a imports or includes\n     */\n    FoldingRangeKind[\"Imports\"] = \"imports\";\n    /**\n     * Folding range for a region (e.g. `#region`)\n     */\n    FoldingRangeKind[\"Region\"] = \"region\";\n})(FoldingRangeKind || (FoldingRangeKind = {}));\n/**\n * The folding range namespace provides helper functions to work with\n * [FoldingRange](#FoldingRange) literals.\n */\nexport var FoldingRange;\n(function (FoldingRange) {\n    /**\n     * Creates a new FoldingRange literal.\n     */\n    function create(startLine, endLine, startCharacter, endCharacter, kind) {\n        var result = {\n            startLine: startLine,\n            endLine: endLine\n        };\n        if (Is.defined(startCharacter)) {\n            result.startCharacter = startCharacter;\n        }\n        if (Is.defined(endCharacter)) {\n            result.endCharacter = endCharacter;\n        }\n        if (Is.defined(kind)) {\n            result.kind = kind;\n        }\n        return result;\n    }\n    FoldingRange.create = create;\n    /**\n     * Checks whether the given literal conforms to the [FoldingRange](#FoldingRange) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.number(candidate.startLine) && Is.number(candidate.startLine)\n            && (Is.undefined(candidate.startCharacter) || Is.number(candidate.startCharacter))\n            && (Is.undefined(candidate.endCharacter) || Is.number(candidate.endCharacter))\n            && (Is.undefined(candidate.kind) || Is.string(candidate.kind));\n    }\n    FoldingRange.is = is;\n})(FoldingRange || (FoldingRange = {}));\n/**\n * The DiagnosticRelatedInformation namespace provides helper functions to work with\n * [DiagnosticRelatedInformation](#DiagnosticRelatedInformation) literals.\n */\nexport var DiagnosticRelatedInformation;\n(function (DiagnosticRelatedInformation) {\n    /**\n     * Creates a new DiagnosticRelatedInformation literal.\n     */\n    function create(location, message) {\n        return {\n            location: location,\n            message: message\n        };\n    }\n    DiagnosticRelatedInformation.create = create;\n    /**\n     * Checks whether the given literal conforms to the [DiagnosticRelatedInformation](#DiagnosticRelatedInformation) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Location.is(candidate.location) && Is.string(candidate.message);\n    }\n    DiagnosticRelatedInformation.is = is;\n})(DiagnosticRelatedInformation || (DiagnosticRelatedInformation = {}));\n/**\n * The diagnostic's severity.\n */\nexport var DiagnosticSeverity;\n(function (DiagnosticSeverity) {\n    /**\n     * Reports an error.\n     */\n    DiagnosticSeverity.Error = 1;\n    /**\n     * Reports a warning.\n     */\n    DiagnosticSeverity.Warning = 2;\n    /**\n     * Reports an information.\n     */\n    DiagnosticSeverity.Information = 3;\n    /**\n     * Reports a hint.\n     */\n    DiagnosticSeverity.Hint = 4;\n})(DiagnosticSeverity || (DiagnosticSeverity = {}));\n/**\n * The diagnostic tags.\n *\n * @since 3.15.0\n */\nexport var DiagnosticTag;\n(function (DiagnosticTag) {\n    /**\n     * Unused or unnecessary code.\n     *\n     * Clients are allowed to render diagnostics with this tag faded out instead of having\n     * an error squiggle.\n     */\n    DiagnosticTag.Unnecessary = 1;\n    /**\n     * Deprecated or obsolete code.\n     *\n     * Clients are allowed to rendered diagnostics with this tag strike through.\n     */\n    DiagnosticTag.Deprecated = 2;\n})(DiagnosticTag || (DiagnosticTag = {}));\n/**\n * The DiagnosticCode namespace provides functions to deal with complex diagnostic codes.\n *\n * @since 3.16.0 - Proposed state\n */\nexport var DiagnosticCode;\n(function (DiagnosticCode) {\n    /**\n     * Checks whether the given liternal conforms to the [DiagnosticCode](#DiagnosticCode) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return candidate !== undefined && candidate !== null && (Is.number(candidate.value) || Is.string(candidate.value)) && Is.string(candidate.target);\n    }\n    DiagnosticCode.is = is;\n})(DiagnosticCode || (DiagnosticCode = {}));\n/**\n * The Diagnostic namespace provides helper functions to work with\n * [Diagnostic](#Diagnostic) literals.\n */\nexport var Diagnostic;\n(function (Diagnostic) {\n    /**\n     * Creates a new Diagnostic literal.\n     */\n    function create(range, message, severity, code, source, relatedInformation) {\n        var result = { range: range, message: message };\n        if (Is.defined(severity)) {\n            result.severity = severity;\n        }\n        if (Is.defined(code)) {\n            result.code = code;\n        }\n        if (Is.defined(source)) {\n            result.source = source;\n        }\n        if (Is.defined(relatedInformation)) {\n            result.relatedInformation = relatedInformation;\n        }\n        return result;\n    }\n    Diagnostic.create = create;\n    /**\n     * Checks whether the given literal conforms to the [Diagnostic](#Diagnostic) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate)\n            && Range.is(candidate.range)\n            && Is.string(candidate.message)\n            && (Is.number(candidate.severity) || Is.undefined(candidate.severity))\n            && (Is.number(candidate.code) || Is.string(candidate.code) || Is.undefined(candidate.code))\n            && (Is.string(candidate.source) || Is.undefined(candidate.source))\n            && (Is.undefined(candidate.relatedInformation) || Is.typedArray(candidate.relatedInformation, DiagnosticRelatedInformation.is));\n    }\n    Diagnostic.is = is;\n})(Diagnostic || (Diagnostic = {}));\n/**\n * The Command namespace provides helper functions to work with\n * [Command](#Command) literals.\n */\nexport var Command;\n(function (Command) {\n    /**\n     * Creates a new Command literal.\n     */\n    function create(title, command) {\n        var args = [];\n        for (var _i = 2; _i < arguments.length; _i++) {\n            args[_i - 2] = arguments[_i];\n        }\n        var result = { title: title, command: command };\n        if (Is.defined(args) && args.length > 0) {\n            result.arguments = args;\n        }\n        return result;\n    }\n    Command.create = create;\n    /**\n     * Checks whether the given literal conforms to the [Command](#Command) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Is.string(candidate.title) && Is.string(candidate.command);\n    }\n    Command.is = is;\n})(Command || (Command = {}));\n/**\n * The TextEdit namespace provides helper function to create replace,\n * insert and delete edits more easily.\n */\nexport var TextEdit;\n(function (TextEdit) {\n    /**\n     * Creates a replace text edit.\n     * @param range The range of text to be replaced.\n     * @param newText The new text.\n     */\n    function replace(range, newText) {\n        return { range: range, newText: newText };\n    }\n    TextEdit.replace = replace;\n    /**\n     * Creates a insert text edit.\n     * @param position The position to insert the text at.\n     * @param newText The text to be inserted.\n     */\n    function insert(position, newText) {\n        return { range: { start: position, end: position }, newText: newText };\n    }\n    TextEdit.insert = insert;\n    /**\n     * Creates a delete text edit.\n     * @param range The range of text to be deleted.\n     */\n    function del(range) {\n        return { range: range, newText: '' };\n    }\n    TextEdit.del = del;\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(candidate)\n            && Is.string(candidate.newText)\n            && Range.is(candidate.range);\n    }\n    TextEdit.is = is;\n})(TextEdit || (TextEdit = {}));\n/**\n * The TextDocumentEdit namespace provides helper function to create\n * an edit that manipulates a text document.\n */\nexport var TextDocumentEdit;\n(function (TextDocumentEdit) {\n    /**\n     * Creates a new `TextDocumentEdit`\n     */\n    function create(textDocument, edits) {\n        return { textDocument: textDocument, edits: edits };\n    }\n    TextDocumentEdit.create = create;\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate)\n            && VersionedTextDocumentIdentifier.is(candidate.textDocument)\n            && Array.isArray(candidate.edits);\n    }\n    TextDocumentEdit.is = is;\n})(TextDocumentEdit || (TextDocumentEdit = {}));\nexport var CreateFile;\n(function (CreateFile) {\n    function create(uri, options) {\n        var result = {\n            kind: 'create',\n            uri: uri\n        };\n        if (options !== void 0 && (options.overwrite !== void 0 || options.ignoreIfExists !== void 0)) {\n            result.options = options;\n        }\n        return result;\n    }\n    CreateFile.create = create;\n    function is(value) {\n        var candidate = value;\n        return candidate && candidate.kind === 'create' && Is.string(candidate.uri) &&\n            (candidate.options === void 0 ||\n                ((candidate.options.overwrite === void 0 || Is.boolean(candidate.options.overwrite)) && (candidate.options.ignoreIfExists === void 0 || Is.boolean(candidate.options.ignoreIfExists))));\n    }\n    CreateFile.is = is;\n})(CreateFile || (CreateFile = {}));\nexport var RenameFile;\n(function (RenameFile) {\n    function create(oldUri, newUri, options) {\n        var result = {\n            kind: 'rename',\n            oldUri: oldUri,\n            newUri: newUri\n        };\n        if (options !== void 0 && (options.overwrite !== void 0 || options.ignoreIfExists !== void 0)) {\n            result.options = options;\n        }\n        return result;\n    }\n    RenameFile.create = create;\n    function is(value) {\n        var candidate = value;\n        return candidate && candidate.kind === 'rename' && Is.string(candidate.oldUri) && Is.string(candidate.newUri) &&\n            (candidate.options === void 0 ||\n                ((candidate.options.overwrite === void 0 || Is.boolean(candidate.options.overwrite)) && (candidate.options.ignoreIfExists === void 0 || Is.boolean(candidate.options.ignoreIfExists))));\n    }\n    RenameFile.is = is;\n})(RenameFile || (RenameFile = {}));\nexport var DeleteFile;\n(function (DeleteFile) {\n    function create(uri, options) {\n        var result = {\n            kind: 'delete',\n            uri: uri\n        };\n        if (options !== void 0 && (options.recursive !== void 0 || options.ignoreIfNotExists !== void 0)) {\n            result.options = options;\n        }\n        return result;\n    }\n    DeleteFile.create = create;\n    function is(value) {\n        var candidate = value;\n        return candidate && candidate.kind === 'delete' && Is.string(candidate.uri) &&\n            (candidate.options === void 0 ||\n                ((candidate.options.recursive === void 0 || Is.boolean(candidate.options.recursive)) && (candidate.options.ignoreIfNotExists === void 0 || Is.boolean(candidate.options.ignoreIfNotExists))));\n    }\n    DeleteFile.is = is;\n})(DeleteFile || (DeleteFile = {}));\nexport var WorkspaceEdit;\n(function (WorkspaceEdit) {\n    function is(value) {\n        var candidate = value;\n        return candidate &&\n            (candidate.changes !== void 0 || candidate.documentChanges !== void 0) &&\n            (candidate.documentChanges === void 0 || candidate.documentChanges.every(function (change) {\n                if (Is.string(change.kind)) {\n                    return CreateFile.is(change) || RenameFile.is(change) || DeleteFile.is(change);\n                }\n                else {\n                    return TextDocumentEdit.is(change);\n                }\n            }));\n    }\n    WorkspaceEdit.is = is;\n})(WorkspaceEdit || (WorkspaceEdit = {}));\nvar TextEditChangeImpl = /** @class */ (function () {\n    function TextEditChangeImpl(edits) {\n        this.edits = edits;\n    }\n    TextEditChangeImpl.prototype.insert = function (position, newText) {\n        this.edits.push(TextEdit.insert(position, newText));\n    };\n    TextEditChangeImpl.prototype.replace = function (range, newText) {\n        this.edits.push(TextEdit.replace(range, newText));\n    };\n    TextEditChangeImpl.prototype.delete = function (range) {\n        this.edits.push(TextEdit.del(range));\n    };\n    TextEditChangeImpl.prototype.add = function (edit) {\n        this.edits.push(edit);\n    };\n    TextEditChangeImpl.prototype.all = function () {\n        return this.edits;\n    };\n    TextEditChangeImpl.prototype.clear = function () {\n        this.edits.splice(0, this.edits.length);\n    };\n    return TextEditChangeImpl;\n}());\n/**\n * A workspace change helps constructing changes to a workspace.\n */\nvar WorkspaceChange = /** @class */ (function () {\n    function WorkspaceChange(workspaceEdit) {\n        var _this = this;\n        this._textEditChanges = Object.create(null);\n        if (workspaceEdit) {\n            this._workspaceEdit = workspaceEdit;\n            if (workspaceEdit.documentChanges) {\n                workspaceEdit.documentChanges.forEach(function (change) {\n                    if (TextDocumentEdit.is(change)) {\n                        var textEditChange = new TextEditChangeImpl(change.edits);\n                        _this._textEditChanges[change.textDocument.uri] = textEditChange;\n                    }\n                });\n            }\n            else if (workspaceEdit.changes) {\n                Object.keys(workspaceEdit.changes).forEach(function (key) {\n                    var textEditChange = new TextEditChangeImpl(workspaceEdit.changes[key]);\n                    _this._textEditChanges[key] = textEditChange;\n                });\n            }\n        }\n    }\n    Object.defineProperty(WorkspaceChange.prototype, \"edit\", {\n        /**\n         * Returns the underlying [WorkspaceEdit](#WorkspaceEdit) literal\n         * use to be returned from a workspace edit operation like rename.\n         */\n        get: function () {\n            if (this._workspaceEdit === undefined) {\n                return { documentChanges: [] };\n            }\n            return this._workspaceEdit;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    WorkspaceChange.prototype.getTextEditChange = function (key) {\n        if (VersionedTextDocumentIdentifier.is(key)) {\n            if (!this._workspaceEdit) {\n                this._workspaceEdit = {\n                    documentChanges: []\n                };\n            }\n            if (!this._workspaceEdit.documentChanges) {\n                throw new Error('Workspace edit is not configured for document changes.');\n            }\n            var textDocument = key;\n            var result = this._textEditChanges[textDocument.uri];\n            if (!result) {\n                var edits = [];\n                var textDocumentEdit = {\n                    textDocument: textDocument,\n                    edits: edits\n                };\n                this._workspaceEdit.documentChanges.push(textDocumentEdit);\n                result = new TextEditChangeImpl(edits);\n                this._textEditChanges[textDocument.uri] = result;\n            }\n            return result;\n        }\n        else {\n            if (!this._workspaceEdit) {\n                this._workspaceEdit = {\n                    changes: Object.create(null)\n                };\n            }\n            if (!this._workspaceEdit.changes) {\n                throw new Error('Workspace edit is not configured for normal text edit changes.');\n            }\n            var result = this._textEditChanges[key];\n            if (!result) {\n                var edits = [];\n                this._workspaceEdit.changes[key] = edits;\n                result = new TextEditChangeImpl(edits);\n                this._textEditChanges[key] = result;\n            }\n            return result;\n        }\n    };\n    WorkspaceChange.prototype.createFile = function (uri, options) {\n        this.checkDocumentChanges();\n        this._workspaceEdit.documentChanges.push(CreateFile.create(uri, options));\n    };\n    WorkspaceChange.prototype.renameFile = function (oldUri, newUri, options) {\n        this.checkDocumentChanges();\n        this._workspaceEdit.documentChanges.push(RenameFile.create(oldUri, newUri, options));\n    };\n    WorkspaceChange.prototype.deleteFile = function (uri, options) {\n        this.checkDocumentChanges();\n        this._workspaceEdit.documentChanges.push(DeleteFile.create(uri, options));\n    };\n    WorkspaceChange.prototype.checkDocumentChanges = function () {\n        if (!this._workspaceEdit || !this._workspaceEdit.documentChanges) {\n            throw new Error('Workspace edit is not configured for document changes.');\n        }\n    };\n    return WorkspaceChange;\n}());\nexport { WorkspaceChange };\n/**\n * The TextDocumentIdentifier namespace provides helper functions to work with\n * [TextDocumentIdentifier](#TextDocumentIdentifier) literals.\n */\nexport var TextDocumentIdentifier;\n(function (TextDocumentIdentifier) {\n    /**\n     * Creates a new TextDocumentIdentifier literal.\n     * @param uri The document's uri.\n     */\n    function create(uri) {\n        return { uri: uri };\n    }\n    TextDocumentIdentifier.create = create;\n    /**\n     * Checks whether the given literal conforms to the [TextDocumentIdentifier](#TextDocumentIdentifier) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Is.string(candidate.uri);\n    }\n    TextDocumentIdentifier.is = is;\n})(TextDocumentIdentifier || (TextDocumentIdentifier = {}));\n/**\n * The VersionedTextDocumentIdentifier namespace provides helper functions to work with\n * [VersionedTextDocumentIdentifier](#VersionedTextDocumentIdentifier) literals.\n */\nexport var VersionedTextDocumentIdentifier;\n(function (VersionedTextDocumentIdentifier) {\n    /**\n     * Creates a new VersionedTextDocumentIdentifier literal.\n     * @param uri The document's uri.\n     * @param uri The document's text.\n     */\n    function create(uri, version) {\n        return { uri: uri, version: version };\n    }\n    VersionedTextDocumentIdentifier.create = create;\n    /**\n     * Checks whether the given literal conforms to the [VersionedTextDocumentIdentifier](#VersionedTextDocumentIdentifier) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Is.string(candidate.uri) && (candidate.version === null || Is.number(candidate.version));\n    }\n    VersionedTextDocumentIdentifier.is = is;\n})(VersionedTextDocumentIdentifier || (VersionedTextDocumentIdentifier = {}));\n/**\n * The TextDocumentItem namespace provides helper functions to work with\n * [TextDocumentItem](#TextDocumentItem) literals.\n */\nexport var TextDocumentItem;\n(function (TextDocumentItem) {\n    /**\n     * Creates a new TextDocumentItem literal.\n     * @param uri The document's uri.\n     * @param languageId The document's language identifier.\n     * @param version The document's version number.\n     * @param text The document's text.\n     */\n    function create(uri, languageId, version, text) {\n        return { uri: uri, languageId: languageId, version: version, text: text };\n    }\n    TextDocumentItem.create = create;\n    /**\n     * Checks whether the given literal conforms to the [TextDocumentItem](#TextDocumentItem) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Is.string(candidate.uri) && Is.string(candidate.languageId) && Is.number(candidate.version) && Is.string(candidate.text);\n    }\n    TextDocumentItem.is = is;\n})(TextDocumentItem || (TextDocumentItem = {}));\n/**\n * Describes the content type that a client supports in various\n * result literals like `Hover`, `ParameterInfo` or `CompletionItem`.\n *\n * Please note that `MarkupKinds` must not start with a `$`. This kinds\n * are reserved for internal usage.\n */\nexport var MarkupKind;\n(function (MarkupKind) {\n    /**\n     * Plain text is supported as a content format\n     */\n    MarkupKind.PlainText = 'plaintext';\n    /**\n     * Markdown is supported as a content format\n     */\n    MarkupKind.Markdown = 'markdown';\n})(MarkupKind || (MarkupKind = {}));\n(function (MarkupKind) {\n    /**\n     * Checks whether the given value is a value of the [MarkupKind](#MarkupKind) type.\n     */\n    function is(value) {\n        var candidate = value;\n        return candidate === MarkupKind.PlainText || candidate === MarkupKind.Markdown;\n    }\n    MarkupKind.is = is;\n})(MarkupKind || (MarkupKind = {}));\nexport var MarkupContent;\n(function (MarkupContent) {\n    /**\n     * Checks whether the given value conforms to the [MarkupContent](#MarkupContent) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(value) && MarkupKind.is(candidate.kind) && Is.string(candidate.value);\n    }\n    MarkupContent.is = is;\n})(MarkupContent || (MarkupContent = {}));\n/**\n * The kind of a completion entry.\n */\nexport var CompletionItemKind;\n(function (CompletionItemKind) {\n    CompletionItemKind.Text = 1;\n    CompletionItemKind.Method = 2;\n    CompletionItemKind.Function = 3;\n    CompletionItemKind.Constructor = 4;\n    CompletionItemKind.Field = 5;\n    CompletionItemKind.Variable = 6;\n    CompletionItemKind.Class = 7;\n    CompletionItemKind.Interface = 8;\n    CompletionItemKind.Module = 9;\n    CompletionItemKind.Property = 10;\n    CompletionItemKind.Unit = 11;\n    CompletionItemKind.Value = 12;\n    CompletionItemKind.Enum = 13;\n    CompletionItemKind.Keyword = 14;\n    CompletionItemKind.Snippet = 15;\n    CompletionItemKind.Color = 16;\n    CompletionItemKind.File = 17;\n    CompletionItemKind.Reference = 18;\n    CompletionItemKind.Folder = 19;\n    CompletionItemKind.EnumMember = 20;\n    CompletionItemKind.Constant = 21;\n    CompletionItemKind.Struct = 22;\n    CompletionItemKind.Event = 23;\n    CompletionItemKind.Operator = 24;\n    CompletionItemKind.TypeParameter = 25;\n})(CompletionItemKind || (CompletionItemKind = {}));\n/**\n * Defines whether the insert text in a completion item should be interpreted as\n * plain text or a snippet.\n */\nexport var InsertTextFormat;\n(function (InsertTextFormat) {\n    /**\n     * The primary text to be inserted is treated as a plain string.\n     */\n    InsertTextFormat.PlainText = 1;\n    /**\n     * The primary text to be inserted is treated as a snippet.\n     *\n     * A snippet can define tab stops and placeholders with `$1`, `$2`\n     * and `${3:foo}`. `$0` defines the final tab stop, it defaults to\n     * the end of the snippet. Placeholders with equal identifiers are linked,\n     * that is typing in one will update others too.\n     *\n     * See also: https://microsoft.github.io/language-server-protocol/specifications/specification-current/#snippet_syntax\n     */\n    InsertTextFormat.Snippet = 2;\n})(InsertTextFormat || (InsertTextFormat = {}));\n/**\n * Completion item tags are extra annotations that tweak the rendering of a completion\n * item.\n *\n * @since 3.15.0\n */\nexport var CompletionItemTag;\n(function (CompletionItemTag) {\n    /**\n     * Render a completion as obsolete, usually using a strike-out.\n     */\n    CompletionItemTag.Deprecated = 1;\n})(CompletionItemTag || (CompletionItemTag = {}));\n/**\n * The InsertReplaceEdit namespace provides functions to deal with insert / replace edits.\n *\n * @since 3.16.0 - Proposed state\n */\nexport var InsertReplaceEdit;\n(function (InsertReplaceEdit) {\n    /**\n     * Creates a new insert / replace edit\n     */\n    function create(newText, insert, replace) {\n        return { newText: newText, insert: insert, replace: replace };\n    }\n    InsertReplaceEdit.create = create;\n    /**\n     * Checks whether the given liternal conforms to the [InsertReplaceEdit](#InsertReplaceEdit) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return candidate && Is.string(candidate.newText) && Range.is(candidate.insert) && Range.is(candidate.replace);\n    }\n    InsertReplaceEdit.is = is;\n})(InsertReplaceEdit || (InsertReplaceEdit = {}));\n/**\n * The CompletionItem namespace provides functions to deal with\n * completion items.\n */\nexport var CompletionItem;\n(function (CompletionItem) {\n    /**\n     * Create a completion item and seed it with a label.\n     * @param label The completion item's label\n     */\n    function create(label) {\n        return { label: label };\n    }\n    CompletionItem.create = create;\n})(CompletionItem || (CompletionItem = {}));\n/**\n * The CompletionList namespace provides functions to deal with\n * completion lists.\n */\nexport var CompletionList;\n(function (CompletionList) {\n    /**\n     * Creates a new completion list.\n     *\n     * @param items The completion items.\n     * @param isIncomplete The list is not complete.\n     */\n    function create(items, isIncomplete) {\n        return { items: items ? items : [], isIncomplete: !!isIncomplete };\n    }\n    CompletionList.create = create;\n})(CompletionList || (CompletionList = {}));\nexport var MarkedString;\n(function (MarkedString) {\n    /**\n     * Creates a marked string from plain text.\n     *\n     * @param plainText The plain text.\n     */\n    function fromPlainText(plainText) {\n        return plainText.replace(/[\\\\`*_{}[\\]()#+\\-.!]/g, '\\\\$&'); // escape markdown syntax tokens: http://daringfireball.net/projects/markdown/syntax#backslash\n    }\n    MarkedString.fromPlainText = fromPlainText;\n    /**\n     * Checks whether the given value conforms to the [MarkedString](#MarkedString) type.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.string(candidate) || (Is.objectLiteral(candidate) && Is.string(candidate.language) && Is.string(candidate.value));\n    }\n    MarkedString.is = is;\n})(MarkedString || (MarkedString = {}));\nexport var Hover;\n(function (Hover) {\n    /**\n     * Checks whether the given value conforms to the [Hover](#Hover) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return !!candidate && Is.objectLiteral(candidate) && (MarkupContent.is(candidate.contents) ||\n            MarkedString.is(candidate.contents) ||\n            Is.typedArray(candidate.contents, MarkedString.is)) && (value.range === void 0 || Range.is(value.range));\n    }\n    Hover.is = is;\n})(Hover || (Hover = {}));\n/**\n * The ParameterInformation namespace provides helper functions to work with\n * [ParameterInformation](#ParameterInformation) literals.\n */\nexport var ParameterInformation;\n(function (ParameterInformation) {\n    /**\n     * Creates a new parameter information literal.\n     *\n     * @param label A label string.\n     * @param documentation A doc string.\n     */\n    function create(label, documentation) {\n        return documentation ? { label: label, documentation: documentation } : { label: label };\n    }\n    ParameterInformation.create = create;\n})(ParameterInformation || (ParameterInformation = {}));\n/**\n * The SignatureInformation namespace provides helper functions to work with\n * [SignatureInformation](#SignatureInformation) literals.\n */\nexport var SignatureInformation;\n(function (SignatureInformation) {\n    function create(label, documentation) {\n        var parameters = [];\n        for (var _i = 2; _i < arguments.length; _i++) {\n            parameters[_i - 2] = arguments[_i];\n        }\n        var result = { label: label };\n        if (Is.defined(documentation)) {\n            result.documentation = documentation;\n        }\n        if (Is.defined(parameters)) {\n            result.parameters = parameters;\n        }\n        else {\n            result.parameters = [];\n        }\n        return result;\n    }\n    SignatureInformation.create = create;\n})(SignatureInformation || (SignatureInformation = {}));\n/**\n * A document highlight kind.\n */\nexport var DocumentHighlightKind;\n(function (DocumentHighlightKind) {\n    /**\n     * A textual occurrence.\n     */\n    DocumentHighlightKind.Text = 1;\n    /**\n     * Read-access of a symbol, like reading a variable.\n     */\n    DocumentHighlightKind.Read = 2;\n    /**\n     * Write-access of a symbol, like writing to a variable.\n     */\n    DocumentHighlightKind.Write = 3;\n})(DocumentHighlightKind || (DocumentHighlightKind = {}));\n/**\n * DocumentHighlight namespace to provide helper functions to work with\n * [DocumentHighlight](#DocumentHighlight) literals.\n */\nexport var DocumentHighlight;\n(function (DocumentHighlight) {\n    /**\n     * Create a DocumentHighlight object.\n     * @param range The range the highlight applies to.\n     */\n    function create(range, kind) {\n        var result = { range: range };\n        if (Is.number(kind)) {\n            result.kind = kind;\n        }\n        return result;\n    }\n    DocumentHighlight.create = create;\n})(DocumentHighlight || (DocumentHighlight = {}));\n/**\n * A symbol kind.\n */\nexport var SymbolKind;\n(function (SymbolKind) {\n    SymbolKind.File = 1;\n    SymbolKind.Module = 2;\n    SymbolKind.Namespace = 3;\n    SymbolKind.Package = 4;\n    SymbolKind.Class = 5;\n    SymbolKind.Method = 6;\n    SymbolKind.Property = 7;\n    SymbolKind.Field = 8;\n    SymbolKind.Constructor = 9;\n    SymbolKind.Enum = 10;\n    SymbolKind.Interface = 11;\n    SymbolKind.Function = 12;\n    SymbolKind.Variable = 13;\n    SymbolKind.Constant = 14;\n    SymbolKind.String = 15;\n    SymbolKind.Number = 16;\n    SymbolKind.Boolean = 17;\n    SymbolKind.Array = 18;\n    SymbolKind.Object = 19;\n    SymbolKind.Key = 20;\n    SymbolKind.Null = 21;\n    SymbolKind.EnumMember = 22;\n    SymbolKind.Struct = 23;\n    SymbolKind.Event = 24;\n    SymbolKind.Operator = 25;\n    SymbolKind.TypeParameter = 26;\n})(SymbolKind || (SymbolKind = {}));\n/**\n * Symbol tags are extra annotations that tweak the rendering of a symbol.\n * @since 3.15\n */\nexport var SymbolTag;\n(function (SymbolTag) {\n    /**\n     * Render a symbol as obsolete, usually using a strike-out.\n     */\n    SymbolTag.Deprecated = 1;\n})(SymbolTag || (SymbolTag = {}));\nexport var SymbolInformation;\n(function (SymbolInformation) {\n    /**\n     * Creates a new symbol information literal.\n     *\n     * @param name The name of the symbol.\n     * @param kind The kind of the symbol.\n     * @param range The range of the location of the symbol.\n     * @param uri The resource of the location of symbol, defaults to the current document.\n     * @param containerName The name of the symbol containing the symbol.\n     */\n    function create(name, kind, range, uri, containerName) {\n        var result = {\n            name: name,\n            kind: kind,\n            location: { uri: uri, range: range }\n        };\n        if (containerName) {\n            result.containerName = containerName;\n        }\n        return result;\n    }\n    SymbolInformation.create = create;\n})(SymbolInformation || (SymbolInformation = {}));\nexport var DocumentSymbol;\n(function (DocumentSymbol) {\n    /**\n     * Creates a new symbol information literal.\n     *\n     * @param name The name of the symbol.\n     * @param detail The detail of the symbol.\n     * @param kind The kind of the symbol.\n     * @param range The range of the symbol.\n     * @param selectionRange The selectionRange of the symbol.\n     * @param children Children of the symbol.\n     */\n    function create(name, detail, kind, range, selectionRange, children) {\n        var result = {\n            name: name,\n            detail: detail,\n            kind: kind,\n            range: range,\n            selectionRange: selectionRange\n        };\n        if (children !== void 0) {\n            result.children = children;\n        }\n        return result;\n    }\n    DocumentSymbol.create = create;\n    /**\n     * Checks whether the given literal conforms to the [DocumentSymbol](#DocumentSymbol) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return candidate &&\n            Is.string(candidate.name) && Is.number(candidate.kind) &&\n            Range.is(candidate.range) && Range.is(candidate.selectionRange) &&\n            (candidate.detail === void 0 || Is.string(candidate.detail)) &&\n            (candidate.deprecated === void 0 || Is.boolean(candidate.deprecated)) &&\n            (candidate.children === void 0 || Array.isArray(candidate.children)) &&\n            (candidate.tags === void 0 || Array.isArray(candidate.tags));\n    }\n    DocumentSymbol.is = is;\n})(DocumentSymbol || (DocumentSymbol = {}));\n/**\n * A set of predefined code action kinds\n */\nexport var CodeActionKind;\n(function (CodeActionKind) {\n    /**\n     * Empty kind.\n     */\n    CodeActionKind.Empty = '';\n    /**\n     * Base kind for quickfix actions: 'quickfix'\n     */\n    CodeActionKind.QuickFix = 'quickfix';\n    /**\n     * Base kind for refactoring actions: 'refactor'\n     */\n    CodeActionKind.Refactor = 'refactor';\n    /**\n     * Base kind for refactoring extraction actions: 'refactor.extract'\n     *\n     * Example extract actions:\n     *\n     * - Extract method\n     * - Extract function\n     * - Extract variable\n     * - Extract interface from class\n     * - ...\n     */\n    CodeActionKind.RefactorExtract = 'refactor.extract';\n    /**\n     * Base kind for refactoring inline actions: 'refactor.inline'\n     *\n     * Example inline actions:\n     *\n     * - Inline function\n     * - Inline variable\n     * - Inline constant\n     * - ...\n     */\n    CodeActionKind.RefactorInline = 'refactor.inline';\n    /**\n     * Base kind for refactoring rewrite actions: 'refactor.rewrite'\n     *\n     * Example rewrite actions:\n     *\n     * - Convert JavaScript function to class\n     * - Add or remove parameter\n     * - Encapsulate field\n     * - Make method static\n     * - Move method to base class\n     * - ...\n     */\n    CodeActionKind.RefactorRewrite = 'refactor.rewrite';\n    /**\n     * Base kind for source actions: `source`\n     *\n     * Source code actions apply to the entire file.\n     */\n    CodeActionKind.Source = 'source';\n    /**\n     * Base kind for an organize imports source action: `source.organizeImports`\n     */\n    CodeActionKind.SourceOrganizeImports = 'source.organizeImports';\n    /**\n     * Base kind for auto-fix source actions: `source.fixAll`.\n     *\n     * Fix all actions automatically fix errors that have a clear fix that do not require user input.\n     * They should not suppress errors or perform unsafe fixes such as generating new types or classes.\n     *\n     * @since 3.15.0\n     */\n    CodeActionKind.SourceFixAll = 'source.fixAll';\n})(CodeActionKind || (CodeActionKind = {}));\n/**\n * The CodeActionContext namespace provides helper functions to work with\n * [CodeActionContext](#CodeActionContext) literals.\n */\nexport var CodeActionContext;\n(function (CodeActionContext) {\n    /**\n     * Creates a new CodeActionContext literal.\n     */\n    function create(diagnostics, only) {\n        var result = { diagnostics: diagnostics };\n        if (only !== void 0 && only !== null) {\n            result.only = only;\n        }\n        return result;\n    }\n    CodeActionContext.create = create;\n    /**\n     * Checks whether the given literal conforms to the [CodeActionContext](#CodeActionContext) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Is.typedArray(candidate.diagnostics, Diagnostic.is) && (candidate.only === void 0 || Is.typedArray(candidate.only, Is.string));\n    }\n    CodeActionContext.is = is;\n})(CodeActionContext || (CodeActionContext = {}));\nexport var CodeAction;\n(function (CodeAction) {\n    function create(title, commandOrEdit, kind) {\n        var result = { title: title };\n        if (Command.is(commandOrEdit)) {\n            result.command = commandOrEdit;\n        }\n        else {\n            result.edit = commandOrEdit;\n        }\n        if (kind !== void 0) {\n            result.kind = kind;\n        }\n        return result;\n    }\n    CodeAction.create = create;\n    function is(value) {\n        var candidate = value;\n        return candidate && Is.string(candidate.title) &&\n            (candidate.diagnostics === void 0 || Is.typedArray(candidate.diagnostics, Diagnostic.is)) &&\n            (candidate.kind === void 0 || Is.string(candidate.kind)) &&\n            (candidate.edit !== void 0 || candidate.command !== void 0) &&\n            (candidate.command === void 0 || Command.is(candidate.command)) &&\n            (candidate.isPreferred === void 0 || Is.boolean(candidate.isPreferred)) &&\n            (candidate.edit === void 0 || WorkspaceEdit.is(candidate.edit));\n    }\n    CodeAction.is = is;\n})(CodeAction || (CodeAction = {}));\n/**\n * The CodeLens namespace provides helper functions to work with\n * [CodeLens](#CodeLens) literals.\n */\nexport var CodeLens;\n(function (CodeLens) {\n    /**\n     * Creates a new CodeLens literal.\n     */\n    function create(range, data) {\n        var result = { range: range };\n        if (Is.defined(data)) {\n            result.data = data;\n        }\n        return result;\n    }\n    CodeLens.create = create;\n    /**\n     * Checks whether the given literal conforms to the [CodeLens](#CodeLens) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Range.is(candidate.range) && (Is.undefined(candidate.command) || Command.is(candidate.command));\n    }\n    CodeLens.is = is;\n})(CodeLens || (CodeLens = {}));\n/**\n * The FormattingOptions namespace provides helper functions to work with\n * [FormattingOptions](#FormattingOptions) literals.\n */\nexport var FormattingOptions;\n(function (FormattingOptions) {\n    /**\n     * Creates a new FormattingOptions literal.\n     */\n    function create(tabSize, insertSpaces) {\n        return { tabSize: tabSize, insertSpaces: insertSpaces };\n    }\n    FormattingOptions.create = create;\n    /**\n     * Checks whether the given literal conforms to the [FormattingOptions](#FormattingOptions) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Is.number(candidate.tabSize) && Is.boolean(candidate.insertSpaces);\n    }\n    FormattingOptions.is = is;\n})(FormattingOptions || (FormattingOptions = {}));\n/**\n * The DocumentLink namespace provides helper functions to work with\n * [DocumentLink](#DocumentLink) literals.\n */\nexport var DocumentLink;\n(function (DocumentLink) {\n    /**\n     * Creates a new DocumentLink literal.\n     */\n    function create(range, target, data) {\n        return { range: range, target: target, data: data };\n    }\n    DocumentLink.create = create;\n    /**\n     * Checks whether the given literal conforms to the [DocumentLink](#DocumentLink) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Range.is(candidate.range) && (Is.undefined(candidate.target) || Is.string(candidate.target));\n    }\n    DocumentLink.is = is;\n})(DocumentLink || (DocumentLink = {}));\n/**\n * The SelectionRange namespace provides helper function to work with\n * SelectionRange literals.\n */\nexport var SelectionRange;\n(function (SelectionRange) {\n    /**\n     * Creates a new SelectionRange\n     * @param range the range.\n     * @param parent an optional parent.\n     */\n    function create(range, parent) {\n        return { range: range, parent: parent };\n    }\n    SelectionRange.create = create;\n    function is(value) {\n        var candidate = value;\n        return candidate !== undefined && Range.is(candidate.range) && (candidate.parent === undefined || SelectionRange.is(candidate.parent));\n    }\n    SelectionRange.is = is;\n})(SelectionRange || (SelectionRange = {}));\nexport var EOL = ['\\n', '\\r\\n', '\\r'];\n/**\n * @deprecated Use the text document from the new vscode-languageserver-textdocument package.\n */\nexport var TextDocument;\n(function (TextDocument) {\n    /**\n     * Creates a new ITextDocument literal from the given uri and content.\n     * @param uri The document's uri.\n     * @param languageId  The document's language Id.\n     * @param content The document's content.\n     */\n    function create(uri, languageId, version, content) {\n        return new FullTextDocument(uri, languageId, version, content);\n    }\n    TextDocument.create = create;\n    /**\n     * Checks whether the given literal conforms to the [ITextDocument](#ITextDocument) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Is.string(candidate.uri) && (Is.undefined(candidate.languageId) || Is.string(candidate.languageId)) && Is.number(candidate.lineCount)\n            && Is.func(candidate.getText) && Is.func(candidate.positionAt) && Is.func(candidate.offsetAt) ? true : false;\n    }\n    TextDocument.is = is;\n    function applyEdits(document, edits) {\n        var text = document.getText();\n        var sortedEdits = mergeSort(edits, function (a, b) {\n            var diff = a.range.start.line - b.range.start.line;\n            if (diff === 0) {\n                return a.range.start.character - b.range.start.character;\n            }\n            return diff;\n        });\n        var lastModifiedOffset = text.length;\n        for (var i = sortedEdits.length - 1; i >= 0; i--) {\n            var e = sortedEdits[i];\n            var startOffset = document.offsetAt(e.range.start);\n            var endOffset = document.offsetAt(e.range.end);\n            if (endOffset <= lastModifiedOffset) {\n                text = text.substring(0, startOffset) + e.newText + text.substring(endOffset, text.length);\n            }\n            else {\n                throw new Error('Overlapping edit');\n            }\n            lastModifiedOffset = startOffset;\n        }\n        return text;\n    }\n    TextDocument.applyEdits = applyEdits;\n    function mergeSort(data, compare) {\n        if (data.length <= 1) {\n            // sorted\n            return data;\n        }\n        var p = (data.length / 2) | 0;\n        var left = data.slice(0, p);\n        var right = data.slice(p);\n        mergeSort(left, compare);\n        mergeSort(right, compare);\n        var leftIdx = 0;\n        var rightIdx = 0;\n        var i = 0;\n        while (leftIdx < left.length && rightIdx < right.length) {\n            var ret = compare(left[leftIdx], right[rightIdx]);\n            if (ret <= 0) {\n                // smaller_equal -> take left to preserve order\n                data[i++] = left[leftIdx++];\n            }\n            else {\n                // greater -> take right\n                data[i++] = right[rightIdx++];\n            }\n        }\n        while (leftIdx < left.length) {\n            data[i++] = left[leftIdx++];\n        }\n        while (rightIdx < right.length) {\n            data[i++] = right[rightIdx++];\n        }\n        return data;\n    }\n})(TextDocument || (TextDocument = {}));\nvar FullTextDocument = /** @class */ (function () {\n    function FullTextDocument(uri, languageId, version, content) {\n        this._uri = uri;\n        this._languageId = languageId;\n        this._version = version;\n        this._content = content;\n        this._lineOffsets = undefined;\n    }\n    Object.defineProperty(FullTextDocument.prototype, \"uri\", {\n        get: function () {\n            return this._uri;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(FullTextDocument.prototype, \"languageId\", {\n        get: function () {\n            return this._languageId;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(FullTextDocument.prototype, \"version\", {\n        get: function () {\n            return this._version;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    FullTextDocument.prototype.getText = function (range) {\n        if (range) {\n            var start = this.offsetAt(range.start);\n            var end = this.offsetAt(range.end);\n            return this._content.substring(start, end);\n        }\n        return this._content;\n    };\n    FullTextDocument.prototype.update = function (event, version) {\n        this._content = event.text;\n        this._version = version;\n        this._lineOffsets = undefined;\n    };\n    FullTextDocument.prototype.getLineOffsets = function () {\n        if (this._lineOffsets === undefined) {\n            var lineOffsets = [];\n            var text = this._content;\n            var isLineStart = true;\n            for (var i = 0; i < text.length; i++) {\n                if (isLineStart) {\n                    lineOffsets.push(i);\n                    isLineStart = false;\n                }\n                var ch = text.charAt(i);\n                isLineStart = (ch === '\\r' || ch === '\\n');\n                if (ch === '\\r' && i + 1 < text.length && text.charAt(i + 1) === '\\n') {\n                    i++;\n                }\n            }\n            if (isLineStart && text.length > 0) {\n                lineOffsets.push(text.length);\n            }\n            this._lineOffsets = lineOffsets;\n        }\n        return this._lineOffsets;\n    };\n    FullTextDocument.prototype.positionAt = function (offset) {\n        offset = Math.max(Math.min(offset, this._content.length), 0);\n        var lineOffsets = this.getLineOffsets();\n        var low = 0, high = lineOffsets.length;\n        if (high === 0) {\n            return Position.create(0, offset);\n        }\n        while (low < high) {\n            var mid = Math.floor((low + high) / 2);\n            if (lineOffsets[mid] > offset) {\n                high = mid;\n            }\n            else {\n                low = mid + 1;\n            }\n        }\n        // low is the least x for which the line offset is larger than the current offset\n        // or array.length if no line offset is larger than the current offset\n        var line = low - 1;\n        return Position.create(line, offset - lineOffsets[line]);\n    };\n    FullTextDocument.prototype.offsetAt = function (position) {\n        var lineOffsets = this.getLineOffsets();\n        if (position.line >= lineOffsets.length) {\n            return this._content.length;\n        }\n        else if (position.line < 0) {\n            return 0;\n        }\n        var lineOffset = lineOffsets[position.line];\n        var nextLineOffset = (position.line + 1 < lineOffsets.length) ? lineOffsets[position.line + 1] : this._content.length;\n        return Math.max(Math.min(lineOffset + position.character, nextLineOffset), lineOffset);\n    };\n    Object.defineProperty(FullTextDocument.prototype, \"lineCount\", {\n        get: function () {\n            return this.getLineOffsets().length;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return FullTextDocument;\n}());\nvar Is;\n(function (Is) {\n    var toString = Object.prototype.toString;\n    function defined(value) {\n        return typeof value !== 'undefined';\n    }\n    Is.defined = defined;\n    function undefined(value) {\n        return typeof value === 'undefined';\n    }\n    Is.undefined = undefined;\n    function boolean(value) {\n        return value === true || value === false;\n    }\n    Is.boolean = boolean;\n    function string(value) {\n        return toString.call(value) === '[object String]';\n    }\n    Is.string = string;\n    function number(value) {\n        return toString.call(value) === '[object Number]';\n    }\n    Is.number = number;\n    function func(value) {\n        return toString.call(value) === '[object Function]';\n    }\n    Is.func = func;\n    function objectLiteral(value) {\n        // Strictly speaking class instances pass this check as well. Since the LSP\n        // doesn't use classes we ignore this for now. If we do we need to add something\n        // like this: `Object.getPrototypeOf(Object.getPrototypeOf(x)) === null`\n        return value !== null && typeof value === 'object';\n    }\n    Is.objectLiteral = objectLiteral;\n    function typedArray(value, check) {\n        return Array.isArray(value) && value.every(check);\n    }\n    Is.typedArray = typedArray;\n})(Is || (Is = {}));\n","/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\n'use strict';\nvar FullTextDocument = /** @class */ (function () {\n    function FullTextDocument(uri, languageId, version, content) {\n        this._uri = uri;\n        this._languageId = languageId;\n        this._version = version;\n        this._content = content;\n        this._lineOffsets = undefined;\n    }\n    Object.defineProperty(FullTextDocument.prototype, \"uri\", {\n        get: function () {\n            return this._uri;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(FullTextDocument.prototype, \"languageId\", {\n        get: function () {\n            return this._languageId;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(FullTextDocument.prototype, \"version\", {\n        get: function () {\n            return this._version;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    FullTextDocument.prototype.getText = function (range) {\n        if (range) {\n            var start = this.offsetAt(range.start);\n            var end = this.offsetAt(range.end);\n            return this._content.substring(start, end);\n        }\n        return this._content;\n    };\n    FullTextDocument.prototype.update = function (changes, version) {\n        for (var _i = 0, changes_1 = changes; _i < changes_1.length; _i++) {\n            var change = changes_1[_i];\n            if (FullTextDocument.isIncremental(change)) {\n                // makes sure start is before end\n                var range = getWellformedRange(change.range);\n                // update content\n                var startOffset = this.offsetAt(range.start);\n                var endOffset = this.offsetAt(range.end);\n                this._content = this._content.substring(0, startOffset) + change.text + this._content.substring(endOffset, this._content.length);\n                // update the offsets\n                var startLine = Math.max(range.start.line, 0);\n                var endLine = Math.max(range.end.line, 0);\n                var lineOffsets = this._lineOffsets;\n                var addedLineOffsets = computeLineOffsets(change.text, false, startOffset);\n                if (endLine - startLine === addedLineOffsets.length) {\n                    for (var i = 0, len = addedLineOffsets.length; i < len; i++) {\n                        lineOffsets[i + startLine + 1] = addedLineOffsets[i];\n                    }\n                }\n                else {\n                    if (addedLineOffsets.length < 10000) {\n                        lineOffsets.splice.apply(lineOffsets, [startLine + 1, endLine - startLine].concat(addedLineOffsets));\n                    }\n                    else { // avoid too many arguments for splice\n                        this._lineOffsets = lineOffsets = lineOffsets.slice(0, startLine + 1).concat(addedLineOffsets, lineOffsets.slice(endLine + 1));\n                    }\n                }\n                var diff = change.text.length - (endOffset - startOffset);\n                if (diff !== 0) {\n                    for (var i = startLine + 1 + addedLineOffsets.length, len = lineOffsets.length; i < len; i++) {\n                        lineOffsets[i] = lineOffsets[i] + diff;\n                    }\n                }\n            }\n            else if (FullTextDocument.isFull(change)) {\n                this._content = change.text;\n                this._lineOffsets = undefined;\n            }\n            else {\n                throw new Error('Unknown change event received');\n            }\n        }\n        this._version = version;\n    };\n    FullTextDocument.prototype.getLineOffsets = function () {\n        if (this._lineOffsets === undefined) {\n            this._lineOffsets = computeLineOffsets(this._content, true);\n        }\n        return this._lineOffsets;\n    };\n    FullTextDocument.prototype.positionAt = function (offset) {\n        offset = Math.max(Math.min(offset, this._content.length), 0);\n        var lineOffsets = this.getLineOffsets();\n        var low = 0, high = lineOffsets.length;\n        if (high === 0) {\n            return { line: 0, character: offset };\n        }\n        while (low < high) {\n            var mid = Math.floor((low + high) / 2);\n            if (lineOffsets[mid] > offset) {\n                high = mid;\n            }\n            else {\n                low = mid + 1;\n            }\n        }\n        // low is the least x for which the line offset is larger than the current offset\n        // or array.length if no line offset is larger than the current offset\n        var line = low - 1;\n        return { line: line, character: offset - lineOffsets[line] };\n    };\n    FullTextDocument.prototype.offsetAt = function (position) {\n        var lineOffsets = this.getLineOffsets();\n        if (position.line >= lineOffsets.length) {\n            return this._content.length;\n        }\n        else if (position.line < 0) {\n            return 0;\n        }\n        var lineOffset = lineOffsets[position.line];\n        var nextLineOffset = (position.line + 1 < lineOffsets.length) ? lineOffsets[position.line + 1] : this._content.length;\n        return Math.max(Math.min(lineOffset + position.character, nextLineOffset), lineOffset);\n    };\n    Object.defineProperty(FullTextDocument.prototype, \"lineCount\", {\n        get: function () {\n            return this.getLineOffsets().length;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    FullTextDocument.isIncremental = function (event) {\n        var candidate = event;\n        return candidate !== undefined && candidate !== null &&\n            typeof candidate.text === 'string' && candidate.range !== undefined &&\n            (candidate.rangeLength === undefined || typeof candidate.rangeLength === 'number');\n    };\n    FullTextDocument.isFull = function (event) {\n        var candidate = event;\n        return candidate !== undefined && candidate !== null &&\n            typeof candidate.text === 'string' && candidate.range === undefined && candidate.rangeLength === undefined;\n    };\n    return FullTextDocument;\n}());\nexport var TextDocument;\n(function (TextDocument) {\n    /**\n     * Creates a new text document.\n     *\n     * @param uri The document's uri.\n     * @param languageId  The document's language Id.\n     * @param version The document's initial version number.\n     * @param content The document's content.\n     */\n    function create(uri, languageId, version, content) {\n        return new FullTextDocument(uri, languageId, version, content);\n    }\n    TextDocument.create = create;\n    /**\n     * Updates a TextDocument by modifing its content.\n     *\n     * @param document the document to update. Only documents created by TextDocument.create are valid inputs.\n     * @param changes the changes to apply to the document.\n     * @returns The updated TextDocument. Note: That's the same document instance passed in as first parameter.\n     *\n     */\n    function update(document, changes, version) {\n        if (document instanceof FullTextDocument) {\n            document.update(changes, version);\n            return document;\n        }\n        else {\n            throw new Error('TextDocument.update: document must be created by TextDocument.create');\n        }\n    }\n    TextDocument.update = update;\n    function applyEdits(document, edits) {\n        var text = document.getText();\n        var sortedEdits = mergeSort(edits.map(getWellformedEdit), function (a, b) {\n            var diff = a.range.start.line - b.range.start.line;\n            if (diff === 0) {\n                return a.range.start.character - b.range.start.character;\n            }\n            return diff;\n        });\n        var lastModifiedOffset = 0;\n        var spans = [];\n        for (var _i = 0, sortedEdits_1 = sortedEdits; _i < sortedEdits_1.length; _i++) {\n            var e = sortedEdits_1[_i];\n            var startOffset = document.offsetAt(e.range.start);\n            if (startOffset < lastModifiedOffset) {\n                throw new Error('Overlapping edit');\n            }\n            else if (startOffset > lastModifiedOffset) {\n                spans.push(text.substring(lastModifiedOffset, startOffset));\n            }\n            if (e.newText.length) {\n                spans.push(e.newText);\n            }\n            lastModifiedOffset = document.offsetAt(e.range.end);\n        }\n        spans.push(text.substr(lastModifiedOffset));\n        return spans.join('');\n    }\n    TextDocument.applyEdits = applyEdits;\n})(TextDocument || (TextDocument = {}));\nfunction mergeSort(data, compare) {\n    if (data.length <= 1) {\n        // sorted\n        return data;\n    }\n    var p = (data.length / 2) | 0;\n    var left = data.slice(0, p);\n    var right = data.slice(p);\n    mergeSort(left, compare);\n    mergeSort(right, compare);\n    var leftIdx = 0;\n    var rightIdx = 0;\n    var i = 0;\n    while (leftIdx < left.length && rightIdx < right.length) {\n        var ret = compare(left[leftIdx], right[rightIdx]);\n        if (ret <= 0) {\n            // smaller_equal -> take left to preserve order\n            data[i++] = left[leftIdx++];\n        }\n        else {\n            // greater -> take right\n            data[i++] = right[rightIdx++];\n        }\n    }\n    while (leftIdx < left.length) {\n        data[i++] = left[leftIdx++];\n    }\n    while (rightIdx < right.length) {\n        data[i++] = right[rightIdx++];\n    }\n    return data;\n}\nfunction computeLineOffsets(text, isAtLineStart, textOffset) {\n    if (textOffset === void 0) { textOffset = 0; }\n    var result = isAtLineStart ? [textOffset] : [];\n    for (var i = 0; i < text.length; i++) {\n        var ch = text.charCodeAt(i);\n        if (ch === 13 /* CarriageReturn */ || ch === 10 /* LineFeed */) {\n            if (ch === 13 /* CarriageReturn */ && i + 1 < text.length && text.charCodeAt(i + 1) === 10 /* LineFeed */) {\n                i++;\n            }\n            result.push(textOffset + i + 1);\n        }\n    }\n    return result;\n}\nfunction getWellformedRange(range) {\n    var start = range.start;\n    var end = range.end;\n    if (start.line > end.line || (start.line === end.line && start.character > end.character)) {\n        return { start: end, end: start };\n    }\n    return range;\n}\nfunction getWellformedEdit(textEdit) {\n    var range = getWellformedRange(textEdit.range);\n    if (range !== textEdit.range) {\n        return { newText: textEdit.newText, range: range };\n    }\n    return textEdit;\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nimport { MarkupKind } from './_deps/vscode-languageserver-types/main.js';\nexport { TextDocument } from '../vscode-languageserver-textdocument/lib/esm/main.js';\nexport * from './_deps/vscode-languageserver-types/main.js';\nexport var ClientCapabilities;\n(function (ClientCapabilities) {\n    ClientCapabilities.LATEST = {\n        textDocument: {\n            completion: {\n                completionItem: {\n                    documentationFormat: [MarkupKind.Markdown, MarkupKind.PlainText]\n                }\n            },\n            hover: {\n                contentFormat: [MarkupKind.Markdown, MarkupKind.PlainText]\n            }\n        }\n    };\n})(ClientCapabilities || (ClientCapabilities = {}));\nexport var FileType;\n(function (FileType) {\n    /**\n     * The file type is unknown.\n     */\n    FileType[FileType[\"Unknown\"] = 0] = \"Unknown\";\n    /**\n     * A regular file.\n     */\n    FileType[FileType[\"File\"] = 1] = \"File\";\n    /**\n     * A directory.\n     */\n    FileType[FileType[\"Directory\"] = 2] = \"Directory\";\n    /**\n     * A symbolic link to a file.\n     */\n    FileType[FileType[\"SymbolicLink\"] = 64] = \"SymbolicLink\";\n})(FileType || (FileType = {}));\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar _a;\nvar isWindows;\nif (typeof process === 'object') {\n    isWindows = process.platform === 'win32';\n}\nelse if (typeof navigator === 'object') {\n    var userAgent = navigator.userAgent;\n    isWindows = userAgent.indexOf('Windows') >= 0;\n}\nfunction isHighSurrogate(charCode) {\n    return (0xD800 <= charCode && charCode <= 0xDBFF);\n}\nfunction isLowSurrogate(charCode) {\n    return (0xDC00 <= charCode && charCode <= 0xDFFF);\n}\nfunction isLowerAsciiHex(code) {\n    return code >= 97 /* a */ && code <= 102 /* f */;\n}\nfunction isLowerAsciiLetter(code) {\n    return code >= 97 /* a */ && code <= 122 /* z */;\n}\nfunction isUpperAsciiLetter(code) {\n    return code >= 65 /* A */ && code <= 90 /* Z */;\n}\nfunction isAsciiLetter(code) {\n    return isLowerAsciiLetter(code) || isUpperAsciiLetter(code);\n}\n//#endregion\nvar _schemePattern = /^\\w[\\w\\d+.-]*$/;\nvar _singleSlashStart = /^\\//;\nvar _doubleSlashStart = /^\\/\\//;\nfunction _validateUri(ret, _strict) {\n    // scheme, must be set\n    if (!ret.scheme && _strict) {\n        throw new Error(\"[UriError]: Scheme is missing: {scheme: \\\"\\\", authority: \\\"\" + ret.authority + \"\\\", path: \\\"\" + ret.path + \"\\\", query: \\\"\" + ret.query + \"\\\", fragment: \\\"\" + ret.fragment + \"\\\"}\");\n    }\n    // scheme, https://tools.ietf.org/html/rfc3986#section-3.1\n    // ALPHA *( ALPHA / DIGIT / \"+\" / \"-\" / \".\" )\n    if (ret.scheme && !_schemePattern.test(ret.scheme)) {\n        throw new Error('[UriError]: Scheme contains illegal characters.');\n    }\n    // path, http://tools.ietf.org/html/rfc3986#section-3.3\n    // If a URI contains an authority component, then the path component\n    // must either be empty or begin with a slash (\"/\") character.  If a URI\n    // does not contain an authority component, then the path cannot begin\n    // with two slash characters (\"//\").\n    if (ret.path) {\n        if (ret.authority) {\n            if (!_singleSlashStart.test(ret.path)) {\n                throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash (\"/\") character');\n            }\n        }\n        else {\n            if (_doubleSlashStart.test(ret.path)) {\n                throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters (\"//\")');\n            }\n        }\n    }\n}\n// for a while we allowed uris *without* schemes and this is the migration\n// for them, e.g. an uri without scheme and without strict-mode warns and falls\n// back to the file-scheme. that should cause the least carnage and still be a\n// clear warning\nfunction _schemeFix(scheme, _strict) {\n    if (!scheme && !_strict) {\n        return 'file';\n    }\n    return scheme;\n}\n// implements a bit of https://tools.ietf.org/html/rfc3986#section-5\nfunction _referenceResolution(scheme, path) {\n    // the slash-character is our 'default base' as we don't\n    // support constructing URIs relative to other URIs. This\n    // also means that we alter and potentially break paths.\n    // see https://tools.ietf.org/html/rfc3986#section-5.1.4\n    switch (scheme) {\n        case 'https':\n        case 'http':\n        case 'file':\n            if (!path) {\n                path = _slash;\n            }\n            else if (path[0] !== _slash) {\n                path = _slash + path;\n            }\n            break;\n    }\n    return path;\n}\nvar _empty = '';\nvar _slash = '/';\nvar _regexp = /^(([^:/?#]+?):)?(\\/\\/([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?/;\n/**\n * Uniform Resource Identifier (URI) http://tools.ietf.org/html/rfc3986.\n * This class is a simple parser which creates the basic component parts\n * (http://tools.ietf.org/html/rfc3986#section-3) with minimal validation\n * and encoding.\n *\n * ```txt\n *       foo://example.com:8042/over/there?name=ferret#nose\n *       \\_/   \\______________/\\_________/ \\_________/ \\__/\n *        |           |            |            |        |\n *     scheme     authority       path        query   fragment\n *        |   _____________________|__\n *       / \\ /                        \\\n *       urn:example:animal:ferret:nose\n * ```\n */\nvar URI = /** @class */ (function () {\n    /**\n     * @internal\n     */\n    function URI(schemeOrData, authority, path, query, fragment, _strict) {\n        if (_strict === void 0) { _strict = false; }\n        if (typeof schemeOrData === 'object') {\n            this.scheme = schemeOrData.scheme || _empty;\n            this.authority = schemeOrData.authority || _empty;\n            this.path = schemeOrData.path || _empty;\n            this.query = schemeOrData.query || _empty;\n            this.fragment = schemeOrData.fragment || _empty;\n            // no validation because it's this URI\n            // that creates uri components.\n            // _validateUri(this);\n        }\n        else {\n            this.scheme = _schemeFix(schemeOrData, _strict);\n            this.authority = authority || _empty;\n            this.path = _referenceResolution(this.scheme, path || _empty);\n            this.query = query || _empty;\n            this.fragment = fragment || _empty;\n            _validateUri(this, _strict);\n        }\n    }\n    URI.isUri = function (thing) {\n        if (thing instanceof URI) {\n            return true;\n        }\n        if (!thing) {\n            return false;\n        }\n        return typeof thing.authority === 'string'\n            && typeof thing.fragment === 'string'\n            && typeof thing.path === 'string'\n            && typeof thing.query === 'string'\n            && typeof thing.scheme === 'string'\n            && typeof thing.fsPath === 'function'\n            && typeof thing.with === 'function'\n            && typeof thing.toString === 'function';\n    };\n    Object.defineProperty(URI.prototype, \"fsPath\", {\n        // ---- filesystem path -----------------------\n        /**\n         * Returns a string representing the corresponding file system path of this URI.\n         * Will handle UNC paths, normalizes windows drive letters to lower-case, and uses the\n         * platform specific path separator.\n         *\n         * * Will *not* validate the path for invalid characters and semantics.\n         * * Will *not* look at the scheme of this URI.\n         * * The result shall *not* be used for display purposes but for accessing a file on disk.\n         *\n         *\n         * The *difference* to `URI#path` is the use of the platform specific separator and the handling\n         * of UNC paths. See the below sample of a file-uri with an authority (UNC path).\n         *\n         * ```ts\n            const u = URI.parse('file://server/c$/folder/file.txt')\n            u.authority === 'server'\n            u.path === '/shares/c$/file.txt'\n            u.fsPath === '\\\\server\\c$\\folder\\file.txt'\n        ```\n         *\n         * Using `URI#path` to read a file (using fs-apis) would not be enough because parts of the path,\n         * namely the server name, would be missing. Therefore `URI#fsPath` exists - it's sugar to ease working\n         * with URIs that represent files on disk (`file` scheme).\n         */\n        get: function () {\n            // if (this.scheme !== 'file') {\n            // \tconsole.warn(`[UriError] calling fsPath with scheme ${this.scheme}`);\n            // }\n            return uriToFsPath(this, false);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    // ---- modify to new -------------------------\n    URI.prototype.with = function (change) {\n        if (!change) {\n            return this;\n        }\n        var scheme = change.scheme, authority = change.authority, path = change.path, query = change.query, fragment = change.fragment;\n        if (scheme === undefined) {\n            scheme = this.scheme;\n        }\n        else if (scheme === null) {\n            scheme = _empty;\n        }\n        if (authority === undefined) {\n            authority = this.authority;\n        }\n        else if (authority === null) {\n            authority = _empty;\n        }\n        if (path === undefined) {\n            path = this.path;\n        }\n        else if (path === null) {\n            path = _empty;\n        }\n        if (query === undefined) {\n            query = this.query;\n        }\n        else if (query === null) {\n            query = _empty;\n        }\n        if (fragment === undefined) {\n            fragment = this.fragment;\n        }\n        else if (fragment === null) {\n            fragment = _empty;\n        }\n        if (scheme === this.scheme\n            && authority === this.authority\n            && path === this.path\n            && query === this.query\n            && fragment === this.fragment) {\n            return this;\n        }\n        return new _URI(scheme, authority, path, query, fragment);\n    };\n    // ---- parse & validate ------------------------\n    /**\n     * Creates a new URI from a string, e.g. `http://www.msft.com/some/path`,\n     * `file:///usr/home`, or `scheme:with/path`.\n     *\n     * @param value A string which represents an URI (see `URI#toString`).\n     */\n    URI.parse = function (value, _strict) {\n        if (_strict === void 0) { _strict = false; }\n        var match = _regexp.exec(value);\n        if (!match) {\n            return new _URI(_empty, _empty, _empty, _empty, _empty);\n        }\n        return new _URI(match[2] || _empty, percentDecode(match[4] || _empty), percentDecode(match[5] || _empty), percentDecode(match[7] || _empty), percentDecode(match[9] || _empty), _strict);\n    };\n    /**\n     * Creates a new URI from a file system path, e.g. `c:\\my\\files`,\n     * `/usr/home`, or `\\\\server\\share\\some\\path`.\n     *\n     * The *difference* between `URI#parse` and `URI#file` is that the latter treats the argument\n     * as path, not as stringified-uri. E.g. `URI.file(path)` is **not the same as**\n     * `URI.parse('file://' + path)` because the path might contain characters that are\n     * interpreted (# and ?). See the following sample:\n     * ```ts\n    const good = URI.file('/coding/c#/project1');\n    good.scheme === 'file';\n    good.path === '/coding/c#/project1';\n    good.fragment === '';\n    const bad = URI.parse('file://' + '/coding/c#/project1');\n    bad.scheme === 'file';\n    bad.path === '/coding/c'; // path is now broken\n    bad.fragment === '/project1';\n    ```\n     *\n     * @param path A file system path (see `URI#fsPath`)\n     */\n    URI.file = function (path) {\n        var authority = _empty;\n        // normalize to fwd-slashes on windows,\n        // on other systems bwd-slashes are valid\n        // filename character, eg /f\\oo/ba\\r.txt\n        if (isWindows) {\n            path = path.replace(/\\\\/g, _slash);\n        }\n        // check for authority as used in UNC shares\n        // or use the path as given\n        if (path[0] === _slash && path[1] === _slash) {\n            var idx = path.indexOf(_slash, 2);\n            if (idx === -1) {\n                authority = path.substring(2);\n                path = _slash;\n            }\n            else {\n                authority = path.substring(2, idx);\n                path = path.substring(idx) || _slash;\n            }\n        }\n        return new _URI('file', authority, path, _empty, _empty);\n    };\n    URI.from = function (components) {\n        return new _URI(components.scheme, components.authority, components.path, components.query, components.fragment);\n    };\n    // /**\n    //  * Join a URI path with path fragments and normalizes the resulting path.\n    //  *\n    //  * @param uri The input URI.\n    //  * @param pathFragment The path fragment to add to the URI path.\n    //  * @returns The resulting URI.\n    //  */\n    // static joinPath(uri: URI, ...pathFragment: string[]): URI {\n    // \tif (!uri.path) {\n    // \t\tthrow new Error(`[UriError]: cannot call joinPaths on URI without path`);\n    // \t}\n    // \tlet newPath: string;\n    // \tif (isWindows && uri.scheme === 'file') {\n    // \t\tnewPath = URI.file(paths.win32.join(uriToFsPath(uri, true), ...pathFragment)).path;\n    // \t} else {\n    // \t\tnewPath = paths.posix.join(uri.path, ...pathFragment);\n    // \t}\n    // \treturn uri.with({ path: newPath });\n    // }\n    // ---- printing/externalize ---------------------------\n    /**\n     * Creates a string representation for this URI. It's guaranteed that calling\n     * `URI.parse` with the result of this function creates an URI which is equal\n     * to this URI.\n     *\n     * * The result shall *not* be used for display purposes but for externalization or transport.\n     * * The result will be encoded using the percentage encoding and encoding happens mostly\n     * ignore the scheme-specific encoding rules.\n     *\n     * @param skipEncoding Do not encode the result, default is `false`\n     */\n    URI.prototype.toString = function (skipEncoding) {\n        if (skipEncoding === void 0) { skipEncoding = false; }\n        return _asFormatted(this, skipEncoding);\n    };\n    URI.prototype.toJSON = function () {\n        return this;\n    };\n    URI.revive = function (data) {\n        if (!data) {\n            return data;\n        }\n        else if (data instanceof URI) {\n            return data;\n        }\n        else {\n            var result = new _URI(data);\n            result._formatted = data.external;\n            result._fsPath = data._sep === _pathSepMarker ? data.fsPath : null;\n            return result;\n        }\n    };\n    return URI;\n}());\nexport { URI };\nvar _pathSepMarker = isWindows ? 1 : undefined;\n// eslint-disable-next-line @typescript-eslint/class-name-casing\nvar _URI = /** @class */ (function (_super) {\n    __extends(_URI, _super);\n    function _URI() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this._formatted = null;\n        _this._fsPath = null;\n        return _this;\n    }\n    Object.defineProperty(_URI.prototype, \"fsPath\", {\n        get: function () {\n            if (!this._fsPath) {\n                this._fsPath = uriToFsPath(this, false);\n            }\n            return this._fsPath;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    _URI.prototype.toString = function (skipEncoding) {\n        if (skipEncoding === void 0) { skipEncoding = false; }\n        if (!skipEncoding) {\n            if (!this._formatted) {\n                this._formatted = _asFormatted(this, false);\n            }\n            return this._formatted;\n        }\n        else {\n            // we don't cache that\n            return _asFormatted(this, true);\n        }\n    };\n    _URI.prototype.toJSON = function () {\n        var res = {\n            $mid: 1\n        };\n        // cached state\n        if (this._fsPath) {\n            res.fsPath = this._fsPath;\n            res._sep = _pathSepMarker;\n        }\n        if (this._formatted) {\n            res.external = this._formatted;\n        }\n        // uri components\n        if (this.path) {\n            res.path = this.path;\n        }\n        if (this.scheme) {\n            res.scheme = this.scheme;\n        }\n        if (this.authority) {\n            res.authority = this.authority;\n        }\n        if (this.query) {\n            res.query = this.query;\n        }\n        if (this.fragment) {\n            res.fragment = this.fragment;\n        }\n        return res;\n    };\n    return _URI;\n}(URI));\n// reserved characters: https://tools.ietf.org/html/rfc3986#section-2.2\nvar encodeTable = (_a = {},\n    _a[58 /* Colon */] = '%3A',\n    _a[47 /* Slash */] = '%2F',\n    _a[63 /* QuestionMark */] = '%3F',\n    _a[35 /* Hash */] = '%23',\n    _a[91 /* OpenSquareBracket */] = '%5B',\n    _a[93 /* CloseSquareBracket */] = '%5D',\n    _a[64 /* AtSign */] = '%40',\n    _a[33 /* ExclamationMark */] = '%21',\n    _a[36 /* DollarSign */] = '%24',\n    _a[38 /* Ampersand */] = '%26',\n    _a[39 /* SingleQuote */] = '%27',\n    _a[40 /* OpenParen */] = '%28',\n    _a[41 /* CloseParen */] = '%29',\n    _a[42 /* Asterisk */] = '%2A',\n    _a[43 /* Plus */] = '%2B',\n    _a[44 /* Comma */] = '%2C',\n    _a[59 /* Semicolon */] = '%3B',\n    _a[61 /* Equals */] = '%3D',\n    _a[32 /* Space */] = '%20',\n    _a);\nfunction encodeURIComponentFast(uriComponent, allowSlash) {\n    var res = undefined;\n    var nativeEncodePos = -1;\n    for (var pos = 0; pos < uriComponent.length; pos++) {\n        var code = uriComponent.charCodeAt(pos);\n        // unreserved characters: https://tools.ietf.org/html/rfc3986#section-2.3\n        if ((code >= 97 /* a */ && code <= 122 /* z */)\n            || (code >= 65 /* A */ && code <= 90 /* Z */)\n            || (code >= 48 /* Digit0 */ && code <= 57 /* Digit9 */)\n            || code === 45 /* Dash */\n            || code === 46 /* Period */\n            || code === 95 /* Underline */\n            || code === 126 /* Tilde */\n            || (allowSlash && code === 47 /* Slash */)) {\n            // check if we are delaying native encode\n            if (nativeEncodePos !== -1) {\n                res += encodeURIComponent(uriComponent.substring(nativeEncodePos, pos));\n                nativeEncodePos = -1;\n            }\n            // check if we write into a new string (by default we try to return the param)\n            if (res !== undefined) {\n                res += uriComponent.charAt(pos);\n            }\n        }\n        else {\n            // encoding needed, we need to allocate a new string\n            if (res === undefined) {\n                res = uriComponent.substr(0, pos);\n            }\n            // check with default table first\n            var escaped = encodeTable[code];\n            if (escaped !== undefined) {\n                // check if we are delaying native encode\n                if (nativeEncodePos !== -1) {\n                    res += encodeURIComponent(uriComponent.substring(nativeEncodePos, pos));\n                    nativeEncodePos = -1;\n                }\n                // append escaped variant to result\n                res += escaped;\n            }\n            else if (nativeEncodePos === -1) {\n                // use native encode only when needed\n                nativeEncodePos = pos;\n            }\n        }\n    }\n    if (nativeEncodePos !== -1) {\n        res += encodeURIComponent(uriComponent.substring(nativeEncodePos));\n    }\n    return res !== undefined ? res : uriComponent;\n}\nfunction encodeURIComponentMinimal(path) {\n    var res = undefined;\n    for (var pos = 0; pos < path.length; pos++) {\n        var code = path.charCodeAt(pos);\n        if (code === 35 /* Hash */ || code === 63 /* QuestionMark */) {\n            if (res === undefined) {\n                res = path.substr(0, pos);\n            }\n            res += encodeTable[code];\n        }\n        else {\n            if (res !== undefined) {\n                res += path[pos];\n            }\n        }\n    }\n    return res !== undefined ? res : path;\n}\n/**\n * Compute `fsPath` for the given uri\n */\nexport function uriToFsPath(uri, keepDriveLetterCasing) {\n    var value;\n    if (uri.authority && uri.path.length > 1 && uri.scheme === 'file') {\n        // unc path: file://shares/c$/far/boo\n        value = \"//\" + uri.authority + uri.path;\n    }\n    else if (uri.path.charCodeAt(0) === 47 /* Slash */\n        && (uri.path.charCodeAt(1) >= 65 /* A */ && uri.path.charCodeAt(1) <= 90 /* Z */ || uri.path.charCodeAt(1) >= 97 /* a */ && uri.path.charCodeAt(1) <= 122 /* z */)\n        && uri.path.charCodeAt(2) === 58 /* Colon */) {\n        if (!keepDriveLetterCasing) {\n            // windows drive letter: file:///c:/far/boo\n            value = uri.path[1].toLowerCase() + uri.path.substr(2);\n        }\n        else {\n            value = uri.path.substr(1);\n        }\n    }\n    else {\n        // other path\n        value = uri.path;\n    }\n    if (isWindows) {\n        value = value.replace(/\\//g, '\\\\');\n    }\n    return value;\n}\n/**\n * Create the external version of a uri\n */\nfunction _asFormatted(uri, skipEncoding) {\n    var encoder = !skipEncoding\n        ? encodeURIComponentFast\n        : encodeURIComponentMinimal;\n    var res = '';\n    var scheme = uri.scheme, authority = uri.authority, path = uri.path, query = uri.query, fragment = uri.fragment;\n    if (scheme) {\n        res += scheme;\n        res += ':';\n    }\n    if (authority || scheme === 'file') {\n        res += _slash;\n        res += _slash;\n    }\n    if (authority) {\n        var idx = authority.indexOf('@');\n        if (idx !== -1) {\n            // <user>@<auth>\n            var userinfo = authority.substr(0, idx);\n            authority = authority.substr(idx + 1);\n            idx = userinfo.indexOf(':');\n            if (idx === -1) {\n                res += encoder(userinfo, false);\n            }\n            else {\n                // <user>:<pass>@<auth>\n                res += encoder(userinfo.substr(0, idx), false);\n                res += ':';\n                res += encoder(userinfo.substr(idx + 1), false);\n            }\n            res += '@';\n        }\n        authority = authority.toLowerCase();\n        idx = authority.indexOf(':');\n        if (idx === -1) {\n            res += encoder(authority, false);\n        }\n        else {\n            // <auth>:<port>\n            res += encoder(authority.substr(0, idx), false);\n            res += authority.substr(idx);\n        }\n    }\n    if (path) {\n        // lower-case windows drive letters in /C:/fff or C:/fff\n        if (path.length >= 3 && path.charCodeAt(0) === 47 /* Slash */ && path.charCodeAt(2) === 58 /* Colon */) {\n            var code = path.charCodeAt(1);\n            if (code >= 65 /* A */ && code <= 90 /* Z */) {\n                path = \"/\" + String.fromCharCode(code + 32) + \":\" + path.substr(3); // \"/c:\".length === 3\n            }\n        }\n        else if (path.length >= 2 && path.charCodeAt(1) === 58 /* Colon */) {\n            var code = path.charCodeAt(0);\n            if (code >= 65 /* A */ && code <= 90 /* Z */) {\n                path = String.fromCharCode(code + 32) + \":\" + path.substr(2); // \"/c:\".length === 3\n            }\n        }\n        // encode the rest of the path\n        res += encoder(path, true);\n    }\n    if (query) {\n        res += '?';\n        res += encoder(query, false);\n    }\n    if (fragment) {\n        res += '#';\n        res += !skipEncoding ? encodeURIComponentFast(fragment, false) : fragment;\n    }\n    return res;\n}\n// --- decode\nfunction decodeURIComponentGraceful(str) {\n    try {\n        return decodeURIComponent(str);\n    }\n    catch (_a) {\n        if (str.length > 3) {\n            return str.substr(0, 3) + decodeURIComponentGraceful(str.substr(3));\n        }\n        else {\n            return str;\n        }\n    }\n}\nvar _rEncodedAsHex = /(%[0-9A-Za-z][0-9A-Za-z])+/g;\nfunction percentDecode(str) {\n    if (!str.match(_rEncodedAsHex)) {\n        return str;\n    }\n    return str.replace(_rEncodedAsHex, function (match) { return decodeURIComponentGraceful(match); });\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { URI } from \"../../vscode-uri/index.js\";\nvar Slash = '/'.charCodeAt(0);\nvar Dot = '.'.charCodeAt(0);\nexport function isAbsolutePath(path) {\n    return path.charCodeAt(0) === Slash;\n}\nexport function dirname(uri) {\n    var lastIndexOfSlash = uri.lastIndexOf('/');\n    return lastIndexOfSlash !== -1 ? uri.substr(0, lastIndexOfSlash) : '';\n}\nexport function basename(uri) {\n    var lastIndexOfSlash = uri.lastIndexOf('/');\n    return uri.substr(lastIndexOfSlash + 1);\n}\nexport function extname(uri) {\n    for (var i = uri.length - 1; i >= 0; i--) {\n        var ch = uri.charCodeAt(i);\n        if (ch === Dot) {\n            if (i > 0 && uri.charCodeAt(i - 1) !== Slash) {\n                return uri.substr(i);\n            }\n            else {\n                break;\n            }\n        }\n        else if (ch === Slash) {\n            break;\n        }\n    }\n    return '';\n}\nexport function resolvePath(uriString, path) {\n    if (isAbsolutePath(path)) {\n        var uri = URI.parse(uriString);\n        var parts = path.split('/');\n        return uri.with({ path: normalizePath(parts) }).toString();\n    }\n    return joinPath(uriString, path);\n}\nexport function normalizePath(parts) {\n    var newParts = [];\n    for (var _i = 0, parts_1 = parts; _i < parts_1.length; _i++) {\n        var part = parts_1[_i];\n        if (part.length === 0 || part.length === 1 && part.charCodeAt(0) === Dot) {\n            // ignore\n        }\n        else if (part.length === 2 && part.charCodeAt(0) === Dot && part.charCodeAt(1) === Dot) {\n            newParts.pop();\n        }\n        else {\n            newParts.push(part);\n        }\n    }\n    if (parts.length > 1 && parts[parts.length - 1].length === 0) {\n        newParts.push('');\n    }\n    var res = newParts.join('/');\n    if (parts[0].length === 0) {\n        res = '/' + res;\n    }\n    return res;\n}\nexport function joinPath(uriString) {\n    var paths = [];\n    for (var _i = 1; _i < arguments.length; _i++) {\n        paths[_i - 1] = arguments[_i];\n    }\n    var uri = URI.parse(uriString);\n    var parts = uri.path.split('/');\n    for (var _a = 0, paths_1 = paths; _a < paths_1.length; _a++) {\n        var path = paths_1[_a];\n        parts.push.apply(parts, path.split('/'));\n    }\n    return uri.with({ path: normalizePath(parts) }).toString();\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nimport { FileType, CompletionItemKind, TextEdit, Range, Position } from '../cssLanguageTypes.js';\nimport { startsWith, endsWith } from '../utils/strings.js';\nimport { joinPath } from '../utils/resources.js';\nvar PathCompletionParticipant = /** @class */ (function () {\n    function PathCompletionParticipant(readDirectory) {\n        this.readDirectory = readDirectory;\n        this.literalCompletions = [];\n        this.importCompletions = [];\n    }\n    PathCompletionParticipant.prototype.onCssURILiteralValue = function (context) {\n        this.literalCompletions.push(context);\n    };\n    PathCompletionParticipant.prototype.onCssImportPath = function (context) {\n        this.importCompletions.push(context);\n    };\n    PathCompletionParticipant.prototype.computeCompletions = function (document, documentContext) {\n        return __awaiter(this, void 0, void 0, function () {\n            var result, _i, _a, literalCompletion, uriValue, fullValue, items, _b, items_1, item, _c, _d, importCompletion, pathValue, fullValue, suggestions, _e, suggestions_1, item;\n            return __generator(this, function (_f) {\n                switch (_f.label) {\n                    case 0:\n                        result = { items: [], isIncomplete: false };\n                        _i = 0, _a = this.literalCompletions;\n                        _f.label = 1;\n                    case 1:\n                        if (!(_i < _a.length)) return [3 /*break*/, 5];\n                        literalCompletion = _a[_i];\n                        uriValue = literalCompletion.uriValue;\n                        fullValue = stripQuotes(uriValue);\n                        if (!(fullValue === '.' || fullValue === '..')) return [3 /*break*/, 2];\n                        result.isIncomplete = true;\n                        return [3 /*break*/, 4];\n                    case 2: return [4 /*yield*/, this.providePathSuggestions(uriValue, literalCompletion.position, literalCompletion.range, document, documentContext)];\n                    case 3:\n                        items = _f.sent();\n                        for (_b = 0, items_1 = items; _b < items_1.length; _b++) {\n                            item = items_1[_b];\n                            result.items.push(item);\n                        }\n                        _f.label = 4;\n                    case 4:\n                        _i++;\n                        return [3 /*break*/, 1];\n                    case 5:\n                        _c = 0, _d = this.importCompletions;\n                        _f.label = 6;\n                    case 6:\n                        if (!(_c < _d.length)) return [3 /*break*/, 10];\n                        importCompletion = _d[_c];\n                        pathValue = importCompletion.pathValue;\n                        fullValue = stripQuotes(pathValue);\n                        if (!(fullValue === '.' || fullValue === '..')) return [3 /*break*/, 7];\n                        result.isIncomplete = true;\n                        return [3 /*break*/, 9];\n                    case 7: return [4 /*yield*/, this.providePathSuggestions(pathValue, importCompletion.position, importCompletion.range, document, documentContext)];\n                    case 8:\n                        suggestions = _f.sent();\n                        if (document.languageId === 'scss') {\n                            suggestions.forEach(function (s) {\n                                if (startsWith(s.label, '_') && endsWith(s.label, '.scss')) {\n                                    if (s.textEdit) {\n                                        s.textEdit.newText = s.label.slice(1, -5);\n                                    }\n                                    else {\n                                        s.label = s.label.slice(1, -5);\n                                    }\n                                }\n                            });\n                        }\n                        for (_e = 0, suggestions_1 = suggestions; _e < suggestions_1.length; _e++) {\n                            item = suggestions_1[_e];\n                            result.items.push(item);\n                        }\n                        _f.label = 9;\n                    case 9:\n                        _c++;\n                        return [3 /*break*/, 6];\n                    case 10: return [2 /*return*/, result];\n                }\n            });\n        });\n    };\n    PathCompletionParticipant.prototype.providePathSuggestions = function (pathValue, position, range, document, documentContext) {\n        return __awaiter(this, void 0, void 0, function () {\n            var fullValue, isValueQuoted, valueBeforeCursor, currentDocUri, fullValueRange, replaceRange, valueBeforeLastSlash, parentDir, result, infos, _i, infos_1, _a, name, type, e_1;\n            return __generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        fullValue = stripQuotes(pathValue);\n                        isValueQuoted = startsWith(pathValue, \"'\") || startsWith(pathValue, \"\\\"\");\n                        valueBeforeCursor = isValueQuoted\n                            ? fullValue.slice(0, position.character - (range.start.character + 1))\n                            : fullValue.slice(0, position.character - range.start.character);\n                        currentDocUri = document.uri;\n                        fullValueRange = isValueQuoted ? shiftRange(range, 1, -1) : range;\n                        replaceRange = pathToReplaceRange(valueBeforeCursor, fullValue, fullValueRange);\n                        valueBeforeLastSlash = valueBeforeCursor.substring(0, valueBeforeCursor.lastIndexOf('/') + 1);\n                        parentDir = documentContext.resolveReference(valueBeforeLastSlash || '.', currentDocUri);\n                        if (!parentDir) return [3 /*break*/, 4];\n                        _b.label = 1;\n                    case 1:\n                        _b.trys.push([1, 3, , 4]);\n                        result = [];\n                        return [4 /*yield*/, this.readDirectory(parentDir)];\n                    case 2:\n                        infos = _b.sent();\n                        for (_i = 0, infos_1 = infos; _i < infos_1.length; _i++) {\n                            _a = infos_1[_i], name = _a[0], type = _a[1];\n                            // Exclude paths that start with `.`\n                            if (name.charCodeAt(0) !== CharCode_dot && (type === FileType.Directory || joinPath(parentDir, name) !== currentDocUri)) {\n                                result.push(createCompletionItem(name, type === FileType.Directory, replaceRange));\n                            }\n                        }\n                        return [2 /*return*/, result];\n                    case 3:\n                        e_1 = _b.sent();\n                        return [3 /*break*/, 4];\n                    case 4: return [2 /*return*/, []];\n                }\n            });\n        });\n    };\n    return PathCompletionParticipant;\n}());\nexport { PathCompletionParticipant };\nvar CharCode_dot = '.'.charCodeAt(0);\nfunction stripQuotes(fullValue) {\n    if (startsWith(fullValue, \"'\") || startsWith(fullValue, \"\\\"\")) {\n        return fullValue.slice(1, -1);\n    }\n    else {\n        return fullValue;\n    }\n}\nfunction pathToReplaceRange(valueBeforeCursor, fullValue, fullValueRange) {\n    var replaceRange;\n    var lastIndexOfSlash = valueBeforeCursor.lastIndexOf('/');\n    if (lastIndexOfSlash === -1) {\n        replaceRange = fullValueRange;\n    }\n    else {\n        // For cases where cursor is in the middle of attribute value, like <script src=\"./s|rc/test.js\">\n        // Find the last slash before cursor, and calculate the start of replace range from there\n        var valueAfterLastSlash = fullValue.slice(lastIndexOfSlash + 1);\n        var startPos = shiftPosition(fullValueRange.end, -valueAfterLastSlash.length);\n        // If whitespace exists, replace until it\n        var whitespaceIndex = valueAfterLastSlash.indexOf(' ');\n        var endPos = void 0;\n        if (whitespaceIndex !== -1) {\n            endPos = shiftPosition(startPos, whitespaceIndex);\n        }\n        else {\n            endPos = fullValueRange.end;\n        }\n        replaceRange = Range.create(startPos, endPos);\n    }\n    return replaceRange;\n}\nfunction createCompletionItem(name, isDir, replaceRange) {\n    if (isDir) {\n        name = name + '/';\n        return {\n            label: escapePath(name),\n            kind: CompletionItemKind.Folder,\n            textEdit: TextEdit.replace(replaceRange, escapePath(name)),\n            command: {\n                title: 'Suggest',\n                command: 'editor.action.triggerSuggest'\n            }\n        };\n    }\n    else {\n        return {\n            label: escapePath(name),\n            kind: CompletionItemKind.File,\n            textEdit: TextEdit.replace(replaceRange, escapePath(name))\n        };\n    }\n}\n// Escape https://www.w3.org/TR/CSS1/#url\nfunction escapePath(p) {\n    return p.replace(/(\\s|\\(|\\)|,|\"|')/g, '\\\\$1');\n}\nfunction shiftPosition(pos, offset) {\n    return Position.create(pos.line, pos.character + offset);\n}\nfunction shiftRange(range, startOffset, endOffset) {\n    var start = shiftPosition(range.start, startOffset);\n    var end = shiftPosition(range.end, endOffset);\n    return Range.create(start, end);\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nimport * as nodes from '../parser/cssNodes.js';\nimport { Symbols } from '../parser/cssSymbolScope.js';\nimport * as languageFacts from '../languageFacts/facts.js';\nimport * as strings from '../utils/strings.js';\nimport { Position, CompletionItemKind, Range, TextEdit, InsertTextFormat, MarkupKind, CompletionItemTag } from '../cssLanguageTypes.js';\nimport * as nls from '../../../fillers/vscode-nls.js';\nimport { isDefined } from '../utils/objects.js';\nimport { PathCompletionParticipant } from './pathCompletion.js';\nvar localize = nls.loadMessageBundle();\nvar SnippetFormat = InsertTextFormat.Snippet;\nvar SortTexts;\n(function (SortTexts) {\n    // char code 32, comes before everything\n    SortTexts[\"Enums\"] = \" \";\n    SortTexts[\"Normal\"] = \"d\";\n    SortTexts[\"VendorPrefixed\"] = \"x\";\n    SortTexts[\"Term\"] = \"y\";\n    SortTexts[\"Variable\"] = \"z\";\n})(SortTexts || (SortTexts = {}));\nvar CSSCompletion = /** @class */ (function () {\n    function CSSCompletion(variablePrefix, lsOptions, cssDataManager) {\n        if (variablePrefix === void 0) { variablePrefix = null; }\n        this.variablePrefix = variablePrefix;\n        this.lsOptions = lsOptions;\n        this.cssDataManager = cssDataManager;\n        this.completionParticipants = [];\n    }\n    CSSCompletion.prototype.configure = function (settings) {\n        this.settings = settings;\n    };\n    CSSCompletion.prototype.getSymbolContext = function () {\n        if (!this.symbolContext) {\n            this.symbolContext = new Symbols(this.styleSheet);\n        }\n        return this.symbolContext;\n    };\n    CSSCompletion.prototype.setCompletionParticipants = function (registeredCompletionParticipants) {\n        this.completionParticipants = registeredCompletionParticipants || [];\n    };\n    CSSCompletion.prototype.doComplete2 = function (document, position, styleSheet, documentContext) {\n        return __awaiter(this, void 0, void 0, function () {\n            var participant, contributedParticipants, result, pathCompletionResult;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if (!this.lsOptions.fileSystemProvider || !this.lsOptions.fileSystemProvider.readDirectory) {\n                            return [2 /*return*/, this.doComplete(document, position, styleSheet)];\n                        }\n                        participant = new PathCompletionParticipant(this.lsOptions.fileSystemProvider.readDirectory);\n                        contributedParticipants = this.completionParticipants;\n                        this.completionParticipants = [participant].concat(contributedParticipants);\n                        result = this.doComplete(document, position, styleSheet);\n                        _a.label = 1;\n                    case 1:\n                        _a.trys.push([1, , 3, 4]);\n                        return [4 /*yield*/, participant.computeCompletions(document, documentContext)];\n                    case 2:\n                        pathCompletionResult = _a.sent();\n                        return [2 /*return*/, {\n                                isIncomplete: result.isIncomplete || pathCompletionResult.isIncomplete,\n                                items: pathCompletionResult.items.concat(result.items)\n                            }];\n                    case 3:\n                        this.completionParticipants = contributedParticipants;\n                        return [7 /*endfinally*/];\n                    case 4: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    CSSCompletion.prototype.doComplete = function (document, position, styleSheet) {\n        this.offset = document.offsetAt(position);\n        this.position = position;\n        this.currentWord = getCurrentWord(document, this.offset);\n        this.defaultReplaceRange = Range.create(Position.create(this.position.line, this.position.character - this.currentWord.length), this.position);\n        this.textDocument = document;\n        this.styleSheet = styleSheet;\n        try {\n            var result = { isIncomplete: false, items: [] };\n            this.nodePath = nodes.getNodePath(this.styleSheet, this.offset);\n            for (var i = this.nodePath.length - 1; i >= 0; i--) {\n                var node = this.nodePath[i];\n                if (node instanceof nodes.Property) {\n                    this.getCompletionsForDeclarationProperty(node.getParent(), result);\n                }\n                else if (node instanceof nodes.Expression) {\n                    if (node.parent instanceof nodes.Interpolation) {\n                        this.getVariableProposals(null, result);\n                    }\n                    else {\n                        this.getCompletionsForExpression(node, result);\n                    }\n                }\n                else if (node instanceof nodes.SimpleSelector) {\n                    var parentRef = node.findAParent(nodes.NodeType.ExtendsReference, nodes.NodeType.Ruleset);\n                    if (parentRef) {\n                        if (parentRef.type === nodes.NodeType.ExtendsReference) {\n                            this.getCompletionsForExtendsReference(parentRef, node, result);\n                        }\n                        else {\n                            var parentRuleSet = parentRef;\n                            this.getCompletionsForSelector(parentRuleSet, parentRuleSet && parentRuleSet.isNested(), result);\n                        }\n                    }\n                }\n                else if (node instanceof nodes.FunctionArgument) {\n                    this.getCompletionsForFunctionArgument(node, node.getParent(), result);\n                }\n                else if (node instanceof nodes.Declarations) {\n                    this.getCompletionsForDeclarations(node, result);\n                }\n                else if (node instanceof nodes.VariableDeclaration) {\n                    this.getCompletionsForVariableDeclaration(node, result);\n                }\n                else if (node instanceof nodes.RuleSet) {\n                    this.getCompletionsForRuleSet(node, result);\n                }\n                else if (node instanceof nodes.Interpolation) {\n                    this.getCompletionsForInterpolation(node, result);\n                }\n                else if (node instanceof nodes.FunctionDeclaration) {\n                    this.getCompletionsForFunctionDeclaration(node, result);\n                }\n                else if (node instanceof nodes.MixinReference) {\n                    this.getCompletionsForMixinReference(node, result);\n                }\n                else if (node instanceof nodes.Function) {\n                    this.getCompletionsForFunctionArgument(null, node, result);\n                }\n                else if (node instanceof nodes.Supports) {\n                    this.getCompletionsForSupports(node, result);\n                }\n                else if (node instanceof nodes.SupportsCondition) {\n                    this.getCompletionsForSupportsCondition(node, result);\n                }\n                else if (node instanceof nodes.ExtendsReference) {\n                    this.getCompletionsForExtendsReference(node, null, result);\n                }\n                else if (node.type === nodes.NodeType.URILiteral) {\n                    this.getCompletionForUriLiteralValue(node, result);\n                }\n                else if (node.parent === null) {\n                    this.getCompletionForTopLevel(result);\n                }\n                else if (node.type === nodes.NodeType.StringLiteral && this.isImportPathParent(node.parent.type)) {\n                    this.getCompletionForImportPath(node, result);\n                    // } else if (node instanceof nodes.Variable) {\n                    // this.getCompletionsForVariableDeclaration()\n                }\n                else {\n                    continue;\n                }\n                if (result.items.length > 0 || this.offset > node.offset) {\n                    return this.finalize(result);\n                }\n            }\n            this.getCompletionsForStylesheet(result);\n            if (result.items.length === 0) {\n                if (this.variablePrefix && this.currentWord.indexOf(this.variablePrefix) === 0) {\n                    this.getVariableProposals(null, result);\n                }\n            }\n            return this.finalize(result);\n        }\n        finally {\n            // don't hold on any state, clear symbolContext\n            this.position = null;\n            this.currentWord = null;\n            this.textDocument = null;\n            this.styleSheet = null;\n            this.symbolContext = null;\n            this.defaultReplaceRange = null;\n            this.nodePath = null;\n        }\n    };\n    CSSCompletion.prototype.isImportPathParent = function (type) {\n        return type === nodes.NodeType.Import;\n    };\n    CSSCompletion.prototype.finalize = function (result) {\n        return result;\n    };\n    CSSCompletion.prototype.findInNodePath = function () {\n        var types = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            types[_i] = arguments[_i];\n        }\n        for (var i = this.nodePath.length - 1; i >= 0; i--) {\n            var node = this.nodePath[i];\n            if (types.indexOf(node.type) !== -1) {\n                return node;\n            }\n        }\n        return null;\n    };\n    CSSCompletion.prototype.getCompletionsForDeclarationProperty = function (declaration, result) {\n        return this.getPropertyProposals(declaration, result);\n    };\n    CSSCompletion.prototype.getPropertyProposals = function (declaration, result) {\n        var _this = this;\n        var triggerPropertyValueCompletion = this.isTriggerPropertyValueCompletionEnabled;\n        var completePropertyWithSemicolon = this.isCompletePropertyWithSemicolonEnabled;\n        var properties = this.cssDataManager.getProperties();\n        properties.forEach(function (entry) {\n            var range;\n            var insertText;\n            var retrigger = false;\n            if (declaration) {\n                range = _this.getCompletionRange(declaration.getProperty());\n                insertText = entry.name;\n                if (!isDefined(declaration.colonPosition)) {\n                    insertText += ': ';\n                    retrigger = true;\n                }\n            }\n            else {\n                range = _this.getCompletionRange(null);\n                insertText = entry.name + ': ';\n                retrigger = true;\n            }\n            // Empty .selector { | } case\n            if (!declaration && completePropertyWithSemicolon) {\n                insertText += '$0;';\n            }\n            // Cases such as .selector { p; } or .selector { p:; }\n            if (declaration && !declaration.semicolonPosition) {\n                if (completePropertyWithSemicolon && _this.offset >= _this.textDocument.offsetAt(range.end)) {\n                    insertText += '$0;';\n                }\n            }\n            var item = {\n                label: entry.name,\n                documentation: languageFacts.getEntryDescription(entry, _this.doesSupportMarkdown()),\n                tags: isDeprecated(entry) ? [CompletionItemTag.Deprecated] : [],\n                textEdit: TextEdit.replace(range, insertText),\n                insertTextFormat: InsertTextFormat.Snippet,\n                kind: CompletionItemKind.Property\n            };\n            if (!entry.restrictions) {\n                retrigger = false;\n            }\n            if (triggerPropertyValueCompletion && retrigger) {\n                item.command = {\n                    title: 'Suggest',\n                    command: 'editor.action.triggerSuggest'\n                };\n            }\n            var relevance = typeof entry.relevance === 'number' ? Math.min(Math.max(entry.relevance, 0), 99) : 50;\n            var sortTextSuffix = (255 - relevance).toString(16);\n            var sortTextPrefix = strings.startsWith(entry.name, '-') ? SortTexts.VendorPrefixed : SortTexts.Normal;\n            item.sortText = sortTextPrefix + '_' + sortTextSuffix;\n            result.items.push(item);\n        });\n        this.completionParticipants.forEach(function (participant) {\n            if (participant.onCssProperty) {\n                participant.onCssProperty({\n                    propertyName: _this.currentWord,\n                    range: _this.defaultReplaceRange\n                });\n            }\n        });\n        return result;\n    };\n    Object.defineProperty(CSSCompletion.prototype, \"isTriggerPropertyValueCompletionEnabled\", {\n        get: function () {\n            if (!this.settings ||\n                !this.settings.completion ||\n                this.settings.completion.triggerPropertyValueCompletion === undefined) {\n                return true;\n            }\n            return this.settings.completion.triggerPropertyValueCompletion;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(CSSCompletion.prototype, \"isCompletePropertyWithSemicolonEnabled\", {\n        get: function () {\n            if (!this.settings ||\n                !this.settings.completion ||\n                this.settings.completion.completePropertyWithSemicolon === undefined) {\n                return true;\n            }\n            return this.settings.completion.completePropertyWithSemicolon;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    CSSCompletion.prototype.getCompletionsForDeclarationValue = function (node, result) {\n        var _this = this;\n        var propertyName = node.getFullPropertyName();\n        var entry = this.cssDataManager.getProperty(propertyName);\n        var existingNode = node.getValue() || null;\n        while (existingNode && existingNode.hasChildren()) {\n            existingNode = existingNode.findChildAtOffset(this.offset, false);\n        }\n        this.completionParticipants.forEach(function (participant) {\n            if (participant.onCssPropertyValue) {\n                participant.onCssPropertyValue({\n                    propertyName: propertyName,\n                    propertyValue: _this.currentWord,\n                    range: _this.getCompletionRange(existingNode)\n                });\n            }\n        });\n        if (entry) {\n            if (entry.restrictions) {\n                for (var _i = 0, _a = entry.restrictions; _i < _a.length; _i++) {\n                    var restriction = _a[_i];\n                    switch (restriction) {\n                        case 'color':\n                            this.getColorProposals(entry, existingNode, result);\n                            break;\n                        case 'position':\n                            this.getPositionProposals(entry, existingNode, result);\n                            break;\n                        case 'repeat':\n                            this.getRepeatStyleProposals(entry, existingNode, result);\n                            break;\n                        case 'line-style':\n                            this.getLineStyleProposals(entry, existingNode, result);\n                            break;\n                        case 'line-width':\n                            this.getLineWidthProposals(entry, existingNode, result);\n                            break;\n                        case 'geometry-box':\n                            this.getGeometryBoxProposals(entry, existingNode, result);\n                            break;\n                        case 'box':\n                            this.getBoxProposals(entry, existingNode, result);\n                            break;\n                        case 'image':\n                            this.getImageProposals(entry, existingNode, result);\n                            break;\n                        case 'timing-function':\n                            this.getTimingFunctionProposals(entry, existingNode, result);\n                            break;\n                        case 'shape':\n                            this.getBasicShapeProposals(entry, existingNode, result);\n                            break;\n                    }\n                }\n            }\n            this.getValueEnumProposals(entry, existingNode, result);\n            this.getCSSWideKeywordProposals(entry, existingNode, result);\n            this.getUnitProposals(entry, existingNode, result);\n        }\n        else {\n            var existingValues = collectValues(this.styleSheet, node);\n            for (var _b = 0, _c = existingValues.getEntries(); _b < _c.length; _b++) {\n                var existingValue = _c[_b];\n                result.items.push({\n                    label: existingValue,\n                    textEdit: TextEdit.replace(this.getCompletionRange(existingNode), existingValue),\n                    kind: CompletionItemKind.Value\n                });\n            }\n        }\n        this.getVariableProposals(existingNode, result);\n        this.getTermProposals(entry, existingNode, result);\n        return result;\n    };\n    CSSCompletion.prototype.getValueEnumProposals = function (entry, existingNode, result) {\n        if (entry.values) {\n            for (var _i = 0, _a = entry.values; _i < _a.length; _i++) {\n                var value = _a[_i];\n                var insertString = value.name;\n                var insertTextFormat = void 0;\n                if (strings.endsWith(insertString, ')')) {\n                    var from = insertString.lastIndexOf('(');\n                    if (from !== -1) {\n                        insertString = insertString.substr(0, from) + '($1)';\n                        insertTextFormat = SnippetFormat;\n                    }\n                }\n                var sortText = SortTexts.Enums;\n                if (strings.startsWith(value.name, '-')) {\n                    sortText += SortTexts.VendorPrefixed;\n                }\n                var item = {\n                    label: value.name,\n                    documentation: languageFacts.getEntryDescription(value, this.doesSupportMarkdown()),\n                    tags: isDeprecated(entry) ? [CompletionItemTag.Deprecated] : [],\n                    textEdit: TextEdit.replace(this.getCompletionRange(existingNode), insertString),\n                    sortText: sortText,\n                    kind: CompletionItemKind.Value,\n                    insertTextFormat: insertTextFormat\n                };\n                result.items.push(item);\n            }\n        }\n        return result;\n    };\n    CSSCompletion.prototype.getCSSWideKeywordProposals = function (entry, existingNode, result) {\n        for (var keywords in languageFacts.cssWideKeywords) {\n            result.items.push({\n                label: keywords,\n                documentation: languageFacts.cssWideKeywords[keywords],\n                textEdit: TextEdit.replace(this.getCompletionRange(existingNode), keywords),\n                kind: CompletionItemKind.Value\n            });\n        }\n        return result;\n    };\n    CSSCompletion.prototype.getCompletionsForInterpolation = function (node, result) {\n        if (this.offset >= node.offset + 2) {\n            this.getVariableProposals(null, result);\n        }\n        return result;\n    };\n    CSSCompletion.prototype.getVariableProposals = function (existingNode, result) {\n        var symbols = this.getSymbolContext().findSymbolsAtOffset(this.offset, nodes.ReferenceType.Variable);\n        for (var _i = 0, symbols_1 = symbols; _i < symbols_1.length; _i++) {\n            var symbol = symbols_1[_i];\n            var insertText = strings.startsWith(symbol.name, '--') ? \"var(\" + symbol.name + \")\" : symbol.name;\n            var completionItem = {\n                label: symbol.name,\n                documentation: symbol.value ? strings.getLimitedString(symbol.value) : symbol.value,\n                textEdit: TextEdit.replace(this.getCompletionRange(existingNode), insertText),\n                kind: CompletionItemKind.Variable,\n                sortText: SortTexts.Variable\n            };\n            if (typeof completionItem.documentation === 'string' && isColorString(completionItem.documentation)) {\n                completionItem.kind = CompletionItemKind.Color;\n            }\n            if (symbol.node.type === nodes.NodeType.FunctionParameter) {\n                var mixinNode = (symbol.node.getParent());\n                if (mixinNode.type === nodes.NodeType.MixinDeclaration) {\n                    completionItem.detail = localize('completion.argument', 'argument from \\'{0}\\'', mixinNode.getName());\n                }\n            }\n            result.items.push(completionItem);\n        }\n        return result;\n    };\n    CSSCompletion.prototype.getVariableProposalsForCSSVarFunction = function (result) {\n        var symbols = this.getSymbolContext().findSymbolsAtOffset(this.offset, nodes.ReferenceType.Variable);\n        symbols = symbols.filter(function (symbol) {\n            return strings.startsWith(symbol.name, '--');\n        });\n        for (var _i = 0, symbols_2 = symbols; _i < symbols_2.length; _i++) {\n            var symbol = symbols_2[_i];\n            var completionItem = {\n                label: symbol.name,\n                documentation: symbol.value ? strings.getLimitedString(symbol.value) : symbol.value,\n                textEdit: TextEdit.replace(this.getCompletionRange(null), symbol.name),\n                kind: CompletionItemKind.Variable\n            };\n            if (typeof completionItem.documentation === 'string' && isColorString(completionItem.documentation)) {\n                completionItem.kind = CompletionItemKind.Color;\n            }\n            result.items.push(completionItem);\n        }\n        return result;\n    };\n    CSSCompletion.prototype.getUnitProposals = function (entry, existingNode, result) {\n        var currentWord = '0';\n        if (this.currentWord.length > 0) {\n            var numMatch = this.currentWord.match(/^-?\\d[\\.\\d+]*/);\n            if (numMatch) {\n                currentWord = numMatch[0];\n                result.isIncomplete = currentWord.length === this.currentWord.length;\n            }\n        }\n        else if (this.currentWord.length === 0) {\n            result.isIncomplete = true;\n        }\n        if (existingNode && existingNode.parent && existingNode.parent.type === nodes.NodeType.Term) {\n            existingNode = existingNode.getParent(); // include the unary operator\n        }\n        if (entry.restrictions) {\n            for (var _i = 0, _a = entry.restrictions; _i < _a.length; _i++) {\n                var restriction = _a[_i];\n                var units = languageFacts.units[restriction];\n                if (units) {\n                    for (var _b = 0, units_1 = units; _b < units_1.length; _b++) {\n                        var unit = units_1[_b];\n                        var insertText = currentWord + unit;\n                        result.items.push({\n                            label: insertText,\n                            textEdit: TextEdit.replace(this.getCompletionRange(existingNode), insertText),\n                            kind: CompletionItemKind.Unit\n                        });\n                    }\n                }\n            }\n        }\n        return result;\n    };\n    CSSCompletion.prototype.getCompletionRange = function (existingNode) {\n        if (existingNode && existingNode.offset <= this.offset && this.offset <= existingNode.end) {\n            var end = existingNode.end !== -1 ? this.textDocument.positionAt(existingNode.end) : this.position;\n            var start = this.textDocument.positionAt(existingNode.offset);\n            if (start.line === end.line) {\n                return Range.create(start, end); // multi line edits are not allowed\n            }\n        }\n        return this.defaultReplaceRange;\n    };\n    CSSCompletion.prototype.getColorProposals = function (entry, existingNode, result) {\n        for (var color in languageFacts.colors) {\n            result.items.push({\n                label: color,\n                documentation: languageFacts.colors[color],\n                textEdit: TextEdit.replace(this.getCompletionRange(existingNode), color),\n                kind: CompletionItemKind.Color\n            });\n        }\n        for (var color in languageFacts.colorKeywords) {\n            result.items.push({\n                label: color,\n                documentation: languageFacts.colorKeywords[color],\n                textEdit: TextEdit.replace(this.getCompletionRange(existingNode), color),\n                kind: CompletionItemKind.Value\n            });\n        }\n        var colorValues = new Set();\n        this.styleSheet.acceptVisitor(new ColorValueCollector(colorValues, this.offset));\n        for (var _i = 0, _a = colorValues.getEntries(); _i < _a.length; _i++) {\n            var color = _a[_i];\n            result.items.push({\n                label: color,\n                textEdit: TextEdit.replace(this.getCompletionRange(existingNode), color),\n                kind: CompletionItemKind.Color\n            });\n        }\n        var _loop_1 = function (p) {\n            var tabStop = 1;\n            var replaceFunction = function (_match, p1) { return '${' + tabStop++ + ':' + p1 + '}'; };\n            var insertText = p.func.replace(/\\[?\\$(\\w+)\\]?/g, replaceFunction);\n            result.items.push({\n                label: p.func.substr(0, p.func.indexOf('(')),\n                detail: p.func,\n                documentation: p.desc,\n                textEdit: TextEdit.replace(this_1.getCompletionRange(existingNode), insertText),\n                insertTextFormat: SnippetFormat,\n                kind: CompletionItemKind.Function\n            });\n        };\n        var this_1 = this;\n        for (var _b = 0, _c = languageFacts.colorFunctions; _b < _c.length; _b++) {\n            var p = _c[_b];\n            _loop_1(p);\n        }\n        return result;\n    };\n    CSSCompletion.prototype.getPositionProposals = function (entry, existingNode, result) {\n        for (var position in languageFacts.positionKeywords) {\n            result.items.push({\n                label: position,\n                documentation: languageFacts.positionKeywords[position],\n                textEdit: TextEdit.replace(this.getCompletionRange(existingNode), position),\n                kind: CompletionItemKind.Value\n            });\n        }\n        return result;\n    };\n    CSSCompletion.prototype.getRepeatStyleProposals = function (entry, existingNode, result) {\n        for (var repeat in languageFacts.repeatStyleKeywords) {\n            result.items.push({\n                label: repeat,\n                documentation: languageFacts.repeatStyleKeywords[repeat],\n                textEdit: TextEdit.replace(this.getCompletionRange(existingNode), repeat),\n                kind: CompletionItemKind.Value\n            });\n        }\n        return result;\n    };\n    CSSCompletion.prototype.getLineStyleProposals = function (entry, existingNode, result) {\n        for (var lineStyle in languageFacts.lineStyleKeywords) {\n            result.items.push({\n                label: lineStyle,\n                documentation: languageFacts.lineStyleKeywords[lineStyle],\n                textEdit: TextEdit.replace(this.getCompletionRange(existingNode), lineStyle),\n                kind: CompletionItemKind.Value\n            });\n        }\n        return result;\n    };\n    CSSCompletion.prototype.getLineWidthProposals = function (entry, existingNode, result) {\n        for (var _i = 0, _a = languageFacts.lineWidthKeywords; _i < _a.length; _i++) {\n            var lineWidth = _a[_i];\n            result.items.push({\n                label: lineWidth,\n                textEdit: TextEdit.replace(this.getCompletionRange(existingNode), lineWidth),\n                kind: CompletionItemKind.Value\n            });\n        }\n        return result;\n    };\n    CSSCompletion.prototype.getGeometryBoxProposals = function (entry, existingNode, result) {\n        for (var box in languageFacts.geometryBoxKeywords) {\n            result.items.push({\n                label: box,\n                documentation: languageFacts.geometryBoxKeywords[box],\n                textEdit: TextEdit.replace(this.getCompletionRange(existingNode), box),\n                kind: CompletionItemKind.Value\n            });\n        }\n        return result;\n    };\n    CSSCompletion.prototype.getBoxProposals = function (entry, existingNode, result) {\n        for (var box in languageFacts.boxKeywords) {\n            result.items.push({\n                label: box,\n                documentation: languageFacts.boxKeywords[box],\n                textEdit: TextEdit.replace(this.getCompletionRange(existingNode), box),\n                kind: CompletionItemKind.Value\n            });\n        }\n        return result;\n    };\n    CSSCompletion.prototype.getImageProposals = function (entry, existingNode, result) {\n        for (var image in languageFacts.imageFunctions) {\n            var insertText = moveCursorInsideParenthesis(image);\n            result.items.push({\n                label: image,\n                documentation: languageFacts.imageFunctions[image],\n                textEdit: TextEdit.replace(this.getCompletionRange(existingNode), insertText),\n                kind: CompletionItemKind.Function,\n                insertTextFormat: image !== insertText ? SnippetFormat : void 0\n            });\n        }\n        return result;\n    };\n    CSSCompletion.prototype.getTimingFunctionProposals = function (entry, existingNode, result) {\n        for (var timing in languageFacts.transitionTimingFunctions) {\n            var insertText = moveCursorInsideParenthesis(timing);\n            result.items.push({\n                label: timing,\n                documentation: languageFacts.transitionTimingFunctions[timing],\n                textEdit: TextEdit.replace(this.getCompletionRange(existingNode), insertText),\n                kind: CompletionItemKind.Function,\n                insertTextFormat: timing !== insertText ? SnippetFormat : void 0\n            });\n        }\n        return result;\n    };\n    CSSCompletion.prototype.getBasicShapeProposals = function (entry, existingNode, result) {\n        for (var shape in languageFacts.basicShapeFunctions) {\n            var insertText = moveCursorInsideParenthesis(shape);\n            result.items.push({\n                label: shape,\n                documentation: languageFacts.basicShapeFunctions[shape],\n                textEdit: TextEdit.replace(this.getCompletionRange(existingNode), insertText),\n                kind: CompletionItemKind.Function,\n                insertTextFormat: shape !== insertText ? SnippetFormat : void 0\n            });\n        }\n        return result;\n    };\n    CSSCompletion.prototype.getCompletionsForStylesheet = function (result) {\n        var node = this.styleSheet.findFirstChildBeforeOffset(this.offset);\n        if (!node) {\n            return this.getCompletionForTopLevel(result);\n        }\n        if (node instanceof nodes.RuleSet) {\n            return this.getCompletionsForRuleSet(node, result);\n        }\n        if (node instanceof nodes.Supports) {\n            return this.getCompletionsForSupports(node, result);\n        }\n        return result;\n    };\n    CSSCompletion.prototype.getCompletionForTopLevel = function (result) {\n        var _this = this;\n        this.cssDataManager.getAtDirectives().forEach(function (entry) {\n            result.items.push({\n                label: entry.name,\n                textEdit: TextEdit.replace(_this.getCompletionRange(null), entry.name),\n                documentation: languageFacts.getEntryDescription(entry, _this.doesSupportMarkdown()),\n                tags: isDeprecated(entry) ? [CompletionItemTag.Deprecated] : [],\n                kind: CompletionItemKind.Keyword\n            });\n        });\n        this.getCompletionsForSelector(null, false, result);\n        return result;\n    };\n    CSSCompletion.prototype.getCompletionsForRuleSet = function (ruleSet, result) {\n        var declarations = ruleSet.getDeclarations();\n        var isAfter = declarations && declarations.endsWith('}') && this.offset >= declarations.end;\n        if (isAfter) {\n            return this.getCompletionForTopLevel(result);\n        }\n        var isInSelectors = !declarations || this.offset <= declarations.offset;\n        if (isInSelectors) {\n            return this.getCompletionsForSelector(ruleSet, ruleSet.isNested(), result);\n        }\n        return this.getCompletionsForDeclarations(ruleSet.getDeclarations(), result);\n    };\n    CSSCompletion.prototype.getCompletionsForSelector = function (ruleSet, isNested, result) {\n        var _this = this;\n        var existingNode = this.findInNodePath(nodes.NodeType.PseudoSelector, nodes.NodeType.IdentifierSelector, nodes.NodeType.ClassSelector, nodes.NodeType.ElementNameSelector);\n        if (!existingNode && this.offset - this.currentWord.length > 0 && this.textDocument.getText()[this.offset - this.currentWord.length - 1] === ':') {\n            // after the ':' of a pseudo selector, no node generated for just ':'\n            this.currentWord = ':' + this.currentWord;\n            this.defaultReplaceRange = Range.create(Position.create(this.position.line, this.position.character - this.currentWord.length), this.position);\n        }\n        var pseudoClasses = this.cssDataManager.getPseudoClasses();\n        pseudoClasses.forEach(function (entry) {\n            var insertText = moveCursorInsideParenthesis(entry.name);\n            var item = {\n                label: entry.name,\n                textEdit: TextEdit.replace(_this.getCompletionRange(existingNode), insertText),\n                documentation: languageFacts.getEntryDescription(entry, _this.doesSupportMarkdown()),\n                tags: isDeprecated(entry) ? [CompletionItemTag.Deprecated] : [],\n                kind: CompletionItemKind.Function,\n                insertTextFormat: entry.name !== insertText ? SnippetFormat : void 0\n            };\n            if (strings.startsWith(entry.name, ':-')) {\n                item.sortText = SortTexts.VendorPrefixed;\n            }\n            result.items.push(item);\n        });\n        var pseudoElements = this.cssDataManager.getPseudoElements();\n        pseudoElements.forEach(function (entry) {\n            var insertText = moveCursorInsideParenthesis(entry.name);\n            var item = {\n                label: entry.name,\n                textEdit: TextEdit.replace(_this.getCompletionRange(existingNode), insertText),\n                documentation: languageFacts.getEntryDescription(entry, _this.doesSupportMarkdown()),\n                tags: isDeprecated(entry) ? [CompletionItemTag.Deprecated] : [],\n                kind: CompletionItemKind.Function,\n                insertTextFormat: entry.name !== insertText ? SnippetFormat : void 0\n            };\n            if (strings.startsWith(entry.name, '::-')) {\n                item.sortText = SortTexts.VendorPrefixed;\n            }\n            result.items.push(item);\n        });\n        if (!isNested) { // show html tags only for top level\n            for (var _i = 0, _a = languageFacts.html5Tags; _i < _a.length; _i++) {\n                var entry = _a[_i];\n                result.items.push({\n                    label: entry,\n                    textEdit: TextEdit.replace(this.getCompletionRange(existingNode), entry),\n                    kind: CompletionItemKind.Keyword\n                });\n            }\n            for (var _b = 0, _c = languageFacts.svgElements; _b < _c.length; _b++) {\n                var entry = _c[_b];\n                result.items.push({\n                    label: entry,\n                    textEdit: TextEdit.replace(this.getCompletionRange(existingNode), entry),\n                    kind: CompletionItemKind.Keyword\n                });\n            }\n        }\n        var visited = {};\n        visited[this.currentWord] = true;\n        var docText = this.textDocument.getText();\n        this.styleSheet.accept(function (n) {\n            if (n.type === nodes.NodeType.SimpleSelector && n.length > 0) {\n                var selector = docText.substr(n.offset, n.length);\n                if (selector.charAt(0) === '.' && !visited[selector]) {\n                    visited[selector] = true;\n                    result.items.push({\n                        label: selector,\n                        textEdit: TextEdit.replace(_this.getCompletionRange(existingNode), selector),\n                        kind: CompletionItemKind.Keyword\n                    });\n                }\n                return false;\n            }\n            return true;\n        });\n        if (ruleSet && ruleSet.isNested()) {\n            var selector = ruleSet.getSelectors().findFirstChildBeforeOffset(this.offset);\n            if (selector && ruleSet.getSelectors().getChildren().indexOf(selector) === 0) {\n                this.getPropertyProposals(null, result);\n            }\n        }\n        return result;\n    };\n    CSSCompletion.prototype.getCompletionsForDeclarations = function (declarations, result) {\n        if (!declarations || this.offset === declarations.offset) { // incomplete nodes\n            return result;\n        }\n        var node = declarations.findFirstChildBeforeOffset(this.offset);\n        if (!node) {\n            return this.getCompletionsForDeclarationProperty(null, result);\n        }\n        if (node instanceof nodes.AbstractDeclaration) {\n            var declaration = node;\n            if (!isDefined(declaration.colonPosition) || this.offset <= declaration.colonPosition) {\n                // complete property\n                return this.getCompletionsForDeclarationProperty(declaration, result);\n            }\n            else if ((isDefined(declaration.semicolonPosition) && declaration.semicolonPosition < this.offset)) {\n                if (this.offset === declaration.semicolonPosition + 1) {\n                    return result; // don't show new properties right after semicolon (see Bug 15421:[intellisense] [css] Be less aggressive when manually typing CSS)\n                }\n                // complete next property\n                return this.getCompletionsForDeclarationProperty(null, result);\n            }\n            if (declaration instanceof nodes.Declaration) {\n                // complete value\n                return this.getCompletionsForDeclarationValue(declaration, result);\n            }\n        }\n        else if (node instanceof nodes.ExtendsReference) {\n            this.getCompletionsForExtendsReference(node, null, result);\n        }\n        else if (this.currentWord && this.currentWord[0] === '@') {\n            this.getCompletionsForDeclarationProperty(null, result);\n        }\n        else if (node instanceof nodes.RuleSet) {\n            this.getCompletionsForDeclarationProperty(null, result);\n        }\n        return result;\n    };\n    CSSCompletion.prototype.getCompletionsForVariableDeclaration = function (declaration, result) {\n        if (this.offset && isDefined(declaration.colonPosition) && this.offset > declaration.colonPosition) {\n            this.getVariableProposals(declaration.getValue(), result);\n        }\n        return result;\n    };\n    CSSCompletion.prototype.getCompletionsForExpression = function (expression, result) {\n        var parent = expression.getParent();\n        if (parent instanceof nodes.FunctionArgument) {\n            this.getCompletionsForFunctionArgument(parent, parent.getParent(), result);\n            return result;\n        }\n        var declaration = expression.findParent(nodes.NodeType.Declaration);\n        if (!declaration) {\n            this.getTermProposals(undefined, null, result);\n            return result;\n        }\n        var node = expression.findChildAtOffset(this.offset, true);\n        if (!node) {\n            return this.getCompletionsForDeclarationValue(declaration, result);\n        }\n        if (node instanceof nodes.NumericValue || node instanceof nodes.Identifier) {\n            return this.getCompletionsForDeclarationValue(declaration, result);\n        }\n        return result;\n    };\n    CSSCompletion.prototype.getCompletionsForFunctionArgument = function (arg, func, result) {\n        var identifier = func.getIdentifier();\n        if (identifier && identifier.matches('var')) {\n            if (!func.getArguments().hasChildren() || func.getArguments().getChild(0) === arg) {\n                this.getVariableProposalsForCSSVarFunction(result);\n            }\n        }\n        return result;\n    };\n    CSSCompletion.prototype.getCompletionsForFunctionDeclaration = function (decl, result) {\n        var declarations = decl.getDeclarations();\n        if (declarations && this.offset > declarations.offset && this.offset < declarations.end) {\n            this.getTermProposals(undefined, null, result);\n        }\n        return result;\n    };\n    CSSCompletion.prototype.getCompletionsForMixinReference = function (ref, result) {\n        var _this = this;\n        var allMixins = this.getSymbolContext().findSymbolsAtOffset(this.offset, nodes.ReferenceType.Mixin);\n        for (var _i = 0, allMixins_1 = allMixins; _i < allMixins_1.length; _i++) {\n            var mixinSymbol = allMixins_1[_i];\n            if (mixinSymbol.node instanceof nodes.MixinDeclaration) {\n                result.items.push(this.makeTermProposal(mixinSymbol, mixinSymbol.node.getParameters(), null));\n            }\n        }\n        var identifierNode = ref.getIdentifier() || null;\n        this.completionParticipants.forEach(function (participant) {\n            if (participant.onCssMixinReference) {\n                participant.onCssMixinReference({\n                    mixinName: _this.currentWord,\n                    range: _this.getCompletionRange(identifierNode)\n                });\n            }\n        });\n        return result;\n    };\n    CSSCompletion.prototype.getTermProposals = function (entry, existingNode, result) {\n        var allFunctions = this.getSymbolContext().findSymbolsAtOffset(this.offset, nodes.ReferenceType.Function);\n        for (var _i = 0, allFunctions_1 = allFunctions; _i < allFunctions_1.length; _i++) {\n            var functionSymbol = allFunctions_1[_i];\n            if (functionSymbol.node instanceof nodes.FunctionDeclaration) {\n                result.items.push(this.makeTermProposal(functionSymbol, functionSymbol.node.getParameters(), existingNode));\n            }\n        }\n        return result;\n    };\n    CSSCompletion.prototype.makeTermProposal = function (symbol, parameters, existingNode) {\n        var decl = symbol.node;\n        var params = parameters.getChildren().map(function (c) {\n            return (c instanceof nodes.FunctionParameter) ? c.getName() : c.getText();\n        });\n        var insertText = symbol.name + '(' + params.map(function (p, index) { return '${' + (index + 1) + ':' + p + '}'; }).join(', ') + ')';\n        return {\n            label: symbol.name,\n            detail: symbol.name + '(' + params.join(', ') + ')',\n            textEdit: TextEdit.replace(this.getCompletionRange(existingNode), insertText),\n            insertTextFormat: SnippetFormat,\n            kind: CompletionItemKind.Function,\n            sortText: SortTexts.Term\n        };\n    };\n    CSSCompletion.prototype.getCompletionsForSupportsCondition = function (supportsCondition, result) {\n        var child = supportsCondition.findFirstChildBeforeOffset(this.offset);\n        if (child) {\n            if (child instanceof nodes.Declaration) {\n                if (!isDefined(child.colonPosition) || this.offset <= child.colonPosition) {\n                    return this.getCompletionsForDeclarationProperty(child, result);\n                }\n                else {\n                    return this.getCompletionsForDeclarationValue(child, result);\n                }\n            }\n            else if (child instanceof nodes.SupportsCondition) {\n                return this.getCompletionsForSupportsCondition(child, result);\n            }\n        }\n        if (isDefined(supportsCondition.lParent) && this.offset > supportsCondition.lParent && (!isDefined(supportsCondition.rParent) || this.offset <= supportsCondition.rParent)) {\n            return this.getCompletionsForDeclarationProperty(null, result);\n        }\n        return result;\n    };\n    CSSCompletion.prototype.getCompletionsForSupports = function (supports, result) {\n        var declarations = supports.getDeclarations();\n        var inInCondition = !declarations || this.offset <= declarations.offset;\n        if (inInCondition) {\n            var child = supports.findFirstChildBeforeOffset(this.offset);\n            if (child instanceof nodes.SupportsCondition) {\n                return this.getCompletionsForSupportsCondition(child, result);\n            }\n            return result;\n        }\n        return this.getCompletionForTopLevel(result);\n    };\n    CSSCompletion.prototype.getCompletionsForExtendsReference = function (extendsRef, existingNode, result) {\n        return result;\n    };\n    CSSCompletion.prototype.getCompletionForUriLiteralValue = function (uriLiteralNode, result) {\n        var uriValue;\n        var position;\n        var range;\n        // No children, empty value\n        if (!uriLiteralNode.hasChildren()) {\n            uriValue = '';\n            position = this.position;\n            var emptyURIValuePosition = this.textDocument.positionAt(uriLiteralNode.offset + 'url('.length);\n            range = Range.create(emptyURIValuePosition, emptyURIValuePosition);\n        }\n        else {\n            var uriValueNode = uriLiteralNode.getChild(0);\n            uriValue = uriValueNode.getText();\n            position = this.position;\n            range = this.getCompletionRange(uriValueNode);\n        }\n        this.completionParticipants.forEach(function (participant) {\n            if (participant.onCssURILiteralValue) {\n                participant.onCssURILiteralValue({\n                    uriValue: uriValue,\n                    position: position,\n                    range: range\n                });\n            }\n        });\n        return result;\n    };\n    CSSCompletion.prototype.getCompletionForImportPath = function (importPathNode, result) {\n        var _this = this;\n        this.completionParticipants.forEach(function (participant) {\n            if (participant.onCssImportPath) {\n                participant.onCssImportPath({\n                    pathValue: importPathNode.getText(),\n                    position: _this.position,\n                    range: _this.getCompletionRange(importPathNode)\n                });\n            }\n        });\n        return result;\n    };\n    CSSCompletion.prototype.doesSupportMarkdown = function () {\n        var _a, _b, _c;\n        if (!isDefined(this.supportsMarkdown)) {\n            if (!isDefined(this.lsOptions.clientCapabilities)) {\n                this.supportsMarkdown = true;\n                return this.supportsMarkdown;\n            }\n            var documentationFormat = (_c = (_b = (_a = this.lsOptions.clientCapabilities.textDocument) === null || _a === void 0 ? void 0 : _a.completion) === null || _b === void 0 ? void 0 : _b.completionItem) === null || _c === void 0 ? void 0 : _c.documentationFormat;\n            this.supportsMarkdown = Array.isArray(documentationFormat) && documentationFormat.indexOf(MarkupKind.Markdown) !== -1;\n        }\n        return this.supportsMarkdown;\n    };\n    return CSSCompletion;\n}());\nexport { CSSCompletion };\nfunction isDeprecated(entry) {\n    if (entry.status && (entry.status === 'nonstandard' || entry.status === 'obsolete')) {\n        return true;\n    }\n    return false;\n}\n/**\n * Rank number should all be same length strings\n */\nfunction computeRankNumber(n) {\n    var nstr = n.toString();\n    switch (nstr.length) {\n        case 4:\n            return nstr;\n        case 3:\n            return '0' + nstr;\n        case 2:\n            return '00' + nstr;\n        case 1:\n            return '000' + nstr;\n        default:\n            return '0000';\n    }\n}\nvar Set = /** @class */ (function () {\n    function Set() {\n        this.entries = {};\n    }\n    Set.prototype.add = function (entry) {\n        this.entries[entry] = true;\n    };\n    Set.prototype.getEntries = function () {\n        return Object.keys(this.entries);\n    };\n    return Set;\n}());\nfunction moveCursorInsideParenthesis(text) {\n    return text.replace(/\\(\\)$/, \"($1)\");\n}\nfunction collectValues(styleSheet, declaration) {\n    var fullPropertyName = declaration.getFullPropertyName();\n    var entries = new Set();\n    function visitValue(node) {\n        if (node instanceof nodes.Identifier || node instanceof nodes.NumericValue || node instanceof nodes.HexColorValue) {\n            entries.add(node.getText());\n        }\n        return true;\n    }\n    function matchesProperty(decl) {\n        var propertyName = decl.getFullPropertyName();\n        return fullPropertyName === propertyName;\n    }\n    function vistNode(node) {\n        if (node instanceof nodes.Declaration && node !== declaration) {\n            if (matchesProperty(node)) {\n                var value = node.getValue();\n                if (value) {\n                    value.accept(visitValue);\n                }\n            }\n        }\n        return true;\n    }\n    styleSheet.accept(vistNode);\n    return entries;\n}\nvar ColorValueCollector = /** @class */ (function () {\n    function ColorValueCollector(entries, currentOffset) {\n        this.entries = entries;\n        this.currentOffset = currentOffset;\n        // nothing to do\n    }\n    ColorValueCollector.prototype.visitNode = function (node) {\n        if (node instanceof nodes.HexColorValue || (node instanceof nodes.Function && languageFacts.isColorConstructor(node))) {\n            if (this.currentOffset < node.offset || node.end < this.currentOffset) {\n                this.entries.add(node.getText());\n            }\n        }\n        return true;\n    };\n    return ColorValueCollector;\n}());\nfunction getCurrentWord(document, offset) {\n    var i = offset - 1;\n    var text = document.getText();\n    while (i >= 0 && ' \\t\\n\\r\":{[()]},*>+'.indexOf(text.charAt(i)) === -1) {\n        i--;\n    }\n    return text.substring(i + 1, offset);\n}\nfunction isColorString(s) {\n    // From https://stackoverflow.com/questions/8027423/how-to-check-if-a-string-is-a-valid-hex-color-representation/8027444\n    return (s.toLowerCase() in languageFacts.colors) || /(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(s);\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport * as nodes from '../parser/cssNodes.js';\nimport { Scanner } from '../parser/cssScanner.js';\nimport * as nls from '../../../fillers/vscode-nls.js';\nvar localize = nls.loadMessageBundle();\nvar Element = /** @class */ (function () {\n    function Element() {\n        this.parent = null;\n        this.children = null;\n        this.attributes = null;\n    }\n    Element.prototype.findAttribute = function (name) {\n        if (this.attributes) {\n            for (var _i = 0, _a = this.attributes; _i < _a.length; _i++) {\n                var attribute = _a[_i];\n                if (attribute.name === name) {\n                    return attribute.value;\n                }\n            }\n        }\n        return null;\n    };\n    Element.prototype.addChild = function (child) {\n        if (child instanceof Element) {\n            child.parent = this;\n        }\n        if (!this.children) {\n            this.children = [];\n        }\n        this.children.push(child);\n    };\n    Element.prototype.append = function (text) {\n        if (this.attributes) {\n            var last = this.attributes[this.attributes.length - 1];\n            last.value = last.value + text;\n        }\n    };\n    Element.prototype.prepend = function (text) {\n        if (this.attributes) {\n            var first = this.attributes[0];\n            first.value = text + first.value;\n        }\n    };\n    Element.prototype.findRoot = function () {\n        var curr = this;\n        while (curr.parent && !(curr.parent instanceof RootElement)) {\n            curr = curr.parent;\n        }\n        return curr;\n    };\n    Element.prototype.removeChild = function (child) {\n        if (this.children) {\n            var index = this.children.indexOf(child);\n            if (index !== -1) {\n                this.children.splice(index, 1);\n                return true;\n            }\n        }\n        return false;\n    };\n    Element.prototype.addAttr = function (name, value) {\n        if (!this.attributes) {\n            this.attributes = [];\n        }\n        for (var _i = 0, _a = this.attributes; _i < _a.length; _i++) {\n            var attribute = _a[_i];\n            if (attribute.name === name) {\n                attribute.value += ' ' + value;\n                return;\n            }\n        }\n        this.attributes.push({ name: name, value: value });\n    };\n    Element.prototype.clone = function (cloneChildren) {\n        if (cloneChildren === void 0) { cloneChildren = true; }\n        var elem = new Element();\n        if (this.attributes) {\n            elem.attributes = [];\n            for (var _i = 0, _a = this.attributes; _i < _a.length; _i++) {\n                var attribute = _a[_i];\n                elem.addAttr(attribute.name, attribute.value);\n            }\n        }\n        if (cloneChildren && this.children) {\n            elem.children = [];\n            for (var index = 0; index < this.children.length; index++) {\n                elem.addChild(this.children[index].clone());\n            }\n        }\n        return elem;\n    };\n    Element.prototype.cloneWithParent = function () {\n        var clone = this.clone(false);\n        if (this.parent && !(this.parent instanceof RootElement)) {\n            var parentClone = this.parent.cloneWithParent();\n            parentClone.addChild(clone);\n        }\n        return clone;\n    };\n    return Element;\n}());\nexport { Element };\nvar RootElement = /** @class */ (function (_super) {\n    __extends(RootElement, _super);\n    function RootElement() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    return RootElement;\n}(Element));\nexport { RootElement };\nvar LabelElement = /** @class */ (function (_super) {\n    __extends(LabelElement, _super);\n    function LabelElement(label) {\n        var _this = _super.call(this) || this;\n        _this.addAttr('name', label);\n        return _this;\n    }\n    return LabelElement;\n}(Element));\nexport { LabelElement };\nvar MarkedStringPrinter = /** @class */ (function () {\n    function MarkedStringPrinter(quote) {\n        this.quote = quote;\n        this.result = [];\n        // empty\n    }\n    MarkedStringPrinter.prototype.print = function (element) {\n        this.result = [];\n        if (element instanceof RootElement) {\n            if (element.children) {\n                this.doPrint(element.children, 0);\n            }\n        }\n        else {\n            this.doPrint([element], 0);\n        }\n        var value = this.result.join('\\n');\n        return [{ language: 'html', value: value }];\n    };\n    MarkedStringPrinter.prototype.doPrint = function (elements, indent) {\n        for (var _i = 0, elements_1 = elements; _i < elements_1.length; _i++) {\n            var element = elements_1[_i];\n            this.doPrintElement(element, indent);\n            if (element.children) {\n                this.doPrint(element.children, indent + 1);\n            }\n        }\n    };\n    MarkedStringPrinter.prototype.writeLine = function (level, content) {\n        var indent = new Array(level + 1).join('  ');\n        this.result.push(indent + content);\n    };\n    MarkedStringPrinter.prototype.doPrintElement = function (element, indent) {\n        var name = element.findAttribute('name');\n        // special case: a simple label\n        if (element instanceof LabelElement || name === '\\u2026') {\n            this.writeLine(indent, name);\n            return;\n        }\n        // the real deal\n        var content = ['<'];\n        // element name\n        if (name) {\n            content.push(name);\n        }\n        else {\n            content.push('element');\n        }\n        // attributes\n        if (element.attributes) {\n            for (var _i = 0, _a = element.attributes; _i < _a.length; _i++) {\n                var attr = _a[_i];\n                if (attr.name !== 'name') {\n                    content.push(' ');\n                    content.push(attr.name);\n                    var value = attr.value;\n                    if (value) {\n                        content.push('=');\n                        content.push(quotes.ensure(value, this.quote));\n                    }\n                }\n            }\n        }\n        content.push('>');\n        this.writeLine(indent, content.join(''));\n    };\n    return MarkedStringPrinter;\n}());\nvar quotes;\n(function (quotes) {\n    function ensure(value, which) {\n        return which + remove(value) + which;\n    }\n    quotes.ensure = ensure;\n    function remove(value) {\n        var match = value.match(/^['\"](.*)[\"']$/);\n        if (match) {\n            return match[1];\n        }\n        return value;\n    }\n    quotes.remove = remove;\n})(quotes || (quotes = {}));\nvar Specificity = /** @class */ (function () {\n    function Specificity() {\n        /** Count of identifiers (e.g., `#app`) */\n        this.id = 0;\n        /** Count of attributes (`[type=\"number\"]`), classes (`.container-fluid`), and pseudo-classes (`:hover`) */\n        this.attr = 0;\n        /** Count of tag names (`div`), and pseudo-elements (`::before`) */\n        this.tag = 0;\n    }\n    return Specificity;\n}());\nexport function toElement(node, parentElement) {\n    var result = new Element();\n    for (var _i = 0, _a = node.getChildren(); _i < _a.length; _i++) {\n        var child = _a[_i];\n        switch (child.type) {\n            case nodes.NodeType.SelectorCombinator:\n                if (parentElement) {\n                    var segments = child.getText().split('&');\n                    if (segments.length === 1) {\n                        // should not happen\n                        result.addAttr('name', segments[0]);\n                        break;\n                    }\n                    result = parentElement.cloneWithParent();\n                    if (segments[0]) {\n                        var root = result.findRoot();\n                        root.prepend(segments[0]);\n                    }\n                    for (var i = 1; i < segments.length; i++) {\n                        if (i > 1) {\n                            var clone = parentElement.cloneWithParent();\n                            result.addChild(clone.findRoot());\n                            result = clone;\n                        }\n                        result.append(segments[i]);\n                    }\n                }\n                break;\n            case nodes.NodeType.SelectorPlaceholder:\n                if (child.matches('@at-root')) {\n                    return result;\n                }\n            // fall through\n            case nodes.NodeType.ElementNameSelector:\n                var text = child.getText();\n                result.addAttr('name', text === '*' ? 'element' : unescape(text));\n                break;\n            case nodes.NodeType.ClassSelector:\n                result.addAttr('class', unescape(child.getText().substring(1)));\n                break;\n            case nodes.NodeType.IdentifierSelector:\n                result.addAttr('id', unescape(child.getText().substring(1)));\n                break;\n            case nodes.NodeType.MixinDeclaration:\n                result.addAttr('class', child.getName());\n                break;\n            case nodes.NodeType.PseudoSelector:\n                result.addAttr(unescape(child.getText()), '');\n                break;\n            case nodes.NodeType.AttributeSelector:\n                var selector = child;\n                var identifier = selector.getIdentifier();\n                if (identifier) {\n                    var expression = selector.getValue();\n                    var operator = selector.getOperator();\n                    var value = void 0;\n                    if (expression && operator) {\n                        switch (unescape(operator.getText())) {\n                            case '|=':\n                                // excatly or followed by -words\n                                value = quotes.remove(unescape(expression.getText())) + \"-\\u2026\";\n                                break;\n                            case '^=':\n                                // prefix\n                                value = quotes.remove(unescape(expression.getText())) + \"\\u2026\";\n                                break;\n                            case '$=':\n                                // suffix\n                                value = \"\\u2026\" + quotes.remove(unescape(expression.getText()));\n                                break;\n                            case '~=':\n                                // one of a list of words\n                                value = \" \\u2026 \" + quotes.remove(unescape(expression.getText())) + \" \\u2026 \";\n                                break;\n                            case '*=':\n                                // substring\n                                value = \"\\u2026\" + quotes.remove(unescape(expression.getText())) + \"\\u2026\";\n                                break;\n                            default:\n                                value = quotes.remove(unescape(expression.getText()));\n                                break;\n                        }\n                    }\n                    result.addAttr(unescape(identifier.getText()), value);\n                }\n                break;\n        }\n    }\n    return result;\n}\nfunction unescape(content) {\n    var scanner = new Scanner();\n    scanner.setSource(content);\n    var token = scanner.scanUnquotedString();\n    if (token) {\n        return token.text;\n    }\n    return content;\n}\nvar SelectorPrinting = /** @class */ (function () {\n    function SelectorPrinting(cssDataManager) {\n        this.cssDataManager = cssDataManager;\n    }\n    SelectorPrinting.prototype.selectorToMarkedString = function (node) {\n        var root = selectorToElement(node);\n        if (root) {\n            var markedStrings = new MarkedStringPrinter('\"').print(root);\n            markedStrings.push(this.selectorToSpecificityMarkedString(node));\n            return markedStrings;\n        }\n        else {\n            return [];\n        }\n    };\n    SelectorPrinting.prototype.simpleSelectorToMarkedString = function (node) {\n        var element = toElement(node);\n        var markedStrings = new MarkedStringPrinter('\"').print(element);\n        markedStrings.push(this.selectorToSpecificityMarkedString(node));\n        return markedStrings;\n    };\n    SelectorPrinting.prototype.isPseudoElementIdentifier = function (text) {\n        var match = text.match(/^::?([\\w-]+)/);\n        if (!match) {\n            return false;\n        }\n        return !!this.cssDataManager.getPseudoElement(\"::\" + match[1]);\n    };\n    SelectorPrinting.prototype.selectorToSpecificityMarkedString = function (node) {\n        var _this = this;\n        //https://www.w3.org/TR/selectors-3/#specificity\n        var calculateScore = function (node) {\n            for (var _i = 0, _a = node.getChildren(); _i < _a.length; _i++) {\n                var element = _a[_i];\n                switch (element.type) {\n                    case nodes.NodeType.IdentifierSelector:\n                        specificity.id++;\n                        break;\n                    case nodes.NodeType.ClassSelector:\n                    case nodes.NodeType.AttributeSelector:\n                        specificity.attr++;\n                        break;\n                    case nodes.NodeType.ElementNameSelector:\n                        //ignore universal selector\n                        if (element.matches(\"*\")) {\n                            break;\n                        }\n                        specificity.tag++;\n                        break;\n                    case nodes.NodeType.PseudoSelector:\n                        var text = element.getText();\n                        if (_this.isPseudoElementIdentifier(text)) {\n                            specificity.tag++; // pseudo element\n                        }\n                        else {\n                            //ignore psuedo class NOT\n                            if (text.match(/^:not/i)) {\n                                break;\n                            }\n                            specificity.attr++; //pseudo class\n                        }\n                        break;\n                }\n                if (element.getChildren().length > 0) {\n                    calculateScore(element);\n                }\n            }\n        };\n        var specificity = new Specificity();\n        calculateScore(node);\n        return localize('specificity', \"[Selector Specificity](https://developer.mozilla.org/en-US/docs/Web/CSS/Specificity): ({0}, {1}, {2})\", specificity.id, specificity.attr, specificity.tag);\n    };\n    return SelectorPrinting;\n}());\nexport { SelectorPrinting };\nvar SelectorElementBuilder = /** @class */ (function () {\n    function SelectorElementBuilder(element) {\n        this.prev = null;\n        this.element = element;\n    }\n    SelectorElementBuilder.prototype.processSelector = function (selector) {\n        var parentElement = null;\n        if (!(this.element instanceof RootElement)) {\n            if (selector.getChildren().some(function (c) { return c.hasChildren() && c.getChild(0).type === nodes.NodeType.SelectorCombinator; })) {\n                var curr = this.element.findRoot();\n                if (curr.parent instanceof RootElement) {\n                    parentElement = this.element;\n                    this.element = curr.parent;\n                    this.element.removeChild(curr);\n                    this.prev = null;\n                }\n            }\n        }\n        for (var _i = 0, _a = selector.getChildren(); _i < _a.length; _i++) {\n            var selectorChild = _a[_i];\n            if (selectorChild instanceof nodes.SimpleSelector) {\n                if (this.prev instanceof nodes.SimpleSelector) {\n                    var labelElement = new LabelElement('\\u2026');\n                    this.element.addChild(labelElement);\n                    this.element = labelElement;\n                }\n                else if (this.prev && (this.prev.matches('+') || this.prev.matches('~')) && this.element.parent) {\n                    this.element = this.element.parent;\n                }\n                if (this.prev && this.prev.matches('~')) {\n                    this.element.addChild(toElement(selectorChild));\n                    this.element.addChild(new LabelElement('\\u22EE'));\n                }\n                var thisElement = toElement(selectorChild, parentElement);\n                var root = thisElement.findRoot();\n                this.element.addChild(root);\n                this.element = thisElement;\n            }\n            if (selectorChild instanceof nodes.SimpleSelector ||\n                selectorChild.type === nodes.NodeType.SelectorCombinatorParent ||\n                selectorChild.type === nodes.NodeType.SelectorCombinatorShadowPiercingDescendant ||\n                selectorChild.type === nodes.NodeType.SelectorCombinatorSibling ||\n                selectorChild.type === nodes.NodeType.SelectorCombinatorAllSiblings) {\n                this.prev = selectorChild;\n            }\n        }\n    };\n    return SelectorElementBuilder;\n}());\nfunction isNewSelectorContext(node) {\n    switch (node.type) {\n        case nodes.NodeType.MixinDeclaration:\n        case nodes.NodeType.Stylesheet:\n            return true;\n    }\n    return false;\n}\nexport function selectorToElement(node) {\n    if (node.matches('@at-root')) {\n        return null;\n    }\n    var root = new RootElement();\n    var parentRuleSets = [];\n    var ruleSet = node.getParent();\n    if (ruleSet instanceof nodes.RuleSet) {\n        var parent = ruleSet.getParent(); // parent of the selector's ruleset\n        while (parent && !isNewSelectorContext(parent)) {\n            if (parent instanceof nodes.RuleSet) {\n                if (parent.getSelectors().matches('@at-root')) {\n                    break;\n                }\n                parentRuleSets.push(parent);\n            }\n            parent = parent.getParent();\n        }\n    }\n    var builder = new SelectorElementBuilder(root);\n    for (var i = parentRuleSets.length - 1; i >= 0; i--) {\n        var selector = parentRuleSets[i].getSelectors().getChild(0);\n        if (selector) {\n            builder.processSelector(selector);\n        }\n    }\n    builder.processSelector(node);\n    return root;\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nimport { DocumentHighlightKind, Location, Range, SymbolKind, TextEdit, FileType } from '../cssLanguageTypes.js';\nimport * as nls from '../../../fillers/vscode-nls.js';\nimport * as nodes from '../parser/cssNodes.js';\nimport { Symbols } from '../parser/cssSymbolScope.js';\nimport { getColorValue, hslFromColor } from '../languageFacts/facts.js';\nimport { startsWith } from '../utils/strings.js';\nimport { dirname, joinPath } from '../utils/resources.js';\nvar localize = nls.loadMessageBundle();\nvar CSSNavigation = /** @class */ (function () {\n    function CSSNavigation(fileSystemProvider) {\n        this.fileSystemProvider = fileSystemProvider;\n    }\n    CSSNavigation.prototype.findDefinition = function (document, position, stylesheet) {\n        var symbols = new Symbols(stylesheet);\n        var offset = document.offsetAt(position);\n        var node = nodes.getNodeAtOffset(stylesheet, offset);\n        if (!node) {\n            return null;\n        }\n        var symbol = symbols.findSymbolFromNode(node);\n        if (!symbol) {\n            return null;\n        }\n        return {\n            uri: document.uri,\n            range: getRange(symbol.node, document)\n        };\n    };\n    CSSNavigation.prototype.findReferences = function (document, position, stylesheet) {\n        var highlights = this.findDocumentHighlights(document, position, stylesheet);\n        return highlights.map(function (h) {\n            return {\n                uri: document.uri,\n                range: h.range\n            };\n        });\n    };\n    CSSNavigation.prototype.findDocumentHighlights = function (document, position, stylesheet) {\n        var result = [];\n        var offset = document.offsetAt(position);\n        var node = nodes.getNodeAtOffset(stylesheet, offset);\n        if (!node || node.type === nodes.NodeType.Stylesheet || node.type === nodes.NodeType.Declarations) {\n            return result;\n        }\n        if (node.type === nodes.NodeType.Identifier && node.parent && node.parent.type === nodes.NodeType.ClassSelector) {\n            node = node.parent;\n        }\n        var symbols = new Symbols(stylesheet);\n        var symbol = symbols.findSymbolFromNode(node);\n        var name = node.getText();\n        stylesheet.accept(function (candidate) {\n            if (symbol) {\n                if (symbols.matchesSymbol(candidate, symbol)) {\n                    result.push({\n                        kind: getHighlightKind(candidate),\n                        range: getRange(candidate, document)\n                    });\n                    return false;\n                }\n            }\n            else if (node && node.type === candidate.type && candidate.matches(name)) {\n                // Same node type and data\n                result.push({\n                    kind: getHighlightKind(candidate),\n                    range: getRange(candidate, document)\n                });\n            }\n            return true;\n        });\n        return result;\n    };\n    CSSNavigation.prototype.isRawStringDocumentLinkNode = function (node) {\n        return node.type === nodes.NodeType.Import;\n    };\n    CSSNavigation.prototype.findDocumentLinks = function (document, stylesheet, documentContext) {\n        var links = this.findUnresolvedLinks(document, stylesheet);\n        for (var i = 0; i < links.length; i++) {\n            var target = links[i].target;\n            if (target && !(/^\\w+:\\/\\//g.test(target))) {\n                var resolved = documentContext.resolveReference(target, document.uri);\n                if (resolved) {\n                    links[i].target = resolved;\n                }\n            }\n        }\n        return links;\n    };\n    CSSNavigation.prototype.findDocumentLinks2 = function (document, stylesheet, documentContext) {\n        return __awaiter(this, void 0, void 0, function () {\n            var links, resolvedLinks, _i, links_1, link, target, resolvedTarget;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        links = this.findUnresolvedLinks(document, stylesheet);\n                        resolvedLinks = [];\n                        _i = 0, links_1 = links;\n                        _a.label = 1;\n                    case 1:\n                        if (!(_i < links_1.length)) return [3 /*break*/, 5];\n                        link = links_1[_i];\n                        target = link.target;\n                        if (!(target && !(/^\\w+:\\/\\//g.test(target)))) return [3 /*break*/, 3];\n                        return [4 /*yield*/, this.resolveRelativeReference(target, document.uri, documentContext)];\n                    case 2:\n                        resolvedTarget = _a.sent();\n                        if (resolvedTarget !== undefined) {\n                            link.target = resolvedTarget;\n                            resolvedLinks.push(link);\n                        }\n                        return [3 /*break*/, 4];\n                    case 3:\n                        resolvedLinks.push(link);\n                        _a.label = 4;\n                    case 4:\n                        _i++;\n                        return [3 /*break*/, 1];\n                    case 5: return [2 /*return*/, resolvedLinks];\n                }\n            });\n        });\n    };\n    CSSNavigation.prototype.findUnresolvedLinks = function (document, stylesheet) {\n        var _this = this;\n        var result = [];\n        var collect = function (uriStringNode) {\n            var rawUri = uriStringNode.getText();\n            var range = getRange(uriStringNode, document);\n            // Make sure the range is not empty\n            if (range.start.line === range.end.line && range.start.character === range.end.character) {\n                return;\n            }\n            if (startsWith(rawUri, \"'\") || startsWith(rawUri, \"\\\"\")) {\n                rawUri = rawUri.slice(1, -1);\n            }\n            result.push({ target: rawUri, range: range });\n        };\n        stylesheet.accept(function (candidate) {\n            if (candidate.type === nodes.NodeType.URILiteral) {\n                var first = candidate.getChild(0);\n                if (first) {\n                    collect(first);\n                }\n                return false;\n            }\n            /**\n             * In @import, it is possible to include links that do not use `url()`\n             * For example, `@import 'foo.css';`\n             */\n            if (candidate.parent && _this.isRawStringDocumentLinkNode(candidate.parent)) {\n                var rawText = candidate.getText();\n                if (startsWith(rawText, \"'\") || startsWith(rawText, \"\\\"\")) {\n                    collect(candidate);\n                }\n                return false;\n            }\n            return true;\n        });\n        return result;\n    };\n    CSSNavigation.prototype.findDocumentSymbols = function (document, stylesheet) {\n        var result = [];\n        stylesheet.accept(function (node) {\n            var entry = {\n                name: null,\n                kind: SymbolKind.Class,\n                location: null\n            };\n            var locationNode = node;\n            if (node instanceof nodes.Selector) {\n                entry.name = node.getText();\n                locationNode = node.findAParent(nodes.NodeType.Ruleset, nodes.NodeType.ExtendsReference);\n                if (locationNode) {\n                    entry.location = Location.create(document.uri, getRange(locationNode, document));\n                    result.push(entry);\n                }\n                return false;\n            }\n            else if (node instanceof nodes.VariableDeclaration) {\n                entry.name = node.getName();\n                entry.kind = SymbolKind.Variable;\n            }\n            else if (node instanceof nodes.MixinDeclaration) {\n                entry.name = node.getName();\n                entry.kind = SymbolKind.Method;\n            }\n            else if (node instanceof nodes.FunctionDeclaration) {\n                entry.name = node.getName();\n                entry.kind = SymbolKind.Function;\n            }\n            else if (node instanceof nodes.Keyframe) {\n                entry.name = localize('literal.keyframes', \"@keyframes {0}\", node.getName());\n            }\n            else if (node instanceof nodes.FontFace) {\n                entry.name = localize('literal.fontface', \"@font-face\");\n            }\n            else if (node instanceof nodes.Media) {\n                var mediaList = node.getChild(0);\n                if (mediaList instanceof nodes.Medialist) {\n                    entry.name = '@media ' + mediaList.getText();\n                    entry.kind = SymbolKind.Module;\n                }\n            }\n            if (entry.name) {\n                entry.location = Location.create(document.uri, getRange(locationNode, document));\n                result.push(entry);\n            }\n            return true;\n        });\n        return result;\n    };\n    CSSNavigation.prototype.findDocumentColors = function (document, stylesheet) {\n        var result = [];\n        stylesheet.accept(function (node) {\n            var colorInfo = getColorInformation(node, document);\n            if (colorInfo) {\n                result.push(colorInfo);\n            }\n            return true;\n        });\n        return result;\n    };\n    CSSNavigation.prototype.getColorPresentations = function (document, stylesheet, color, range) {\n        var result = [];\n        var red256 = Math.round(color.red * 255), green256 = Math.round(color.green * 255), blue256 = Math.round(color.blue * 255);\n        var label;\n        if (color.alpha === 1) {\n            label = \"rgb(\" + red256 + \", \" + green256 + \", \" + blue256 + \")\";\n        }\n        else {\n            label = \"rgba(\" + red256 + \", \" + green256 + \", \" + blue256 + \", \" + color.alpha + \")\";\n        }\n        result.push({ label: label, textEdit: TextEdit.replace(range, label) });\n        if (color.alpha === 1) {\n            label = \"#\" + toTwoDigitHex(red256) + toTwoDigitHex(green256) + toTwoDigitHex(blue256);\n        }\n        else {\n            label = \"#\" + toTwoDigitHex(red256) + toTwoDigitHex(green256) + toTwoDigitHex(blue256) + toTwoDigitHex(Math.round(color.alpha * 255));\n        }\n        result.push({ label: label, textEdit: TextEdit.replace(range, label) });\n        var hsl = hslFromColor(color);\n        if (hsl.a === 1) {\n            label = \"hsl(\" + hsl.h + \", \" + Math.round(hsl.s * 100) + \"%, \" + Math.round(hsl.l * 100) + \"%)\";\n        }\n        else {\n            label = \"hsla(\" + hsl.h + \", \" + Math.round(hsl.s * 100) + \"%, \" + Math.round(hsl.l * 100) + \"%, \" + hsl.a + \")\";\n        }\n        result.push({ label: label, textEdit: TextEdit.replace(range, label) });\n        return result;\n    };\n    CSSNavigation.prototype.doRename = function (document, position, newName, stylesheet) {\n        var _a;\n        var highlights = this.findDocumentHighlights(document, position, stylesheet);\n        var edits = highlights.map(function (h) { return TextEdit.replace(h.range, newName); });\n        return {\n            changes: (_a = {}, _a[document.uri] = edits, _a)\n        };\n    };\n    CSSNavigation.prototype.resolveRelativeReference = function (ref, documentUri, documentContext) {\n        return __awaiter(this, void 0, void 0, function () {\n            var moduleName, rootFolderUri, documentFolderUri, modulePath, pathWithinModule;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if (!(ref[0] === '~' && ref[1] !== '/' && this.fileSystemProvider)) return [3 /*break*/, 3];\n                        ref = ref.substring(1);\n                        if (!startsWith(documentUri, 'file://')) return [3 /*break*/, 2];\n                        moduleName = getModuleNameFromPath(ref);\n                        rootFolderUri = documentContext.resolveReference('/', documentUri);\n                        documentFolderUri = dirname(documentUri);\n                        return [4 /*yield*/, this.resolvePathToModule(moduleName, documentFolderUri, rootFolderUri)];\n                    case 1:\n                        modulePath = _a.sent();\n                        if (modulePath) {\n                            pathWithinModule = ref.substring(moduleName.length + 1);\n                            return [2 /*return*/, joinPath(modulePath, pathWithinModule)];\n                        }\n                        _a.label = 2;\n                    case 2: return [2 /*return*/, documentContext.resolveReference(ref, documentUri)];\n                    case 3: return [2 /*return*/, documentContext.resolveReference(ref, documentUri)];\n                }\n            });\n        });\n    };\n    CSSNavigation.prototype.resolvePathToModule = function (_moduleName, documentFolderUri, rootFolderUri) {\n        return __awaiter(this, void 0, void 0, function () {\n            var packPath;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        packPath = joinPath(documentFolderUri, 'node_modules', _moduleName, 'package.json');\n                        return [4 /*yield*/, this.fileExists(packPath)];\n                    case 1:\n                        if (_a.sent()) {\n                            return [2 /*return*/, dirname(packPath)];\n                        }\n                        else if (rootFolderUri && documentFolderUri.startsWith(rootFolderUri) && (documentFolderUri.length !== rootFolderUri.length)) {\n                            return [2 /*return*/, this.resolvePathToModule(_moduleName, dirname(documentFolderUri), rootFolderUri)];\n                        }\n                        return [2 /*return*/, undefined];\n                }\n            });\n        });\n    };\n    CSSNavigation.prototype.fileExists = function (uri) {\n        return __awaiter(this, void 0, void 0, function () {\n            var stat, err_1;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if (!this.fileSystemProvider) {\n                            return [2 /*return*/, false];\n                        }\n                        _a.label = 1;\n                    case 1:\n                        _a.trys.push([1, 3, , 4]);\n                        return [4 /*yield*/, this.fileSystemProvider.stat(uri)];\n                    case 2:\n                        stat = _a.sent();\n                        if (stat.type === FileType.Unknown && stat.size === -1) {\n                            return [2 /*return*/, false];\n                        }\n                        return [2 /*return*/, true];\n                    case 3:\n                        err_1 = _a.sent();\n                        return [2 /*return*/, false];\n                    case 4: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    return CSSNavigation;\n}());\nexport { CSSNavigation };\nfunction getColorInformation(node, document) {\n    var color = getColorValue(node);\n    if (color) {\n        var range = getRange(node, document);\n        return { color: color, range: range };\n    }\n    return null;\n}\nfunction getRange(node, document) {\n    return Range.create(document.positionAt(node.offset), document.positionAt(node.end));\n}\nfunction getHighlightKind(node) {\n    if (node.type === nodes.NodeType.Selector) {\n        return DocumentHighlightKind.Write;\n    }\n    if (node instanceof nodes.Identifier) {\n        if (node.parent && node.parent instanceof nodes.Property) {\n            if (node.isCustomProperty) {\n                return DocumentHighlightKind.Write;\n            }\n        }\n    }\n    if (node.parent) {\n        switch (node.parent.type) {\n            case nodes.NodeType.FunctionDeclaration:\n            case nodes.NodeType.MixinDeclaration:\n            case nodes.NodeType.Keyframe:\n            case nodes.NodeType.VariableDeclaration:\n            case nodes.NodeType.FunctionParameter:\n                return DocumentHighlightKind.Write;\n        }\n    }\n    return DocumentHighlightKind.Read;\n}\nfunction toTwoDigitHex(n) {\n    var r = n.toString(16);\n    return r.length !== 2 ? '0' + r : r;\n}\nfunction getModuleNameFromPath(path) {\n    // If a scoped module (starts with @) then get up until second instance of '/', otherwise get until first instance of '/'\n    if (path[0] === '@') {\n        return path.substring(0, path.indexOf('/', path.indexOf('/') + 1));\n    }\n    return path.substring(0, path.indexOf('/'));\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nimport * as nodes from '../parser/cssNodes.js';\nimport * as nls from '../../../fillers/vscode-nls.js';\nvar localize = nls.loadMessageBundle();\nvar Warning = nodes.Level.Warning;\nvar Error = nodes.Level.Error;\nvar Ignore = nodes.Level.Ignore;\nvar Rule = /** @class */ (function () {\n    function Rule(id, message, defaultValue) {\n        this.id = id;\n        this.message = message;\n        this.defaultValue = defaultValue;\n        // nothing to do\n    }\n    return Rule;\n}());\nexport { Rule };\nvar Setting = /** @class */ (function () {\n    function Setting(id, message, defaultValue) {\n        this.id = id;\n        this.message = message;\n        this.defaultValue = defaultValue;\n        // nothing to do\n    }\n    return Setting;\n}());\nexport { Setting };\nexport var Rules = {\n    AllVendorPrefixes: new Rule('compatibleVendorPrefixes', localize('rule.vendorprefixes.all', \"When using a vendor-specific prefix make sure to also include all other vendor-specific properties\"), Ignore),\n    IncludeStandardPropertyWhenUsingVendorPrefix: new Rule('vendorPrefix', localize('rule.standardvendorprefix.all', \"When using a vendor-specific prefix also include the standard property\"), Warning),\n    DuplicateDeclarations: new Rule('duplicateProperties', localize('rule.duplicateDeclarations', \"Do not use duplicate style definitions\"), Ignore),\n    EmptyRuleSet: new Rule('emptyRules', localize('rule.emptyRuleSets', \"Do not use empty rulesets\"), Warning),\n    ImportStatemement: new Rule('importStatement', localize('rule.importDirective', \"Import statements do not load in parallel\"), Ignore),\n    BewareOfBoxModelSize: new Rule('boxModel', localize('rule.bewareOfBoxModelSize', \"Do not use width or height when using padding or border\"), Ignore),\n    UniversalSelector: new Rule('universalSelector', localize('rule.universalSelector', \"The universal selector (*) is known to be slow\"), Ignore),\n    ZeroWithUnit: new Rule('zeroUnits', localize('rule.zeroWidthUnit', \"No unit for zero needed\"), Ignore),\n    RequiredPropertiesForFontFace: new Rule('fontFaceProperties', localize('rule.fontFaceProperties', \"@font-face rule must define 'src' and 'font-family' properties\"), Warning),\n    HexColorLength: new Rule('hexColorLength', localize('rule.hexColor', \"Hex colors must consist of three, four, six or eight hex numbers\"), Error),\n    ArgsInColorFunction: new Rule('argumentsInColorFunction', localize('rule.colorFunction', \"Invalid number of parameters\"), Error),\n    UnknownProperty: new Rule('unknownProperties', localize('rule.unknownProperty', \"Unknown property.\"), Warning),\n    UnknownAtRules: new Rule('unknownAtRules', localize('rule.unknownAtRules', \"Unknown at-rule.\"), Warning),\n    IEStarHack: new Rule('ieHack', localize('rule.ieHack', \"IE hacks are only necessary when supporting IE7 and older\"), Ignore),\n    UnknownVendorSpecificProperty: new Rule('unknownVendorSpecificProperties', localize('rule.unknownVendorSpecificProperty', \"Unknown vendor specific property.\"), Ignore),\n    PropertyIgnoredDueToDisplay: new Rule('propertyIgnoredDueToDisplay', localize('rule.propertyIgnoredDueToDisplay', \"Property is ignored due to the display.\"), Warning),\n    AvoidImportant: new Rule('important', localize('rule.avoidImportant', \"Avoid using !important. It is an indication that the specificity of the entire CSS has gotten out of control and needs to be refactored.\"), Ignore),\n    AvoidFloat: new Rule('float', localize('rule.avoidFloat', \"Avoid using 'float'. Floats lead to fragile CSS that is easy to break if one aspect of the layout changes.\"), Ignore),\n    AvoidIdSelector: new Rule('idSelector', localize('rule.avoidIdSelector', \"Selectors should not contain IDs because these rules are too tightly coupled with the HTML.\"), Ignore),\n};\nexport var Settings = {\n    ValidProperties: new Setting('validProperties', localize('rule.validProperties', \"A list of properties that are not validated against the `unknownProperties` rule.\"), [])\n};\nvar LintConfigurationSettings = /** @class */ (function () {\n    function LintConfigurationSettings(conf) {\n        if (conf === void 0) { conf = {}; }\n        this.conf = conf;\n    }\n    LintConfigurationSettings.prototype.getRule = function (rule) {\n        if (this.conf.hasOwnProperty(rule.id)) {\n            var level = toLevel(this.conf[rule.id]);\n            if (level) {\n                return level;\n            }\n        }\n        return rule.defaultValue;\n    };\n    LintConfigurationSettings.prototype.getSetting = function (setting) {\n        return this.conf[setting.id];\n    };\n    return LintConfigurationSettings;\n}());\nexport { LintConfigurationSettings };\nfunction toLevel(level) {\n    switch (level) {\n        case 'ignore': return nodes.Level.Ignore;\n        case 'warning': return nodes.Level.Warning;\n        case 'error': return nodes.Level.Error;\n    }\n    return null;\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nimport { includes } from '../utils/arrays.js';\nvar Element = /** @class */ (function () {\n    function Element(decl) {\n        this.fullPropertyName = decl.getFullPropertyName().toLowerCase();\n        this.node = decl;\n    }\n    return Element;\n}());\nexport { Element };\nfunction setSide(model, side, value, property) {\n    var state = model[side];\n    state.value = value;\n    if (value) {\n        if (!includes(state.properties, property)) {\n            state.properties.push(property);\n        }\n    }\n}\nfunction setAllSides(model, value, property) {\n    setSide(model, 'top', value, property);\n    setSide(model, 'right', value, property);\n    setSide(model, 'bottom', value, property);\n    setSide(model, 'left', value, property);\n}\nfunction updateModelWithValue(model, side, value, property) {\n    if (side === 'top' || side === 'right' ||\n        side === 'bottom' || side === 'left') {\n        setSide(model, side, value, property);\n    }\n    else {\n        setAllSides(model, value, property);\n    }\n}\nfunction updateModelWithList(model, values, property) {\n    switch (values.length) {\n        case 1:\n            updateModelWithValue(model, undefined, values[0], property);\n            break;\n        case 2:\n            updateModelWithValue(model, 'top', values[0], property);\n            updateModelWithValue(model, 'bottom', values[0], property);\n            updateModelWithValue(model, 'right', values[1], property);\n            updateModelWithValue(model, 'left', values[1], property);\n            break;\n        case 3:\n            updateModelWithValue(model, 'top', values[0], property);\n            updateModelWithValue(model, 'right', values[1], property);\n            updateModelWithValue(model, 'left', values[1], property);\n            updateModelWithValue(model, 'bottom', values[2], property);\n            break;\n        case 4:\n            updateModelWithValue(model, 'top', values[0], property);\n            updateModelWithValue(model, 'right', values[1], property);\n            updateModelWithValue(model, 'bottom', values[2], property);\n            updateModelWithValue(model, 'left', values[3], property);\n            break;\n    }\n}\nfunction matches(value, candidates) {\n    for (var _i = 0, candidates_1 = candidates; _i < candidates_1.length; _i++) {\n        var candidate = candidates_1[_i];\n        if (value.matches(candidate)) {\n            return true;\n        }\n    }\n    return false;\n}\n/**\n * @param allowsKeywords whether the initial value of property is zero, so keywords `initial` and `unset` count as zero\n * @return `true` if this node represents a non-zero border; otherwise, `false`\n */\nfunction checkLineWidth(value, allowsKeywords) {\n    if (allowsKeywords === void 0) { allowsKeywords = true; }\n    if (allowsKeywords && matches(value, ['initial', 'unset'])) {\n        return false;\n    }\n    // a <length> is a value and a unit\n    // so use `parseFloat` to strip the unit\n    return parseFloat(value.getText()) !== 0;\n}\nfunction checkLineWidthList(nodes, allowsKeywords) {\n    if (allowsKeywords === void 0) { allowsKeywords = true; }\n    return nodes.map(function (node) { return checkLineWidth(node, allowsKeywords); });\n}\n/**\n * @param allowsKeywords whether keywords `initial` and `unset` count as zero\n * @return `true` if this node represents a non-zero border; otherwise, `false`\n */\nfunction checkLineStyle(valueNode, allowsKeywords) {\n    if (allowsKeywords === void 0) { allowsKeywords = true; }\n    if (matches(valueNode, ['none', 'hidden'])) {\n        return false;\n    }\n    if (allowsKeywords && matches(valueNode, ['initial', 'unset'])) {\n        return false;\n    }\n    return true;\n}\nfunction checkLineStyleList(nodes, allowsKeywords) {\n    if (allowsKeywords === void 0) { allowsKeywords = true; }\n    return nodes.map(function (node) { return checkLineStyle(node, allowsKeywords); });\n}\nfunction checkBorderShorthand(node) {\n    var children = node.getChildren();\n    // the only child can be a keyword, a <line-width>, or a <line-style>\n    // if either check returns false, the result is no border\n    if (children.length === 1) {\n        var value = children[0];\n        return checkLineWidth(value) && checkLineStyle(value);\n    }\n    // multiple children can't contain keywords\n    // if any child means no border, the result is no border\n    for (var _i = 0, children_1 = children; _i < children_1.length; _i++) {\n        var child = children_1[_i];\n        var value = child;\n        if (!checkLineWidth(value, /* allowsKeywords: */ false) ||\n            !checkLineStyle(value, /* allowsKeywords: */ false)) {\n            return false;\n        }\n    }\n    return true;\n}\nexport default function calculateBoxModel(propertyTable) {\n    var model = {\n        top: { value: false, properties: [] },\n        right: { value: false, properties: [] },\n        bottom: { value: false, properties: [] },\n        left: { value: false, properties: [] },\n    };\n    for (var _i = 0, propertyTable_1 = propertyTable; _i < propertyTable_1.length; _i++) {\n        var property = propertyTable_1[_i];\n        var value = property.node.value;\n        if (typeof value === 'undefined') {\n            continue;\n        }\n        switch (property.fullPropertyName) {\n            case 'box-sizing':\n                // has `box-sizing`, bail out\n                return {\n                    top: { value: false, properties: [] },\n                    right: { value: false, properties: [] },\n                    bottom: { value: false, properties: [] },\n                    left: { value: false, properties: [] },\n                };\n            case 'width':\n                model.width = property;\n                break;\n            case 'height':\n                model.height = property;\n                break;\n            default:\n                var segments = property.fullPropertyName.split('-');\n                switch (segments[0]) {\n                    case 'border':\n                        switch (segments[1]) {\n                            case undefined:\n                            case 'top':\n                            case 'right':\n                            case 'bottom':\n                            case 'left':\n                                switch (segments[2]) {\n                                    case undefined:\n                                        updateModelWithValue(model, segments[1], checkBorderShorthand(value), property);\n                                        break;\n                                    case 'width':\n                                        // the initial value of `border-width` is `medium`, not zero\n                                        updateModelWithValue(model, segments[1], checkLineWidth(value, false), property);\n                                        break;\n                                    case 'style':\n                                        // the initial value of `border-style` is `none`\n                                        updateModelWithValue(model, segments[1], checkLineStyle(value, true), property);\n                                        break;\n                                }\n                                break;\n                            case 'width':\n                                // the initial value of `border-width` is `medium`, not zero\n                                updateModelWithList(model, checkLineWidthList(value.getChildren(), false), property);\n                                break;\n                            case 'style':\n                                // the initial value of `border-style` is `none`\n                                updateModelWithList(model, checkLineStyleList(value.getChildren(), true), property);\n                                break;\n                        }\n                        break;\n                    case 'padding':\n                        if (segments.length === 1) {\n                            // the initial value of `padding` is zero\n                            updateModelWithList(model, checkLineWidthList(value.getChildren(), true), property);\n                        }\n                        else {\n                            // the initial value of `padding` is zero\n                            updateModelWithValue(model, segments[1], checkLineWidth(value, true), property);\n                        }\n                        break;\n                }\n                break;\n        }\n    }\n    return model;\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nimport * as languageFacts from '../languageFacts/facts.js';\nimport { Rules, Settings } from './lintRules.js';\nimport * as nodes from '../parser/cssNodes.js';\nimport calculateBoxModel, { Element } from './lintUtil.js';\nimport { union } from '../utils/arrays.js';\nimport * as nls from '../../../fillers/vscode-nls.js';\nvar localize = nls.loadMessageBundle();\nvar NodesByRootMap = /** @class */ (function () {\n    function NodesByRootMap() {\n        this.data = {};\n    }\n    NodesByRootMap.prototype.add = function (root, name, node) {\n        var entry = this.data[root];\n        if (!entry) {\n            entry = { nodes: [], names: [] };\n            this.data[root] = entry;\n        }\n        entry.names.push(name);\n        if (node) {\n            entry.nodes.push(node);\n        }\n    };\n    return NodesByRootMap;\n}());\nvar LintVisitor = /** @class */ (function () {\n    function LintVisitor(document, settings, cssDataManager) {\n        var _this = this;\n        this.cssDataManager = cssDataManager;\n        this.warnings = [];\n        this.settings = settings;\n        this.documentText = document.getText();\n        this.keyframes = new NodesByRootMap();\n        this.validProperties = {};\n        var properties = settings.getSetting(Settings.ValidProperties);\n        if (Array.isArray(properties)) {\n            properties.forEach(function (p) {\n                if (typeof p === 'string') {\n                    var name = p.trim().toLowerCase();\n                    if (name.length) {\n                        _this.validProperties[name] = true;\n                    }\n                }\n            });\n        }\n    }\n    LintVisitor.entries = function (node, document, settings, cssDataManager, entryFilter) {\n        var visitor = new LintVisitor(document, settings, cssDataManager);\n        node.acceptVisitor(visitor);\n        visitor.completeValidations();\n        return visitor.getEntries(entryFilter);\n    };\n    LintVisitor.prototype.isValidPropertyDeclaration = function (element) {\n        var propertyName = element.fullPropertyName;\n        return this.validProperties[propertyName];\n    };\n    LintVisitor.prototype.fetch = function (input, s) {\n        var elements = [];\n        for (var _i = 0, input_1 = input; _i < input_1.length; _i++) {\n            var curr = input_1[_i];\n            if (curr.fullPropertyName === s) {\n                elements.push(curr);\n            }\n        }\n        return elements;\n    };\n    LintVisitor.prototype.fetchWithValue = function (input, s, v) {\n        var elements = [];\n        for (var _i = 0, input_2 = input; _i < input_2.length; _i++) {\n            var inputElement = input_2[_i];\n            if (inputElement.fullPropertyName === s) {\n                var expression = inputElement.node.getValue();\n                if (expression && this.findValueInExpression(expression, v)) {\n                    elements.push(inputElement);\n                }\n            }\n        }\n        return elements;\n    };\n    LintVisitor.prototype.findValueInExpression = function (expression, v) {\n        var found = false;\n        expression.accept(function (node) {\n            if (node.type === nodes.NodeType.Identifier && node.matches(v)) {\n                found = true;\n            }\n            return !found;\n        });\n        return found;\n    };\n    LintVisitor.prototype.getEntries = function (filter) {\n        if (filter === void 0) { filter = (nodes.Level.Warning | nodes.Level.Error); }\n        return this.warnings.filter(function (entry) {\n            return (entry.getLevel() & filter) !== 0;\n        });\n    };\n    LintVisitor.prototype.addEntry = function (node, rule, details) {\n        var entry = new nodes.Marker(node, rule, this.settings.getRule(rule), details);\n        this.warnings.push(entry);\n    };\n    LintVisitor.prototype.getMissingNames = function (expected, actual) {\n        var expectedClone = expected.slice(0); // clone\n        for (var i = 0; i < actual.length; i++) {\n            var k = expectedClone.indexOf(actual[i]);\n            if (k !== -1) {\n                expectedClone[k] = null;\n            }\n        }\n        var result = null;\n        for (var i = 0; i < expectedClone.length; i++) {\n            var curr = expectedClone[i];\n            if (curr) {\n                if (result === null) {\n                    result = localize('namelist.single', \"'{0}'\", curr);\n                }\n                else {\n                    result = localize('namelist.concatenated', \"{0}, '{1}'\", result, curr);\n                }\n            }\n        }\n        return result;\n    };\n    LintVisitor.prototype.visitNode = function (node) {\n        switch (node.type) {\n            case nodes.NodeType.UnknownAtRule:\n                return this.visitUnknownAtRule(node);\n            case nodes.NodeType.Keyframe:\n                return this.visitKeyframe(node);\n            case nodes.NodeType.FontFace:\n                return this.visitFontFace(node);\n            case nodes.NodeType.Ruleset:\n                return this.visitRuleSet(node);\n            case nodes.NodeType.SimpleSelector:\n                return this.visitSimpleSelector(node);\n            case nodes.NodeType.Function:\n                return this.visitFunction(node);\n            case nodes.NodeType.NumericValue:\n                return this.visitNumericValue(node);\n            case nodes.NodeType.Import:\n                return this.visitImport(node);\n            case nodes.NodeType.HexColorValue:\n                return this.visitHexColorValue(node);\n            case nodes.NodeType.Prio:\n                return this.visitPrio(node);\n        }\n        return true;\n    };\n    LintVisitor.prototype.completeValidations = function () {\n        this.validateKeyframes();\n    };\n    LintVisitor.prototype.visitUnknownAtRule = function (node) {\n        var atRuleName = node.getChild(0);\n        if (!atRuleName) {\n            return false;\n        }\n        var atDirective = this.cssDataManager.getAtDirective(atRuleName.getText());\n        if (atDirective) {\n            return false;\n        }\n        this.addEntry(atRuleName, Rules.UnknownAtRules, \"Unknown at rule \" + atRuleName.getText());\n        return true;\n    };\n    LintVisitor.prototype.visitKeyframe = function (node) {\n        var keyword = node.getKeyword();\n        if (!keyword) {\n            return false;\n        }\n        var text = keyword.getText();\n        this.keyframes.add(node.getName(), text, (text !== '@keyframes') ? keyword : null);\n        return true;\n    };\n    LintVisitor.prototype.validateKeyframes = function () {\n        // @keyframe and it's vendor specific alternatives\n        // @keyframe should be included\n        var expected = ['@-webkit-keyframes', '@-moz-keyframes', '@-o-keyframes'];\n        for (var name in this.keyframes.data) {\n            var actual = this.keyframes.data[name].names;\n            var needsStandard = (actual.indexOf('@keyframes') === -1);\n            if (!needsStandard && actual.length === 1) {\n                continue; // only the non-vendor specific keyword is used, that's fine, no warning\n            }\n            var missingVendorSpecific = this.getMissingNames(expected, actual);\n            if (missingVendorSpecific || needsStandard) {\n                for (var _i = 0, _a = this.keyframes.data[name].nodes; _i < _a.length; _i++) {\n                    var node = _a[_i];\n                    if (needsStandard) {\n                        var message = localize('keyframes.standardrule.missing', \"Always define standard rule '@keyframes' when defining keyframes.\");\n                        this.addEntry(node, Rules.IncludeStandardPropertyWhenUsingVendorPrefix, message);\n                    }\n                    if (missingVendorSpecific) {\n                        var message = localize('keyframes.vendorspecific.missing', \"Always include all vendor specific rules: Missing: {0}\", missingVendorSpecific);\n                        this.addEntry(node, Rules.AllVendorPrefixes, message);\n                    }\n                }\n            }\n        }\n        return true;\n    };\n    LintVisitor.prototype.visitSimpleSelector = function (node) {\n        var firstChar = this.documentText.charAt(node.offset);\n        /////////////////////////////////////////////////////////////\n        //\tLint - The universal selector (*) is known to be slow.\n        /////////////////////////////////////////////////////////////\n        if (node.length === 1 && firstChar === '*') {\n            this.addEntry(node, Rules.UniversalSelector);\n        }\n        /////////////////////////////////////////////////////////////\n        //\tLint - Avoid id selectors\n        /////////////////////////////////////////////////////////////\n        if (firstChar === '#') {\n            this.addEntry(node, Rules.AvoidIdSelector);\n        }\n        return true;\n    };\n    LintVisitor.prototype.visitImport = function (node) {\n        /////////////////////////////////////////////////////////////\n        //\tLint - Import statements shouldn't be used, because they aren't offering parallel downloads.\n        /////////////////////////////////////////////////////////////\n        this.addEntry(node, Rules.ImportStatemement);\n        return true;\n    };\n    LintVisitor.prototype.visitRuleSet = function (node) {\n        /////////////////////////////////////////////////////////////\n        //\tLint - Don't use empty rulesets.\n        /////////////////////////////////////////////////////////////\n        var declarations = node.getDeclarations();\n        if (!declarations) {\n            // syntax error\n            return false;\n        }\n        if (!declarations.hasChildren()) {\n            this.addEntry(node.getSelectors(), Rules.EmptyRuleSet);\n        }\n        var propertyTable = [];\n        for (var _i = 0, _a = declarations.getChildren(); _i < _a.length; _i++) {\n            var element = _a[_i];\n            if (element instanceof nodes.Declaration) {\n                propertyTable.push(new Element(element));\n            }\n        }\n        /////////////////////////////////////////////////////////////\n        // the rule warns when it finds:\n        // width being used with border, border-left, border-right, padding, padding-left, or padding-right\n        // height being used with border, border-top, border-bottom, padding, padding-top, or padding-bottom\n        // No error when box-sizing property is specified, as it assumes the user knows what he's doing.\n        // see https://github.com/CSSLint/csslint/wiki/Beware-of-box-model-size\n        /////////////////////////////////////////////////////////////\n        var boxModel = calculateBoxModel(propertyTable);\n        if (boxModel.width) {\n            var properties = [];\n            if (boxModel.right.value) {\n                properties = union(properties, boxModel.right.properties);\n            }\n            if (boxModel.left.value) {\n                properties = union(properties, boxModel.left.properties);\n            }\n            if (properties.length !== 0) {\n                for (var _b = 0, properties_1 = properties; _b < properties_1.length; _b++) {\n                    var item = properties_1[_b];\n                    this.addEntry(item.node, Rules.BewareOfBoxModelSize);\n                }\n                this.addEntry(boxModel.width.node, Rules.BewareOfBoxModelSize);\n            }\n        }\n        if (boxModel.height) {\n            var properties = [];\n            if (boxModel.top.value) {\n                properties = union(properties, boxModel.top.properties);\n            }\n            if (boxModel.bottom.value) {\n                properties = union(properties, boxModel.bottom.properties);\n            }\n            if (properties.length !== 0) {\n                for (var _c = 0, properties_2 = properties; _c < properties_2.length; _c++) {\n                    var item = properties_2[_c];\n                    this.addEntry(item.node, Rules.BewareOfBoxModelSize);\n                }\n                this.addEntry(boxModel.height.node, Rules.BewareOfBoxModelSize);\n            }\n        }\n        /////////////////////////////////////////////////////////////\n        //\tProperties ignored due to display\n        /////////////////////////////////////////////////////////////\n        // With 'display: inline', the width, height, margin-top, margin-bottom, and float properties have no effect\n        var displayElems = this.fetchWithValue(propertyTable, 'display', 'inline');\n        if (displayElems.length > 0) {\n            for (var _d = 0, _e = ['width', 'height', 'margin-top', 'margin-bottom', 'float']; _d < _e.length; _d++) {\n                var prop = _e[_d];\n                var elem = this.fetch(propertyTable, prop);\n                for (var index = 0; index < elem.length; index++) {\n                    var node_1 = elem[index].node;\n                    var value = node_1.getValue();\n                    if (prop === 'float' && (!value || value.matches('none'))) {\n                        continue;\n                    }\n                    this.addEntry(node_1, Rules.PropertyIgnoredDueToDisplay, localize('rule.propertyIgnoredDueToDisplayInline', \"Property is ignored due to the display. With 'display: inline', the width, height, margin-top, margin-bottom, and float properties have no effect.\"));\n                }\n            }\n        }\n        // With 'display: inline-block', 'float' has no effect\n        displayElems = this.fetchWithValue(propertyTable, 'display', 'inline-block');\n        if (displayElems.length > 0) {\n            var elem = this.fetch(propertyTable, 'float');\n            for (var index = 0; index < elem.length; index++) {\n                var node_2 = elem[index].node;\n                var value = node_2.getValue();\n                if (value && !value.matches('none')) {\n                    this.addEntry(node_2, Rules.PropertyIgnoredDueToDisplay, localize('rule.propertyIgnoredDueToDisplayInlineBlock', \"inline-block is ignored due to the float. If 'float' has a value other than 'none', the box is floated and 'display' is treated as 'block'\"));\n                }\n            }\n        }\n        // With 'display: block', 'vertical-align' has no effect\n        displayElems = this.fetchWithValue(propertyTable, 'display', 'block');\n        if (displayElems.length > 0) {\n            var elem = this.fetch(propertyTable, 'vertical-align');\n            for (var index = 0; index < elem.length; index++) {\n                this.addEntry(elem[index].node, Rules.PropertyIgnoredDueToDisplay, localize('rule.propertyIgnoredDueToDisplayBlock', \"Property is ignored due to the display. With 'display: block', vertical-align should not be used.\"));\n            }\n        }\n        /////////////////////////////////////////////////////////////\n        //\tAvoid 'float'\n        /////////////////////////////////////////////////////////////\n        var elements = this.fetch(propertyTable, 'float');\n        for (var index = 0; index < elements.length; index++) {\n            var element = elements[index];\n            if (!this.isValidPropertyDeclaration(element)) {\n                this.addEntry(element.node, Rules.AvoidFloat);\n            }\n        }\n        /////////////////////////////////////////////////////////////\n        //\tDon't use duplicate declarations.\n        /////////////////////////////////////////////////////////////\n        for (var i = 0; i < propertyTable.length; i++) {\n            var element = propertyTable[i];\n            if (element.fullPropertyName !== 'background' && !this.validProperties[element.fullPropertyName]) {\n                var value = element.node.getValue();\n                if (value && this.documentText.charAt(value.offset) !== '-') {\n                    var elements_1 = this.fetch(propertyTable, element.fullPropertyName);\n                    if (elements_1.length > 1) {\n                        for (var k = 0; k < elements_1.length; k++) {\n                            var value_1 = elements_1[k].node.getValue();\n                            if (value_1 && this.documentText.charAt(value_1.offset) !== '-' && elements_1[k] !== element) {\n                                this.addEntry(element.node, Rules.DuplicateDeclarations);\n                            }\n                        }\n                    }\n                }\n            }\n        }\n        /////////////////////////////////////////////////////////////\n        //\tUnknown propery & When using a vendor-prefixed gradient, make sure to use them all.\n        /////////////////////////////////////////////////////////////\n        var isExportBlock = node.getSelectors().matches(\":export\");\n        if (!isExportBlock) {\n            var propertiesBySuffix = new NodesByRootMap();\n            var containsUnknowns = false;\n            for (var _f = 0, propertyTable_1 = propertyTable; _f < propertyTable_1.length; _f++) {\n                var element = propertyTable_1[_f];\n                var decl = element.node;\n                if (this.isCSSDeclaration(decl)) {\n                    var name = element.fullPropertyName;\n                    var firstChar = name.charAt(0);\n                    if (firstChar === '-') {\n                        if (name.charAt(1) !== '-') { // avoid css variables\n                            if (!this.cssDataManager.isKnownProperty(name) && !this.validProperties[name]) {\n                                this.addEntry(decl.getProperty(), Rules.UnknownVendorSpecificProperty);\n                            }\n                            var nonPrefixedName = decl.getNonPrefixedPropertyName();\n                            propertiesBySuffix.add(nonPrefixedName, name, decl.getProperty());\n                        }\n                    }\n                    else {\n                        var fullName = name;\n                        if (firstChar === '*' || firstChar === '_') {\n                            this.addEntry(decl.getProperty(), Rules.IEStarHack);\n                            name = name.substr(1);\n                        }\n                        // _property and *property might be contributed via custom data\n                        if (!this.cssDataManager.isKnownProperty(fullName) && !this.cssDataManager.isKnownProperty(name)) {\n                            if (!this.validProperties[name]) {\n                                this.addEntry(decl.getProperty(), Rules.UnknownProperty, localize('property.unknownproperty.detailed', \"Unknown property: '{0}'\", decl.getFullPropertyName()));\n                            }\n                        }\n                        propertiesBySuffix.add(name, name, null); // don't pass the node as we don't show errors on the standard\n                    }\n                }\n                else {\n                    containsUnknowns = true;\n                }\n            }\n            if (!containsUnknowns) { // don't perform this test if there are\n                for (var suffix in propertiesBySuffix.data) {\n                    var entry = propertiesBySuffix.data[suffix];\n                    var actual = entry.names;\n                    var needsStandard = this.cssDataManager.isStandardProperty(suffix) && (actual.indexOf(suffix) === -1);\n                    if (!needsStandard && actual.length === 1) {\n                        continue; // only the non-vendor specific rule is used, that's fine, no warning\n                    }\n                    var expected = [];\n                    for (var i = 0, len = LintVisitor.prefixes.length; i < len; i++) {\n                        var prefix = LintVisitor.prefixes[i];\n                        if (this.cssDataManager.isStandardProperty(prefix + suffix)) {\n                            expected.push(prefix + suffix);\n                        }\n                    }\n                    var missingVendorSpecific = this.getMissingNames(expected, actual);\n                    if (missingVendorSpecific || needsStandard) {\n                        for (var _g = 0, _h = entry.nodes; _g < _h.length; _g++) {\n                            var node_3 = _h[_g];\n                            if (needsStandard) {\n                                var message = localize('property.standard.missing', \"Also define the standard property '{0}' for compatibility\", suffix);\n                                this.addEntry(node_3, Rules.IncludeStandardPropertyWhenUsingVendorPrefix, message);\n                            }\n                            if (missingVendorSpecific) {\n                                var message = localize('property.vendorspecific.missing', \"Always include all vendor specific properties: Missing: {0}\", missingVendorSpecific);\n                                this.addEntry(node_3, Rules.AllVendorPrefixes, message);\n                            }\n                        }\n                    }\n                }\n            }\n        }\n        return true;\n    };\n    LintVisitor.prototype.visitPrio = function (node) {\n        /////////////////////////////////////////////////////////////\n        //\tDon't use !important\n        /////////////////////////////////////////////////////////////\n        this.addEntry(node, Rules.AvoidImportant);\n        return true;\n    };\n    LintVisitor.prototype.visitNumericValue = function (node) {\n        /////////////////////////////////////////////////////////////\n        //\t0 has no following unit\n        /////////////////////////////////////////////////////////////\n        var funcDecl = node.findParent(nodes.NodeType.Function);\n        if (funcDecl && funcDecl.getName() === 'calc') {\n            return true;\n        }\n        var decl = node.findParent(nodes.NodeType.Declaration);\n        if (decl) {\n            var declValue = decl.getValue();\n            if (declValue) {\n                var value = node.getValue();\n                if (!value.unit || languageFacts.units.length.indexOf(value.unit.toLowerCase()) === -1) {\n                    return true;\n                }\n                if (parseFloat(value.value) === 0.0 && !!value.unit && !this.validProperties[decl.getFullPropertyName()]) {\n                    this.addEntry(node, Rules.ZeroWithUnit);\n                }\n            }\n        }\n        return true;\n    };\n    LintVisitor.prototype.visitFontFace = function (node) {\n        var declarations = node.getDeclarations();\n        if (!declarations) {\n            // syntax error\n            return false;\n        }\n        var definesSrc = false, definesFontFamily = false;\n        var containsUnknowns = false;\n        for (var _i = 0, _a = declarations.getChildren(); _i < _a.length; _i++) {\n            var node_4 = _a[_i];\n            if (this.isCSSDeclaration(node_4)) {\n                var name = node_4.getProperty().getName().toLowerCase();\n                if (name === 'src') {\n                    definesSrc = true;\n                }\n                if (name === 'font-family') {\n                    definesFontFamily = true;\n                }\n            }\n            else {\n                containsUnknowns = true;\n            }\n        }\n        if (!containsUnknowns && (!definesSrc || !definesFontFamily)) {\n            this.addEntry(node, Rules.RequiredPropertiesForFontFace);\n        }\n        return true;\n    };\n    LintVisitor.prototype.isCSSDeclaration = function (node) {\n        if (node instanceof nodes.Declaration) {\n            if (!node.getValue()) {\n                return false;\n            }\n            var property = node.getProperty();\n            if (!property) {\n                return false;\n            }\n            var identifier = property.getIdentifier();\n            if (!identifier || identifier.containsInterpolation()) {\n                return false;\n            }\n            return true;\n        }\n        return false;\n    };\n    LintVisitor.prototype.visitHexColorValue = function (node) {\n        // Rule: #eeff0011 or #eeff00 or #ef01 or #ef0\n        var length = node.length;\n        if (length !== 9 && length !== 7 && length !== 5 && length !== 4) {\n            this.addEntry(node, Rules.HexColorLength);\n        }\n        return false;\n    };\n    LintVisitor.prototype.visitFunction = function (node) {\n        var fnName = node.getName().toLowerCase();\n        var expectedAttrCount = -1;\n        var actualAttrCount = 0;\n        switch (fnName) {\n            case 'rgb(':\n            case 'hsl(':\n                expectedAttrCount = 3;\n                break;\n            case 'rgba(':\n            case 'hsla(':\n                expectedAttrCount = 4;\n                break;\n        }\n        if (expectedAttrCount !== -1) {\n            node.getArguments().accept(function (n) {\n                if (n instanceof nodes.BinaryExpression) {\n                    actualAttrCount += 1;\n                    return false;\n                }\n                return true;\n            });\n            if (actualAttrCount !== expectedAttrCount) {\n                this.addEntry(node, Rules.ArgsInColorFunction);\n            }\n        }\n        return true;\n    };\n    LintVisitor.prefixes = [\n        '-ms-', '-moz-', '-o-', '-webkit-',\n    ];\n    return LintVisitor;\n}());\nexport { LintVisitor };\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { TokenType, Scanner } from './cssScanner.js';\nvar _FSL = '/'.charCodeAt(0);\nvar _NWL = '\\n'.charCodeAt(0);\nvar _CAR = '\\r'.charCodeAt(0);\nvar _LFD = '\\f'.charCodeAt(0);\nvar _DLR = '$'.charCodeAt(0);\nvar _HSH = '#'.charCodeAt(0);\nvar _CUL = '{'.charCodeAt(0);\nvar _EQS = '='.charCodeAt(0);\nvar _BNG = '!'.charCodeAt(0);\nvar _LAN = '<'.charCodeAt(0);\nvar _RAN = '>'.charCodeAt(0);\nvar _DOT = '.'.charCodeAt(0);\nvar _ATS = '@'.charCodeAt(0);\nvar customTokenValue = TokenType.CustomToken;\nexport var VariableName = customTokenValue++;\nexport var InterpolationFunction = customTokenValue++;\nexport var Default = customTokenValue++;\nexport var EqualsOperator = customTokenValue++;\nexport var NotEqualsOperator = customTokenValue++;\nexport var GreaterEqualsOperator = customTokenValue++;\nexport var SmallerEqualsOperator = customTokenValue++;\nexport var Ellipsis = customTokenValue++;\nexport var Module = customTokenValue++;\nvar SCSSScanner = /** @class */ (function (_super) {\n    __extends(SCSSScanner, _super);\n    function SCSSScanner() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    SCSSScanner.prototype.scanNext = function (offset) {\n        // scss variable\n        if (this.stream.advanceIfChar(_DLR)) {\n            var content = ['$'];\n            if (this.ident(content)) {\n                return this.finishToken(offset, VariableName, content.join(''));\n            }\n            else {\n                this.stream.goBackTo(offset);\n            }\n        }\n        // scss: interpolation function #{..})\n        if (this.stream.advanceIfChars([_HSH, _CUL])) {\n            return this.finishToken(offset, InterpolationFunction);\n        }\n        // operator ==\n        if (this.stream.advanceIfChars([_EQS, _EQS])) {\n            return this.finishToken(offset, EqualsOperator);\n        }\n        // operator !=\n        if (this.stream.advanceIfChars([_BNG, _EQS])) {\n            return this.finishToken(offset, NotEqualsOperator);\n        }\n        // operators <, <=\n        if (this.stream.advanceIfChar(_LAN)) {\n            if (this.stream.advanceIfChar(_EQS)) {\n                return this.finishToken(offset, SmallerEqualsOperator);\n            }\n            return this.finishToken(offset, TokenType.Delim);\n        }\n        // ooperators >, >=\n        if (this.stream.advanceIfChar(_RAN)) {\n            if (this.stream.advanceIfChar(_EQS)) {\n                return this.finishToken(offset, GreaterEqualsOperator);\n            }\n            return this.finishToken(offset, TokenType.Delim);\n        }\n        // ellipis\n        if (this.stream.advanceIfChars([_DOT, _DOT, _DOT])) {\n            return this.finishToken(offset, Ellipsis);\n        }\n        return _super.prototype.scanNext.call(this, offset);\n    };\n    SCSSScanner.prototype.comment = function () {\n        if (_super.prototype.comment.call(this)) {\n            return true;\n        }\n        if (!this.inURL && this.stream.advanceIfChars([_FSL, _FSL])) {\n            this.stream.advanceWhileChar(function (ch) {\n                switch (ch) {\n                    case _NWL:\n                    case _CAR:\n                    case _LFD:\n                        return false;\n                    default:\n                        return true;\n                }\n            });\n            return true;\n        }\n        else {\n            return false;\n        }\n    };\n    return SCSSScanner;\n}(Scanner));\nexport { SCSSScanner };\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nimport * as nls from '../../../fillers/vscode-nls.js';\nvar localize = nls.loadMessageBundle();\nvar SCSSIssueType = /** @class */ (function () {\n    function SCSSIssueType(id, message) {\n        this.id = id;\n        this.message = message;\n    }\n    return SCSSIssueType;\n}());\nexport { SCSSIssueType };\nexport var SCSSParseError = {\n    FromExpected: new SCSSIssueType('scss-fromexpected', localize('expected.from', \"'from' expected\")),\n    ThroughOrToExpected: new SCSSIssueType('scss-throughexpected', localize('expected.through', \"'through' or 'to' expected\")),\n    InExpected: new SCSSIssueType('scss-fromexpected', localize('expected.in', \"'in' expected\")),\n};\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport * as scssScanner from './scssScanner.js';\nimport { TokenType } from './cssScanner.js';\nimport * as cssParser from './cssParser.js';\nimport * as nodes from './cssNodes.js';\nimport { SCSSParseError } from './scssErrors.js';\nimport { ParseError } from './cssErrors.js';\n/// <summary>\n/// A parser for scss\n/// http://sass-lang.com/documentation/file.SASS_REFERENCE.html\n/// </summary>\nvar SCSSParser = /** @class */ (function (_super) {\n    __extends(SCSSParser, _super);\n    function SCSSParser() {\n        return _super.call(this, new scssScanner.SCSSScanner()) || this;\n    }\n    SCSSParser.prototype._parseStylesheetStatement = function (isNested) {\n        if (isNested === void 0) { isNested = false; }\n        if (this.peek(TokenType.AtKeyword)) {\n            return this._parseWarnAndDebug() // @warn, @debug and @error statements\n                || this._parseControlStatement() // @if, @while, @for, @each\n                || this._parseMixinDeclaration() // @mixin\n                || this._parseMixinContent() // @content\n                || this._parseMixinReference() // @include\n                || this._parseFunctionDeclaration() // @function\n                || this._parseForward() // @forward\n                || this._parseUse() // @use\n                || this._parseRuleset(isNested) // @at-rule\n                || _super.prototype._parseStylesheetAtStatement.call(this, isNested);\n        }\n        return this._parseRuleset(true) || this._parseVariableDeclaration();\n    };\n    SCSSParser.prototype._parseImport = function () {\n        if (!this.peekKeyword('@import')) {\n            return null;\n        }\n        var node = this.create(nodes.Import);\n        this.consumeToken();\n        if (!node.addChild(this._parseURILiteral()) && !node.addChild(this._parseStringLiteral())) {\n            return this.finish(node, ParseError.URIOrStringExpected);\n        }\n        while (this.accept(TokenType.Comma)) {\n            if (!node.addChild(this._parseURILiteral()) && !node.addChild(this._parseStringLiteral())) {\n                return this.finish(node, ParseError.URIOrStringExpected);\n            }\n        }\n        if (!this.peek(TokenType.SemiColon) && !this.peek(TokenType.EOF)) {\n            node.setMedialist(this._parseMediaQueryList());\n        }\n        return this.finish(node);\n    };\n    // scss variables: $font-size: 12px;\n    SCSSParser.prototype._parseVariableDeclaration = function (panic) {\n        if (panic === void 0) { panic = []; }\n        if (!this.peek(scssScanner.VariableName)) {\n            return null;\n        }\n        var node = this.create(nodes.VariableDeclaration);\n        if (!node.setVariable(this._parseVariable())) {\n            return null;\n        }\n        if (!this.accept(TokenType.Colon)) {\n            return this.finish(node, ParseError.ColonExpected);\n        }\n        if (this.prevToken) {\n            node.colonPosition = this.prevToken.offset;\n        }\n        if (!node.setValue(this._parseExpr())) {\n            return this.finish(node, ParseError.VariableValueExpected, [], panic);\n        }\n        while (this.peek(TokenType.Exclamation)) {\n            if (node.addChild(this._tryParsePrio())) {\n                // !important\n            }\n            else {\n                this.consumeToken();\n                if (!this.peekRegExp(TokenType.Ident, /^(default|global)$/)) {\n                    return this.finish(node, ParseError.UnknownKeyword);\n                }\n                this.consumeToken();\n            }\n        }\n        if (this.peek(TokenType.SemiColon)) {\n            node.semicolonPosition = this.token.offset; // not part of the declaration, but useful information for code assist\n        }\n        return this.finish(node);\n    };\n    SCSSParser.prototype._parseMediaContentStart = function () {\n        return this._parseInterpolation();\n    };\n    SCSSParser.prototype._parseMediaFeatureName = function () {\n        return this._parseModuleMember()\n            || this._parseFunction() // function before ident\n            || this._parseIdent()\n            || this._parseVariable();\n    };\n    SCSSParser.prototype._parseKeyframeSelector = function () {\n        return this._tryParseKeyframeSelector()\n            || this._parseControlStatement(this._parseKeyframeSelector.bind(this))\n            || this._parseVariableDeclaration()\n            || this._parseMixinContent();\n    };\n    SCSSParser.prototype._parseVariable = function () {\n        if (!this.peek(scssScanner.VariableName)) {\n            return null;\n        }\n        var node = this.create(nodes.Variable);\n        this.consumeToken();\n        return node;\n    };\n    SCSSParser.prototype._parseModuleMember = function () {\n        var pos = this.mark();\n        var node = this.create(nodes.Module);\n        if (!node.setIdentifier(this._parseIdent([nodes.ReferenceType.Module]))) {\n            return null;\n        }\n        if (this.hasWhitespace()\n            || !this.acceptDelim('.')\n            || this.hasWhitespace()) {\n            this.restoreAtMark(pos);\n            return null;\n        }\n        if (!node.addChild(this._parseVariable() || this._parseFunction())) {\n            return this.finish(node, ParseError.IdentifierOrVariableExpected);\n        }\n        return node;\n    };\n    SCSSParser.prototype._parseIdent = function (referenceTypes) {\n        var _this = this;\n        if (!this.peek(TokenType.Ident) && !this.peek(scssScanner.InterpolationFunction) && !this.peekDelim('-')) {\n            return null;\n        }\n        var node = this.create(nodes.Identifier);\n        node.referenceTypes = referenceTypes;\n        node.isCustomProperty = this.peekRegExp(TokenType.Ident, /^--/);\n        var hasContent = false;\n        var indentInterpolation = function () {\n            var pos = _this.mark();\n            if (_this.acceptDelim('-')) {\n                if (!_this.hasWhitespace()) {\n                    _this.acceptDelim('-');\n                }\n                if (_this.hasWhitespace()) {\n                    _this.restoreAtMark(pos);\n                    return null;\n                }\n            }\n            return _this._parseInterpolation();\n        };\n        while (this.accept(TokenType.Ident) || node.addChild(indentInterpolation()) || (hasContent && this.acceptRegexp(/[\\w-]/))) {\n            hasContent = true;\n            if (this.hasWhitespace()) {\n                break;\n            }\n        }\n        return hasContent ? this.finish(node) : null;\n    };\n    SCSSParser.prototype._parseTermExpression = function () {\n        return this._parseModuleMember() ||\n            this._parseVariable() ||\n            this._parseSelectorCombinator() ||\n            //this._tryParsePrio() ||\n            _super.prototype._parseTermExpression.call(this);\n    };\n    SCSSParser.prototype._parseInterpolation = function () {\n        if (this.peek(scssScanner.InterpolationFunction)) {\n            var node = this.create(nodes.Interpolation);\n            this.consumeToken();\n            if (!node.addChild(this._parseExpr()) && !this._parseSelectorCombinator()) {\n                if (this.accept(TokenType.CurlyR)) {\n                    return this.finish(node);\n                }\n                return this.finish(node, ParseError.ExpressionExpected);\n            }\n            if (!this.accept(TokenType.CurlyR)) {\n                return this.finish(node, ParseError.RightCurlyExpected);\n            }\n            return this.finish(node);\n        }\n        return null;\n    };\n    SCSSParser.prototype._parseOperator = function () {\n        if (this.peek(scssScanner.EqualsOperator) || this.peek(scssScanner.NotEqualsOperator)\n            || this.peek(scssScanner.GreaterEqualsOperator) || this.peek(scssScanner.SmallerEqualsOperator)\n            || this.peekDelim('>') || this.peekDelim('<')\n            || this.peekIdent('and') || this.peekIdent('or')\n            || this.peekDelim('%')) {\n            var node = this.createNode(nodes.NodeType.Operator);\n            this.consumeToken();\n            return this.finish(node);\n        }\n        return _super.prototype._parseOperator.call(this);\n    };\n    SCSSParser.prototype._parseUnaryOperator = function () {\n        if (this.peekIdent('not')) {\n            var node = this.create(nodes.Node);\n            this.consumeToken();\n            return this.finish(node);\n        }\n        return _super.prototype._parseUnaryOperator.call(this);\n    };\n    SCSSParser.prototype._parseRuleSetDeclaration = function () {\n        if (this.peek(TokenType.AtKeyword)) {\n            return this._parseKeyframe() // nested @keyframe\n                || this._parseImport() // nested @import\n                || this._parseMedia(true) // nested @media\n                || this._parseFontFace() // nested @font-face\n                || this._parseWarnAndDebug() // @warn, @debug and @error statements\n                || this._parseControlStatement() // @if, @while, @for, @each\n                || this._parseFunctionDeclaration() // @function\n                || this._parseExtends() // @extends\n                || this._parseMixinReference() // @include\n                || this._parseMixinContent() // @content\n                || this._parseMixinDeclaration() // nested @mixin\n                || this._parseRuleset(true) // @at-rule\n                || this._parseSupports(true) // @supports\n                || _super.prototype._parseRuleSetDeclarationAtStatement.call(this);\n        }\n        return this._parseVariableDeclaration() // variable declaration\n            || this._tryParseRuleset(true) // nested ruleset\n            || _super.prototype._parseRuleSetDeclaration.call(this); // try css ruleset declaration as last so in the error case, the ast will contain a declaration\n    };\n    SCSSParser.prototype._parseDeclaration = function (resyncStopTokens) {\n        var node = this.create(nodes.Declaration);\n        if (!node.setProperty(this._parseProperty())) {\n            return null;\n        }\n        if (!this.accept(TokenType.Colon)) {\n            return this.finish(node, ParseError.ColonExpected, [TokenType.Colon], resyncStopTokens);\n        }\n        if (this.prevToken) {\n            node.colonPosition = this.prevToken.offset;\n        }\n        var hasContent = false;\n        if (node.setValue(this._parseExpr())) {\n            hasContent = true;\n            node.addChild(this._parsePrio());\n        }\n        if (this.peek(TokenType.CurlyL)) {\n            node.setNestedProperties(this._parseNestedProperties());\n        }\n        else {\n            if (!hasContent) {\n                return this.finish(node, ParseError.PropertyValueExpected);\n            }\n        }\n        if (this.peek(TokenType.SemiColon)) {\n            node.semicolonPosition = this.token.offset; // not part of the declaration, but useful information for code assist\n        }\n        return this.finish(node);\n    };\n    SCSSParser.prototype._parseNestedProperties = function () {\n        var node = this.create(nodes.NestedProperties);\n        return this._parseBody(node, this._parseDeclaration.bind(this));\n    };\n    SCSSParser.prototype._parseExtends = function () {\n        if (this.peekKeyword('@extend')) {\n            var node = this.create(nodes.ExtendsReference);\n            this.consumeToken();\n            if (!node.getSelectors().addChild(this._parseSimpleSelector())) {\n                return this.finish(node, ParseError.SelectorExpected);\n            }\n            while (this.accept(TokenType.Comma)) {\n                node.getSelectors().addChild(this._parseSimpleSelector());\n            }\n            if (this.accept(TokenType.Exclamation)) {\n                if (!this.acceptIdent('optional')) {\n                    return this.finish(node, ParseError.UnknownKeyword);\n                }\n            }\n            return this.finish(node);\n        }\n        return null;\n    };\n    SCSSParser.prototype._parseSimpleSelectorBody = function () {\n        return this._parseSelectorCombinator() || this._parseSelectorPlaceholder() || _super.prototype._parseSimpleSelectorBody.call(this);\n    };\n    SCSSParser.prototype._parseSelectorCombinator = function () {\n        if (this.peekDelim('&')) {\n            var node = this.createNode(nodes.NodeType.SelectorCombinator);\n            this.consumeToken();\n            while (!this.hasWhitespace() && (this.acceptDelim('-') || this.accept(TokenType.Num) || this.accept(TokenType.Dimension) || node.addChild(this._parseIdent()) || this.acceptDelim('&'))) {\n                //  support &-foo-1\n            }\n            return this.finish(node);\n        }\n        return null;\n    };\n    SCSSParser.prototype._parseSelectorPlaceholder = function () {\n        if (this.peekDelim('%')) {\n            var node = this.createNode(nodes.NodeType.SelectorPlaceholder);\n            this.consumeToken();\n            this._parseIdent();\n            return this.finish(node);\n        }\n        else if (this.peekKeyword('@at-root')) {\n            var node = this.createNode(nodes.NodeType.SelectorPlaceholder);\n            this.consumeToken();\n            return this.finish(node);\n        }\n        return null;\n    };\n    SCSSParser.prototype._parseElementName = function () {\n        var pos = this.mark();\n        var node = _super.prototype._parseElementName.call(this);\n        if (node && !this.hasWhitespace() && this.peek(TokenType.ParenthesisL)) { // for #49589\n            this.restoreAtMark(pos);\n            return null;\n        }\n        return node;\n    };\n    SCSSParser.prototype._tryParsePseudoIdentifier = function () {\n        return this._parseInterpolation() || _super.prototype._tryParsePseudoIdentifier.call(this); // for #49589\n    };\n    SCSSParser.prototype._parseWarnAndDebug = function () {\n        if (!this.peekKeyword('@debug')\n            && !this.peekKeyword('@warn')\n            && !this.peekKeyword('@error')) {\n            return null;\n        }\n        var node = this.createNode(nodes.NodeType.Debug);\n        this.consumeToken(); // @debug, @warn or @error\n        node.addChild(this._parseExpr()); // optional\n        return this.finish(node);\n    };\n    SCSSParser.prototype._parseControlStatement = function (parseStatement) {\n        if (parseStatement === void 0) { parseStatement = this._parseRuleSetDeclaration.bind(this); }\n        if (!this.peek(TokenType.AtKeyword)) {\n            return null;\n        }\n        return this._parseIfStatement(parseStatement) || this._parseForStatement(parseStatement)\n            || this._parseEachStatement(parseStatement) || this._parseWhileStatement(parseStatement);\n    };\n    SCSSParser.prototype._parseIfStatement = function (parseStatement) {\n        if (!this.peekKeyword('@if')) {\n            return null;\n        }\n        return this._internalParseIfStatement(parseStatement);\n    };\n    SCSSParser.prototype._internalParseIfStatement = function (parseStatement) {\n        var node = this.create(nodes.IfStatement);\n        this.consumeToken(); // @if or if\n        if (!node.setExpression(this._parseExpr(true))) {\n            return this.finish(node, ParseError.ExpressionExpected);\n        }\n        this._parseBody(node, parseStatement);\n        if (this.acceptKeyword('@else')) {\n            if (this.peekIdent('if')) {\n                node.setElseClause(this._internalParseIfStatement(parseStatement));\n            }\n            else if (this.peek(TokenType.CurlyL)) {\n                var elseNode = this.create(nodes.ElseStatement);\n                this._parseBody(elseNode, parseStatement);\n                node.setElseClause(elseNode);\n            }\n        }\n        return this.finish(node);\n    };\n    SCSSParser.prototype._parseForStatement = function (parseStatement) {\n        if (!this.peekKeyword('@for')) {\n            return null;\n        }\n        var node = this.create(nodes.ForStatement);\n        this.consumeToken(); // @for\n        if (!node.setVariable(this._parseVariable())) {\n            return this.finish(node, ParseError.VariableNameExpected, [TokenType.CurlyR]);\n        }\n        if (!this.acceptIdent('from')) {\n            return this.finish(node, SCSSParseError.FromExpected, [TokenType.CurlyR]);\n        }\n        if (!node.addChild(this._parseBinaryExpr())) {\n            return this.finish(node, ParseError.ExpressionExpected, [TokenType.CurlyR]);\n        }\n        if (!this.acceptIdent('to') && !this.acceptIdent('through')) {\n            return this.finish(node, SCSSParseError.ThroughOrToExpected, [TokenType.CurlyR]);\n        }\n        if (!node.addChild(this._parseBinaryExpr())) {\n            return this.finish(node, ParseError.ExpressionExpected, [TokenType.CurlyR]);\n        }\n        return this._parseBody(node, parseStatement);\n    };\n    SCSSParser.prototype._parseEachStatement = function (parseStatement) {\n        if (!this.peekKeyword('@each')) {\n            return null;\n        }\n        var node = this.create(nodes.EachStatement);\n        this.consumeToken(); // @each\n        var variables = node.getVariables();\n        if (!variables.addChild(this._parseVariable())) {\n            return this.finish(node, ParseError.VariableNameExpected, [TokenType.CurlyR]);\n        }\n        while (this.accept(TokenType.Comma)) {\n            if (!variables.addChild(this._parseVariable())) {\n                return this.finish(node, ParseError.VariableNameExpected, [TokenType.CurlyR]);\n            }\n        }\n        this.finish(variables);\n        if (!this.acceptIdent('in')) {\n            return this.finish(node, SCSSParseError.InExpected, [TokenType.CurlyR]);\n        }\n        if (!node.addChild(this._parseExpr())) {\n            return this.finish(node, ParseError.ExpressionExpected, [TokenType.CurlyR]);\n        }\n        return this._parseBody(node, parseStatement);\n    };\n    SCSSParser.prototype._parseWhileStatement = function (parseStatement) {\n        if (!this.peekKeyword('@while')) {\n            return null;\n        }\n        var node = this.create(nodes.WhileStatement);\n        this.consumeToken(); // @while\n        if (!node.addChild(this._parseBinaryExpr())) {\n            return this.finish(node, ParseError.ExpressionExpected, [TokenType.CurlyR]);\n        }\n        return this._parseBody(node, parseStatement);\n    };\n    SCSSParser.prototype._parseFunctionBodyDeclaration = function () {\n        return this._parseVariableDeclaration() || this._parseReturnStatement() || this._parseWarnAndDebug()\n            || this._parseControlStatement(this._parseFunctionBodyDeclaration.bind(this));\n    };\n    SCSSParser.prototype._parseFunctionDeclaration = function () {\n        if (!this.peekKeyword('@function')) {\n            return null;\n        }\n        var node = this.create(nodes.FunctionDeclaration);\n        this.consumeToken(); // @function\n        if (!node.setIdentifier(this._parseIdent([nodes.ReferenceType.Function]))) {\n            return this.finish(node, ParseError.IdentifierExpected, [TokenType.CurlyR]);\n        }\n        if (!this.accept(TokenType.ParenthesisL)) {\n            return this.finish(node, ParseError.LeftParenthesisExpected, [TokenType.CurlyR]);\n        }\n        if (node.getParameters().addChild(this._parseParameterDeclaration())) {\n            while (this.accept(TokenType.Comma)) {\n                if (this.peek(TokenType.ParenthesisR)) {\n                    break;\n                }\n                if (!node.getParameters().addChild(this._parseParameterDeclaration())) {\n                    return this.finish(node, ParseError.VariableNameExpected);\n                }\n            }\n        }\n        if (!this.accept(TokenType.ParenthesisR)) {\n            return this.finish(node, ParseError.RightParenthesisExpected, [TokenType.CurlyR]);\n        }\n        return this._parseBody(node, this._parseFunctionBodyDeclaration.bind(this));\n    };\n    SCSSParser.prototype._parseReturnStatement = function () {\n        if (!this.peekKeyword('@return')) {\n            return null;\n        }\n        var node = this.createNode(nodes.NodeType.ReturnStatement);\n        this.consumeToken(); // @function\n        if (!node.addChild(this._parseExpr())) {\n            return this.finish(node, ParseError.ExpressionExpected);\n        }\n        return this.finish(node);\n    };\n    SCSSParser.prototype._parseMixinDeclaration = function () {\n        if (!this.peekKeyword('@mixin')) {\n            return null;\n        }\n        var node = this.create(nodes.MixinDeclaration);\n        this.consumeToken();\n        if (!node.setIdentifier(this._parseIdent([nodes.ReferenceType.Mixin]))) {\n            return this.finish(node, ParseError.IdentifierExpected, [TokenType.CurlyR]);\n        }\n        if (this.accept(TokenType.ParenthesisL)) {\n            if (node.getParameters().addChild(this._parseParameterDeclaration())) {\n                while (this.accept(TokenType.Comma)) {\n                    if (this.peek(TokenType.ParenthesisR)) {\n                        break;\n                    }\n                    if (!node.getParameters().addChild(this._parseParameterDeclaration())) {\n                        return this.finish(node, ParseError.VariableNameExpected);\n                    }\n                }\n            }\n            if (!this.accept(TokenType.ParenthesisR)) {\n                return this.finish(node, ParseError.RightParenthesisExpected, [TokenType.CurlyR]);\n            }\n        }\n        return this._parseBody(node, this._parseRuleSetDeclaration.bind(this));\n    };\n    SCSSParser.prototype._parseParameterDeclaration = function () {\n        var node = this.create(nodes.FunctionParameter);\n        if (!node.setIdentifier(this._parseVariable())) {\n            return null;\n        }\n        if (this.accept(scssScanner.Ellipsis)) {\n            // ok\n        }\n        if (this.accept(TokenType.Colon)) {\n            if (!node.setDefaultValue(this._parseExpr(true))) {\n                return this.finish(node, ParseError.VariableValueExpected, [], [TokenType.Comma, TokenType.ParenthesisR]);\n            }\n        }\n        return this.finish(node);\n    };\n    SCSSParser.prototype._parseMixinContent = function () {\n        if (!this.peekKeyword('@content')) {\n            return null;\n        }\n        var node = this.create(nodes.MixinContentReference);\n        this.consumeToken();\n        if (this.accept(TokenType.ParenthesisL)) {\n            if (node.getArguments().addChild(this._parseFunctionArgument())) {\n                while (this.accept(TokenType.Comma)) {\n                    if (this.peek(TokenType.ParenthesisR)) {\n                        break;\n                    }\n                    if (!node.getArguments().addChild(this._parseFunctionArgument())) {\n                        return this.finish(node, ParseError.ExpressionExpected);\n                    }\n                }\n            }\n            if (!this.accept(TokenType.ParenthesisR)) {\n                return this.finish(node, ParseError.RightParenthesisExpected);\n            }\n        }\n        return this.finish(node);\n    };\n    SCSSParser.prototype._parseMixinReference = function () {\n        if (!this.peekKeyword('@include')) {\n            return null;\n        }\n        var node = this.create(nodes.MixinReference);\n        this.consumeToken();\n        // Could be module or mixin identifier, set as mixin as default.\n        var firstIdent = this._parseIdent([nodes.ReferenceType.Mixin]);\n        if (!node.setIdentifier(firstIdent)) {\n            return this.finish(node, ParseError.IdentifierExpected, [TokenType.CurlyR]);\n        }\n        // Is a module accessor.\n        if (!this.hasWhitespace() && this.acceptDelim('.') && !this.hasWhitespace()) {\n            var secondIdent = this._parseIdent([nodes.ReferenceType.Mixin]);\n            if (!secondIdent) {\n                return this.finish(node, ParseError.IdentifierExpected, [TokenType.CurlyR]);\n            }\n            var moduleToken = this.create(nodes.Module);\n            // Re-purpose first matched ident as identifier for module token.\n            firstIdent.referenceTypes = [nodes.ReferenceType.Module];\n            moduleToken.setIdentifier(firstIdent);\n            // Override identifier with second ident.\n            node.setIdentifier(secondIdent);\n            node.addChild(moduleToken);\n        }\n        if (this.accept(TokenType.ParenthesisL)) {\n            if (node.getArguments().addChild(this._parseFunctionArgument())) {\n                while (this.accept(TokenType.Comma)) {\n                    if (this.peek(TokenType.ParenthesisR)) {\n                        break;\n                    }\n                    if (!node.getArguments().addChild(this._parseFunctionArgument())) {\n                        return this.finish(node, ParseError.ExpressionExpected);\n                    }\n                }\n            }\n            if (!this.accept(TokenType.ParenthesisR)) {\n                return this.finish(node, ParseError.RightParenthesisExpected);\n            }\n        }\n        if (this.peekIdent('using') || this.peek(TokenType.CurlyL)) {\n            node.setContent(this._parseMixinContentDeclaration());\n        }\n        return this.finish(node);\n    };\n    SCSSParser.prototype._parseMixinContentDeclaration = function () {\n        var node = this.create(nodes.MixinContentDeclaration);\n        if (this.acceptIdent('using')) {\n            if (!this.accept(TokenType.ParenthesisL)) {\n                return this.finish(node, ParseError.LeftParenthesisExpected, [TokenType.CurlyL]);\n            }\n            if (node.getParameters().addChild(this._parseParameterDeclaration())) {\n                while (this.accept(TokenType.Comma)) {\n                    if (this.peek(TokenType.ParenthesisR)) {\n                        break;\n                    }\n                    if (!node.getParameters().addChild(this._parseParameterDeclaration())) {\n                        return this.finish(node, ParseError.VariableNameExpected);\n                    }\n                }\n            }\n            if (!this.accept(TokenType.ParenthesisR)) {\n                return this.finish(node, ParseError.RightParenthesisExpected, [TokenType.CurlyL]);\n            }\n        }\n        if (this.peek(TokenType.CurlyL)) {\n            this._parseBody(node, this._parseMixinReferenceBodyStatement.bind(this));\n        }\n        return this.finish(node);\n    };\n    SCSSParser.prototype._parseMixinReferenceBodyStatement = function () {\n        return this._tryParseKeyframeSelector() || this._parseRuleSetDeclaration();\n    };\n    SCSSParser.prototype._parseFunctionArgument = function () {\n        // [variableName ':'] expression | variableName '...'\n        var node = this.create(nodes.FunctionArgument);\n        var pos = this.mark();\n        var argument = this._parseVariable();\n        if (argument) {\n            if (!this.accept(TokenType.Colon)) {\n                if (this.accept(scssScanner.Ellipsis)) { // optional\n                    node.setValue(argument);\n                    return this.finish(node);\n                }\n                else {\n                    this.restoreAtMark(pos);\n                }\n            }\n            else {\n                node.setIdentifier(argument);\n            }\n        }\n        if (node.setValue(this._parseExpr(true))) {\n            this.accept(scssScanner.Ellipsis); // #43746\n            node.addChild(this._parsePrio()); // #9859\n            return this.finish(node);\n        }\n        else if (node.setValue(this._tryParsePrio())) {\n            return this.finish(node);\n        }\n        return null;\n    };\n    SCSSParser.prototype._parseURLArgument = function () {\n        var pos = this.mark();\n        var node = _super.prototype._parseURLArgument.call(this);\n        if (!node || !this.peek(TokenType.ParenthesisR)) {\n            this.restoreAtMark(pos);\n            var node_1 = this.create(nodes.Node);\n            node_1.addChild(this._parseBinaryExpr());\n            return this.finish(node_1);\n        }\n        return node;\n    };\n    SCSSParser.prototype._parseOperation = function () {\n        if (!this.peek(TokenType.ParenthesisL)) {\n            return null;\n        }\n        var node = this.create(nodes.Node);\n        this.consumeToken();\n        while (node.addChild(this._parseListElement())) {\n            this.accept(TokenType.Comma); // optional\n        }\n        if (!this.accept(TokenType.ParenthesisR)) {\n            return this.finish(node, ParseError.RightParenthesisExpected);\n        }\n        return this.finish(node);\n    };\n    SCSSParser.prototype._parseListElement = function () {\n        var node = this.create(nodes.ListEntry);\n        var child = this._parseBinaryExpr();\n        if (!child) {\n            return null;\n        }\n        if (this.accept(TokenType.Colon)) {\n            node.setKey(child);\n            if (!node.setValue(this._parseBinaryExpr())) {\n                return this.finish(node, ParseError.ExpressionExpected);\n            }\n        }\n        else {\n            node.setValue(child);\n        }\n        return this.finish(node);\n    };\n    SCSSParser.prototype._parseUse = function () {\n        if (!this.peekKeyword('@use')) {\n            return null;\n        }\n        var node = this.create(nodes.Use);\n        this.consumeToken(); // @use\n        if (!node.addChild(this._parseStringLiteral())) {\n            return this.finish(node, ParseError.StringLiteralExpected);\n        }\n        if (!this.peek(TokenType.SemiColon) && !this.peek(TokenType.EOF)) {\n            if (!this.peekRegExp(TokenType.Ident, /as|with/)) {\n                return this.finish(node, ParseError.UnknownKeyword);\n            }\n            if (this.acceptIdent('as') &&\n                (!node.setIdentifier(this._parseIdent([nodes.ReferenceType.Module])) && !this.acceptDelim('*'))) {\n                return this.finish(node, ParseError.IdentifierOrWildcardExpected);\n            }\n            if (this.acceptIdent('with')) {\n                if (!this.accept(TokenType.ParenthesisL)) {\n                    return this.finish(node, ParseError.LeftParenthesisExpected, [TokenType.ParenthesisR]);\n                }\n                // First variable statement, no comma.\n                if (!node.getParameters().addChild(this._parseModuleConfigDeclaration())) {\n                    return this.finish(node, ParseError.VariableNameExpected);\n                }\n                while (this.accept(TokenType.Comma)) {\n                    if (this.peek(TokenType.ParenthesisR)) {\n                        break;\n                    }\n                    if (!node.getParameters().addChild(this._parseModuleConfigDeclaration())) {\n                        return this.finish(node, ParseError.VariableNameExpected);\n                    }\n                }\n                if (!this.accept(TokenType.ParenthesisR)) {\n                    return this.finish(node, ParseError.RightParenthesisExpected);\n                }\n            }\n        }\n        if (!this.accept(TokenType.SemiColon) && !this.accept(TokenType.EOF)) {\n            return this.finish(node, ParseError.SemiColonExpected);\n        }\n        return this.finish(node);\n    };\n    SCSSParser.prototype._parseModuleConfigDeclaration = function () {\n        var node = this.create(nodes.ModuleConfiguration);\n        if (!node.setIdentifier(this._parseVariable())) {\n            return null;\n        }\n        if (!this.accept(TokenType.Colon) || !node.setValue(this._parseExpr(true))) {\n            return this.finish(node, ParseError.VariableValueExpected, [], [TokenType.Comma, TokenType.ParenthesisR]);\n        }\n        return this.finish(node);\n    };\n    SCSSParser.prototype._parseForward = function () {\n        if (!this.peekKeyword('@forward')) {\n            return null;\n        }\n        var node = this.create(nodes.Forward);\n        this.consumeToken();\n        if (!node.addChild(this._parseStringLiteral())) {\n            return this.finish(node, ParseError.StringLiteralExpected);\n        }\n        if (!this.peek(TokenType.SemiColon) && !this.peek(TokenType.EOF)) {\n            if (!this.peekRegExp(TokenType.Ident, /as|hide|show/)) {\n                return this.finish(node, ParseError.UnknownKeyword);\n            }\n            if (this.acceptIdent('as')) {\n                var identifier = this._parseIdent([nodes.ReferenceType.Forward]);\n                if (!node.setIdentifier(identifier)) {\n                    return this.finish(node, ParseError.IdentifierExpected);\n                }\n                // Wildcard must be the next character after the identifier string.\n                if (this.hasWhitespace() || !this.acceptDelim('*')) {\n                    return this.finish(node, ParseError.WildcardExpected);\n                }\n            }\n            if (this.peekIdent('hide') || this.peekIdent('show')) {\n                if (!node.addChild(this._parseForwardVisibility())) {\n                    return this.finish(node, ParseError.IdentifierOrVariableExpected);\n                }\n            }\n        }\n        if (!this.accept(TokenType.SemiColon) && !this.accept(TokenType.EOF)) {\n            return this.finish(node, ParseError.SemiColonExpected);\n        }\n        return this.finish(node);\n    };\n    SCSSParser.prototype._parseForwardVisibility = function () {\n        var node = this.create(nodes.ForwardVisibility);\n        // Assume to be \"hide\" or \"show\".\n        node.setIdentifier(this._parseIdent());\n        while (node.addChild(this._parseVariable() || this._parseIdent())) {\n            // Consume all variables and idents ahead.\n        }\n        // More than just identifier \n        return node.getChildren().length > 1 ? node : null;\n    };\n    SCSSParser.prototype._parseSupportsCondition = function () {\n        return this._parseInterpolation() || _super.prototype._parseSupportsCondition.call(this);\n    };\n    return SCSSParser;\n}(cssParser.Parser));\nexport { SCSSParser };\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { CSSCompletion } from './cssCompletion.js';\nimport * as nodes from '../parser/cssNodes.js';\nimport { CompletionItemKind, TextEdit, InsertTextFormat } from '../cssLanguageTypes.js';\nimport * as nls from '../../../fillers/vscode-nls.js';\nvar localize = nls.loadMessageBundle();\nvar SCSSCompletion = /** @class */ (function (_super) {\n    __extends(SCSSCompletion, _super);\n    function SCSSCompletion(lsServiceOptions, cssDataManager) {\n        var _this = _super.call(this, '$', lsServiceOptions, cssDataManager) || this;\n        addReferencesToDocumentation(SCSSCompletion.scssModuleLoaders);\n        addReferencesToDocumentation(SCSSCompletion.scssModuleBuiltIns);\n        return _this;\n    }\n    SCSSCompletion.prototype.isImportPathParent = function (type) {\n        return type === nodes.NodeType.Forward\n            || type === nodes.NodeType.Use\n            || _super.prototype.isImportPathParent.call(this, type);\n    };\n    SCSSCompletion.prototype.getCompletionForImportPath = function (importPathNode, result) {\n        var parentType = importPathNode.getParent().type;\n        if (parentType === nodes.NodeType.Forward || parentType === nodes.NodeType.Use) {\n            for (var _i = 0, _a = SCSSCompletion.scssModuleBuiltIns; _i < _a.length; _i++) {\n                var p = _a[_i];\n                var item = {\n                    label: p.label,\n                    documentation: p.documentation,\n                    textEdit: TextEdit.replace(this.getCompletionRange(importPathNode), \"'\" + p.label + \"'\"),\n                    kind: CompletionItemKind.Module\n                };\n                result.items.push(item);\n            }\n        }\n        return _super.prototype.getCompletionForImportPath.call(this, importPathNode, result);\n    };\n    SCSSCompletion.prototype.createReplaceFunction = function () {\n        var tabStopCounter = 1;\n        return function (_match, p1) {\n            return '\\\\' + p1 + ': ${' + tabStopCounter++ + ':' + (SCSSCompletion.variableDefaults[p1] || '') + '}';\n        };\n    };\n    SCSSCompletion.prototype.createFunctionProposals = function (proposals, existingNode, sortToEnd, result) {\n        for (var _i = 0, proposals_1 = proposals; _i < proposals_1.length; _i++) {\n            var p = proposals_1[_i];\n            var insertText = p.func.replace(/\\[?(\\$\\w+)\\]?/g, this.createReplaceFunction());\n            var label = p.func.substr(0, p.func.indexOf('('));\n            var item = {\n                label: label,\n                detail: p.func,\n                documentation: p.desc,\n                textEdit: TextEdit.replace(this.getCompletionRange(existingNode), insertText),\n                insertTextFormat: InsertTextFormat.Snippet,\n                kind: CompletionItemKind.Function\n            };\n            if (sortToEnd) {\n                item.sortText = 'z';\n            }\n            result.items.push(item);\n        }\n        return result;\n    };\n    SCSSCompletion.prototype.getCompletionsForSelector = function (ruleSet, isNested, result) {\n        this.createFunctionProposals(SCSSCompletion.selectorFuncs, null, true, result);\n        return _super.prototype.getCompletionsForSelector.call(this, ruleSet, isNested, result);\n    };\n    SCSSCompletion.prototype.getTermProposals = function (entry, existingNode, result) {\n        var functions = SCSSCompletion.builtInFuncs;\n        if (entry) {\n            functions = functions.filter(function (f) { return !f.type || !entry.restrictions || entry.restrictions.indexOf(f.type) !== -1; });\n        }\n        this.createFunctionProposals(functions, existingNode, true, result);\n        return _super.prototype.getTermProposals.call(this, entry, existingNode, result);\n    };\n    SCSSCompletion.prototype.getColorProposals = function (entry, existingNode, result) {\n        this.createFunctionProposals(SCSSCompletion.colorProposals, existingNode, false, result);\n        return _super.prototype.getColorProposals.call(this, entry, existingNode, result);\n    };\n    SCSSCompletion.prototype.getCompletionsForDeclarationProperty = function (declaration, result) {\n        this.getCompletionForAtDirectives(result);\n        this.getCompletionsForSelector(null, true, result);\n        return _super.prototype.getCompletionsForDeclarationProperty.call(this, declaration, result);\n    };\n    SCSSCompletion.prototype.getCompletionsForExtendsReference = function (_extendsRef, existingNode, result) {\n        var symbols = this.getSymbolContext().findSymbolsAtOffset(this.offset, nodes.ReferenceType.Rule);\n        for (var _i = 0, symbols_1 = symbols; _i < symbols_1.length; _i++) {\n            var symbol = symbols_1[_i];\n            var suggest = {\n                label: symbol.name,\n                textEdit: TextEdit.replace(this.getCompletionRange(existingNode), symbol.name),\n                kind: CompletionItemKind.Function,\n            };\n            result.items.push(suggest);\n        }\n        return result;\n    };\n    SCSSCompletion.prototype.getCompletionForAtDirectives = function (result) {\n        var _a;\n        (_a = result.items).push.apply(_a, SCSSCompletion.scssAtDirectives);\n        return result;\n    };\n    SCSSCompletion.prototype.getCompletionForTopLevel = function (result) {\n        this.getCompletionForAtDirectives(result);\n        this.getCompletionForModuleLoaders(result);\n        _super.prototype.getCompletionForTopLevel.call(this, result);\n        return result;\n    };\n    SCSSCompletion.prototype.getCompletionForModuleLoaders = function (result) {\n        var _a;\n        (_a = result.items).push.apply(_a, SCSSCompletion.scssModuleLoaders);\n        return result;\n    };\n    SCSSCompletion.variableDefaults = {\n        '$red': '1',\n        '$green': '2',\n        '$blue': '3',\n        '$alpha': '1.0',\n        '$color': '#000000',\n        '$weight': '0.5',\n        '$hue': '0',\n        '$saturation': '0%',\n        '$lightness': '0%',\n        '$degrees': '0',\n        '$amount': '0',\n        '$string': '\"\"',\n        '$substring': '\"s\"',\n        '$number': '0',\n        '$limit': '1'\n    };\n    SCSSCompletion.colorProposals = [\n        { func: 'red($color)', desc: localize('scss.builtin.red', 'Gets the red component of a color.') },\n        { func: 'green($color)', desc: localize('scss.builtin.green', 'Gets the green component of a color.') },\n        { func: 'blue($color)', desc: localize('scss.builtin.blue', 'Gets the blue component of a color.') },\n        { func: 'mix($color, $color, [$weight])', desc: localize('scss.builtin.mix', 'Mixes two colors together.') },\n        { func: 'hue($color)', desc: localize('scss.builtin.hue', 'Gets the hue component of a color.') },\n        { func: 'saturation($color)', desc: localize('scss.builtin.saturation', 'Gets the saturation component of a color.') },\n        { func: 'lightness($color)', desc: localize('scss.builtin.lightness', 'Gets the lightness component of a color.') },\n        { func: 'adjust-hue($color, $degrees)', desc: localize('scss.builtin.adjust-hue', 'Changes the hue of a color.') },\n        { func: 'lighten($color, $amount)', desc: localize('scss.builtin.lighten', 'Makes a color lighter.') },\n        { func: 'darken($color, $amount)', desc: localize('scss.builtin.darken', 'Makes a color darker.') },\n        { func: 'saturate($color, $amount)', desc: localize('scss.builtin.saturate', 'Makes a color more saturated.') },\n        { func: 'desaturate($color, $amount)', desc: localize('scss.builtin.desaturate', 'Makes a color less saturated.') },\n        { func: 'grayscale($color)', desc: localize('scss.builtin.grayscale', 'Converts a color to grayscale.') },\n        { func: 'complement($color)', desc: localize('scss.builtin.complement', 'Returns the complement of a color.') },\n        { func: 'invert($color)', desc: localize('scss.builtin.invert', 'Returns the inverse of a color.') },\n        { func: 'alpha($color)', desc: localize('scss.builtin.alpha', 'Gets the opacity component of a color.') },\n        { func: 'opacity($color)', desc: 'Gets the alpha component (opacity) of a color.' },\n        { func: 'rgba($color, $alpha)', desc: localize('scss.builtin.rgba', 'Changes the alpha component for a color.') },\n        { func: 'opacify($color, $amount)', desc: localize('scss.builtin.opacify', 'Makes a color more opaque.') },\n        { func: 'fade-in($color, $amount)', desc: localize('scss.builtin.fade-in', 'Makes a color more opaque.') },\n        { func: 'transparentize($color, $amount)', desc: localize('scss.builtin.transparentize', 'Makes a color more transparent.') },\n        { func: 'fade-out($color, $amount)', desc: localize('scss.builtin.fade-out', 'Makes a color more transparent.') },\n        { func: 'adjust-color($color, [$red], [$green], [$blue], [$hue], [$saturation], [$lightness], [$alpha])', desc: localize('scss.builtin.adjust-color', 'Increases or decreases one or more components of a color.') },\n        { func: 'scale-color($color, [$red], [$green], [$blue], [$saturation], [$lightness], [$alpha])', desc: localize('scss.builtin.scale-color', 'Fluidly scales one or more properties of a color.') },\n        { func: 'change-color($color, [$red], [$green], [$blue], [$hue], [$saturation], [$lightness], [$alpha])', desc: localize('scss.builtin.change-color', 'Changes one or more properties of a color.') },\n        { func: 'ie-hex-str($color)', desc: localize('scss.builtin.ie-hex-str', 'Converts a color into the format understood by IE filters.') }\n    ];\n    SCSSCompletion.selectorFuncs = [\n        { func: 'selector-nest($selectors)', desc: localize('scss.builtin.selector-nest', 'Nests selector beneath one another like they would be nested in the stylesheet.') },\n        { func: 'selector-append($selectors)', desc: localize('scss.builtin.selector-append', 'Appends selectors to one another without spaces in between.') },\n        { func: 'selector-extend($selector, $extendee, $extender)', desc: localize('scss.builtin.selector-extend', 'Extends $extendee with $extender within $selector.') },\n        { func: 'selector-replace($selector, $original, $replacement)', desc: localize('scss.builtin.selector-replace', 'Replaces $original with $replacement within $selector.') },\n        { func: 'selector-unify($selector1, $selector2)', desc: localize('scss.builtin.selector-unify', 'Unifies two selectors to produce a selector that matches elements matched by both.') },\n        { func: 'is-superselector($super, $sub)', desc: localize('scss.builtin.is-superselector', 'Returns whether $super matches all the elements $sub does, and possibly more.') },\n        { func: 'simple-selectors($selector)', desc: localize('scss.builtin.simple-selectors', 'Returns the simple selectors that comprise a compound selector.') },\n        { func: 'selector-parse($selector)', desc: localize('scss.builtin.selector-parse', 'Parses a selector into the format returned by &.') }\n    ];\n    SCSSCompletion.builtInFuncs = [\n        { func: 'unquote($string)', desc: localize('scss.builtin.unquote', 'Removes quotes from a string.') },\n        { func: 'quote($string)', desc: localize('scss.builtin.quote', 'Adds quotes to a string.') },\n        { func: 'str-length($string)', desc: localize('scss.builtin.str-length', 'Returns the number of characters in a string.') },\n        { func: 'str-insert($string, $insert, $index)', desc: localize('scss.builtin.str-insert', 'Inserts $insert into $string at $index.') },\n        { func: 'str-index($string, $substring)', desc: localize('scss.builtin.str-index', 'Returns the index of the first occurance of $substring in $string.') },\n        { func: 'str-slice($string, $start-at, [$end-at])', desc: localize('scss.builtin.str-slice', 'Extracts a substring from $string.') },\n        { func: 'to-upper-case($string)', desc: localize('scss.builtin.to-upper-case', 'Converts a string to upper case.') },\n        { func: 'to-lower-case($string)', desc: localize('scss.builtin.to-lower-case', 'Converts a string to lower case.') },\n        { func: 'percentage($number)', desc: localize('scss.builtin.percentage', 'Converts a unitless number to a percentage.'), type: 'percentage' },\n        { func: 'round($number)', desc: localize('scss.builtin.round', 'Rounds a number to the nearest whole number.') },\n        { func: 'ceil($number)', desc: localize('scss.builtin.ceil', 'Rounds a number up to the next whole number.') },\n        { func: 'floor($number)', desc: localize('scss.builtin.floor', 'Rounds a number down to the previous whole number.') },\n        { func: 'abs($number)', desc: localize('scss.builtin.abs', 'Returns the absolute value of a number.') },\n        { func: 'min($numbers)', desc: localize('scss.builtin.min', 'Finds the minimum of several numbers.') },\n        { func: 'max($numbers)', desc: localize('scss.builtin.max', 'Finds the maximum of several numbers.') },\n        { func: 'random([$limit])', desc: localize('scss.builtin.random', 'Returns a random number.') },\n        { func: 'length($list)', desc: localize('scss.builtin.length', 'Returns the length of a list.') },\n        { func: 'nth($list, $n)', desc: localize('scss.builtin.nth', 'Returns a specific item in a list.') },\n        { func: 'set-nth($list, $n, $value)', desc: localize('scss.builtin.set-nth', 'Replaces the nth item in a list.') },\n        { func: 'join($list1, $list2, [$separator])', desc: localize('scss.builtin.join', 'Joins together two lists into one.') },\n        { func: 'append($list1, $val, [$separator])', desc: localize('scss.builtin.append', 'Appends a single value onto the end of a list.') },\n        { func: 'zip($lists)', desc: localize('scss.builtin.zip', 'Combines several lists into a single multidimensional list.') },\n        { func: 'index($list, $value)', desc: localize('scss.builtin.index', 'Returns the position of a value within a list.') },\n        { func: 'list-separator(#list)', desc: localize('scss.builtin.list-separator', 'Returns the separator of a list.') },\n        { func: 'map-get($map, $key)', desc: localize('scss.builtin.map-get', 'Returns the value in a map associated with a given key.') },\n        { func: 'map-merge($map1, $map2)', desc: localize('scss.builtin.map-merge', 'Merges two maps together into a new map.') },\n        { func: 'map-remove($map, $keys)', desc: localize('scss.builtin.map-remove', 'Returns a new map with keys removed.') },\n        { func: 'map-keys($map)', desc: localize('scss.builtin.map-keys', 'Returns a list of all keys in a map.') },\n        { func: 'map-values($map)', desc: localize('scss.builtin.map-values', 'Returns a list of all values in a map.') },\n        { func: 'map-has-key($map, $key)', desc: localize('scss.builtin.map-has-key', 'Returns whether a map has a value associated with a given key.') },\n        { func: 'keywords($args)', desc: localize('scss.builtin.keywords', 'Returns the keywords passed to a function that takes variable arguments.') },\n        { func: 'feature-exists($feature)', desc: localize('scss.builtin.feature-exists', 'Returns whether a feature exists in the current Sass runtime.') },\n        { func: 'variable-exists($name)', desc: localize('scss.builtin.variable-exists', 'Returns whether a variable with the given name exists in the current scope.') },\n        { func: 'global-variable-exists($name)', desc: localize('scss.builtin.global-variable-exists', 'Returns whether a variable with the given name exists in the global scope.') },\n        { func: 'function-exists($name)', desc: localize('scss.builtin.function-exists', 'Returns whether a function with the given name exists.') },\n        { func: 'mixin-exists($name)', desc: localize('scss.builtin.mixin-exists', 'Returns whether a mixin with the given name exists.') },\n        { func: 'inspect($value)', desc: localize('scss.builtin.inspect', 'Returns the string representation of a value as it would be represented in Sass.') },\n        { func: 'type-of($value)', desc: localize('scss.builtin.type-of', 'Returns the type of a value.') },\n        { func: 'unit($number)', desc: localize('scss.builtin.unit', 'Returns the unit(s) associated with a number.') },\n        { func: 'unitless($number)', desc: localize('scss.builtin.unitless', 'Returns whether a number has units.') },\n        { func: 'comparable($number1, $number2)', desc: localize('scss.builtin.comparable', 'Returns whether two numbers can be added, subtracted, or compared.') },\n        { func: 'call($name, $args)', desc: localize('scss.builtin.call', 'Dynamically calls a Sass function.') }\n    ];\n    SCSSCompletion.scssAtDirectives = [\n        {\n            label: \"@extend\",\n            documentation: localize(\"scss.builtin.@extend\", \"Inherits the styles of another selector.\"),\n            kind: CompletionItemKind.Keyword\n        },\n        {\n            label: \"@at-root\",\n            documentation: localize(\"scss.builtin.@at-root\", \"Causes one or more rules to be emitted at the root of the document.\"),\n            kind: CompletionItemKind.Keyword\n        },\n        {\n            label: \"@debug\",\n            documentation: localize(\"scss.builtin.@debug\", \"Prints the value of an expression to the standard error output stream. Useful for debugging complicated Sass files.\"),\n            kind: CompletionItemKind.Keyword\n        },\n        {\n            label: \"@warn\",\n            documentation: localize(\"scss.builtin.@warn\", \"Prints the value of an expression to the standard error output stream. Useful for libraries that need to warn users of deprecations or recovering from minor mixin usage mistakes. Warnings can be turned off with the `--quiet` command-line option or the `:quiet` Sass option.\"),\n            kind: CompletionItemKind.Keyword\n        },\n        {\n            label: \"@error\",\n            documentation: localize(\"scss.builtin.@error\", \"Throws the value of an expression as a fatal error with stack trace. Useful for validating arguments to mixins and functions.\"),\n            kind: CompletionItemKind.Keyword\n        },\n        {\n            label: \"@if\",\n            documentation: localize(\"scss.builtin.@if\", \"Includes the body if the expression does not evaluate to `false` or `null`.\"),\n            insertText: \"@if ${1:expr} {\\n\\t$0\\n}\",\n            insertTextFormat: InsertTextFormat.Snippet,\n            kind: CompletionItemKind.Keyword\n        },\n        {\n            label: \"@for\",\n            documentation: localize(\"scss.builtin.@for\", \"For loop that repeatedly outputs a set of styles for each `$var` in the `from/through` or `from/to` clause.\"),\n            insertText: \"@for \\\\$${1:var} from ${2:start} ${3|to,through|} ${4:end} {\\n\\t$0\\n}\",\n            insertTextFormat: InsertTextFormat.Snippet,\n            kind: CompletionItemKind.Keyword\n        },\n        {\n            label: \"@each\",\n            documentation: localize(\"scss.builtin.@each\", \"Each loop that sets `$var` to each item in the list or map, then outputs the styles it contains using that value of `$var`.\"),\n            insertText: \"@each \\\\$${1:var} in ${2:list} {\\n\\t$0\\n}\",\n            insertTextFormat: InsertTextFormat.Snippet,\n            kind: CompletionItemKind.Keyword\n        },\n        {\n            label: \"@while\",\n            documentation: localize(\"scss.builtin.@while\", \"While loop that takes an expression and repeatedly outputs the nested styles until the statement evaluates to `false`.\"),\n            insertText: \"@while ${1:condition} {\\n\\t$0\\n}\",\n            insertTextFormat: InsertTextFormat.Snippet,\n            kind: CompletionItemKind.Keyword\n        },\n        {\n            label: \"@mixin\",\n            documentation: localize(\"scss.builtin.@mixin\", \"Defines styles that can be re-used throughout the stylesheet with `@include`.\"),\n            insertText: \"@mixin ${1:name} {\\n\\t$0\\n}\",\n            insertTextFormat: InsertTextFormat.Snippet,\n            kind: CompletionItemKind.Keyword\n        },\n        {\n            label: \"@include\",\n            documentation: localize(\"scss.builtin.@include\", \"Includes the styles defined by another mixin into the current rule.\"),\n            kind: CompletionItemKind.Keyword\n        },\n        {\n            label: \"@function\",\n            documentation: localize(\"scss.builtin.@function\", \"Defines complex operations that can be re-used throughout stylesheets.\"),\n            kind: CompletionItemKind.Keyword\n        }\n    ];\n    SCSSCompletion.scssModuleLoaders = [\n        {\n            label: \"@use\",\n            documentation: localize(\"scss.builtin.@use\", \"Loads mixins, functions, and variables from other Sass stylesheets as 'modules', and combines CSS from multiple stylesheets together.\"),\n            references: [{ name: 'Sass documentation', url: 'https://sass-lang.com/documentation/at-rules/use' }],\n            insertText: \"@use '$0';\",\n            insertTextFormat: InsertTextFormat.Snippet,\n            kind: CompletionItemKind.Keyword\n        },\n        {\n            label: \"@forward\",\n            documentation: localize(\"scss.builtin.@forward\", \"Loads a Sass stylesheet and makes its mixins, functions, and variables available when this stylesheet is loaded with the @use rule.\"),\n            references: [{ name: 'Sass documentation', url: 'https://sass-lang.com/documentation/at-rules/forward' }],\n            insertText: \"@forward '$0';\",\n            insertTextFormat: InsertTextFormat.Snippet,\n            kind: CompletionItemKind.Keyword\n        },\n    ];\n    SCSSCompletion.scssModuleBuiltIns = [\n        {\n            label: 'sass:math',\n            documentation: localize('scss.builtin.sass:math', 'Provides functions that operate on numbers.'),\n            references: [{ name: 'Sass documentation', url: 'https://sass-lang.com/documentation/modules/math' }]\n        },\n        {\n            label: 'sass:string',\n            documentation: localize('scss.builtin.sass:string', 'Makes it easy to combine, search, or split apart strings.'),\n            references: [{ name: 'Sass documentation', url: 'https://sass-lang.com/documentation/modules/string' }]\n        },\n        {\n            label: 'sass:color',\n            documentation: localize('scss.builtin.sass:color', 'Generates new colors based on existing ones, making it easy to build color themes.'),\n            references: [{ name: 'Sass documentation', url: 'https://sass-lang.com/documentation/modules/color' }]\n        },\n        {\n            label: 'sass:list',\n            documentation: localize('scss.builtin.sass:list', 'Lets you access and modify values in lists.'),\n            references: [{ name: 'Sass documentation', url: 'https://sass-lang.com/documentation/modules/list' }]\n        },\n        {\n            label: 'sass:map',\n            documentation: localize('scss.builtin.sass:map', 'Makes it possible to look up the value associated with a key in a map, and much more.'),\n            references: [{ name: 'Sass documentation', url: 'https://sass-lang.com/documentation/modules/map' }]\n        },\n        {\n            label: 'sass:selector',\n            documentation: localize('scss.builtin.sass:selector', 'Provides access to Sasss powerful selector engine.'),\n            references: [{ name: 'Sass documentation', url: 'https://sass-lang.com/documentation/modules/selector' }]\n        },\n        {\n            label: 'sass:meta',\n            documentation: localize('scss.builtin.sass:meta', 'Exposes the details of Sasss inner workings.'),\n            references: [{ name: 'Sass documentation', url: 'https://sass-lang.com/documentation/modules/meta' }]\n        },\n    ];\n    return SCSSCompletion;\n}(CSSCompletion));\nexport { SCSSCompletion };\n/**\n * Todo @Pine: Remove this and do it through custom data\n */\nfunction addReferencesToDocumentation(items) {\n    items.forEach(function (i) {\n        if (i.documentation && i.references && i.references.length > 0) {\n            var markdownDoc = typeof i.documentation === 'string'\n                ? { kind: 'markdown', value: i.documentation }\n                : { kind: 'markdown', value: i.documentation.value };\n            markdownDoc.value += '\\n\\n';\n            markdownDoc.value += i.references\n                .map(function (r) {\n                return \"[\" + r.name + \"](\" + r.url + \")\";\n            })\n                .join(' | ');\n            i.documentation = markdownDoc;\n        }\n    });\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport * as scanner from './cssScanner.js';\nvar _FSL = '/'.charCodeAt(0);\nvar _NWL = '\\n'.charCodeAt(0);\nvar _CAR = '\\r'.charCodeAt(0);\nvar _LFD = '\\f'.charCodeAt(0);\nvar _TIC = '`'.charCodeAt(0);\nvar _DOT = '.'.charCodeAt(0);\nvar customTokenValue = scanner.TokenType.CustomToken;\nexport var Ellipsis = customTokenValue++;\nvar LESSScanner = /** @class */ (function (_super) {\n    __extends(LESSScanner, _super);\n    function LESSScanner() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    LESSScanner.prototype.scanNext = function (offset) {\n        // LESS: escaped JavaScript code `const a = \"dddd\"`\n        var tokenType = this.escapedJavaScript();\n        if (tokenType !== null) {\n            return this.finishToken(offset, tokenType);\n        }\n        if (this.stream.advanceIfChars([_DOT, _DOT, _DOT])) {\n            return this.finishToken(offset, Ellipsis);\n        }\n        return _super.prototype.scanNext.call(this, offset);\n    };\n    LESSScanner.prototype.comment = function () {\n        if (_super.prototype.comment.call(this)) {\n            return true;\n        }\n        if (!this.inURL && this.stream.advanceIfChars([_FSL, _FSL])) {\n            this.stream.advanceWhileChar(function (ch) {\n                switch (ch) {\n                    case _NWL:\n                    case _CAR:\n                    case _LFD:\n                        return false;\n                    default:\n                        return true;\n                }\n            });\n            return true;\n        }\n        else {\n            return false;\n        }\n    };\n    LESSScanner.prototype.escapedJavaScript = function () {\n        var ch = this.stream.peekChar();\n        if (ch === _TIC) {\n            this.stream.advance(1);\n            this.stream.advanceWhileChar(function (ch) { return ch !== _TIC; });\n            return this.stream.advanceIfChar(_TIC) ? scanner.TokenType.EscapedJavaScript : scanner.TokenType.BadEscapedJavaScript;\n        }\n        return null;\n    };\n    return LESSScanner;\n}(scanner.Scanner));\nexport { LESSScanner };\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport * as lessScanner from './lessScanner.js';\nimport { TokenType } from './cssScanner.js';\nimport * as cssParser from './cssParser.js';\nimport * as nodes from './cssNodes.js';\nimport { ParseError } from './cssErrors.js';\n/// <summary>\n/// A parser for LESS\n/// http://lesscss.org/\n/// </summary>\nvar LESSParser = /** @class */ (function (_super) {\n    __extends(LESSParser, _super);\n    function LESSParser() {\n        return _super.call(this, new lessScanner.LESSScanner()) || this;\n    }\n    LESSParser.prototype._parseStylesheetStatement = function (isNested) {\n        if (isNested === void 0) { isNested = false; }\n        if (this.peek(TokenType.AtKeyword)) {\n            return this._parseVariableDeclaration()\n                || this._parsePlugin()\n                || _super.prototype._parseStylesheetAtStatement.call(this, isNested);\n        }\n        return this._tryParseMixinDeclaration()\n            || this._tryParseMixinReference()\n            || this._parseFunction()\n            || this._parseRuleset(true);\n    };\n    LESSParser.prototype._parseImport = function () {\n        if (!this.peekKeyword('@import') && !this.peekKeyword('@import-once') /* deprecated in less 1.4.1 */) {\n            return null;\n        }\n        var node = this.create(nodes.Import);\n        this.consumeToken();\n        // less 1.4.1: @import (css) \"lib\"\n        if (this.accept(TokenType.ParenthesisL)) {\n            if (!this.accept(TokenType.Ident)) {\n                return this.finish(node, ParseError.IdentifierExpected, [TokenType.SemiColon]);\n            }\n            do {\n                if (!this.accept(TokenType.Comma)) {\n                    break;\n                }\n            } while (this.accept(TokenType.Ident));\n            if (!this.accept(TokenType.ParenthesisR)) {\n                return this.finish(node, ParseError.RightParenthesisExpected, [TokenType.SemiColon]);\n            }\n        }\n        if (!node.addChild(this._parseURILiteral()) && !node.addChild(this._parseStringLiteral())) {\n            return this.finish(node, ParseError.URIOrStringExpected, [TokenType.SemiColon]);\n        }\n        if (!this.peek(TokenType.SemiColon) && !this.peek(TokenType.EOF)) {\n            node.setMedialist(this._parseMediaQueryList());\n        }\n        return this.finish(node);\n    };\n    LESSParser.prototype._parsePlugin = function () {\n        if (!this.peekKeyword('@plugin')) {\n            return null;\n        }\n        var node = this.createNode(nodes.NodeType.Plugin);\n        this.consumeToken(); // @import\n        if (!node.addChild(this._parseStringLiteral())) {\n            return this.finish(node, ParseError.StringLiteralExpected);\n        }\n        if (!this.accept(TokenType.SemiColon)) {\n            return this.finish(node, ParseError.SemiColonExpected);\n        }\n        return this.finish(node);\n    };\n    LESSParser.prototype._parseMediaQuery = function (resyncStopToken) {\n        var node = _super.prototype._parseMediaQuery.call(this, resyncStopToken);\n        if (!node) {\n            var node_1 = this.create(nodes.MediaQuery);\n            if (node_1.addChild(this._parseVariable())) {\n                return this.finish(node_1);\n            }\n            return null;\n        }\n        return node;\n    };\n    LESSParser.prototype._parseMediaDeclaration = function (isNested) {\n        if (isNested === void 0) { isNested = false; }\n        return this._tryParseRuleset(isNested)\n            || this._tryToParseDeclaration()\n            || this._tryParseMixinDeclaration()\n            || this._tryParseMixinReference()\n            || this._parseDetachedRuleSetMixin()\n            || this._parseStylesheetStatement(isNested);\n    };\n    LESSParser.prototype._parseMediaFeatureName = function () {\n        return this._parseIdent() || this._parseVariable();\n    };\n    LESSParser.prototype._parseVariableDeclaration = function (panic) {\n        if (panic === void 0) { panic = []; }\n        var node = this.create(nodes.VariableDeclaration);\n        var mark = this.mark();\n        if (!node.setVariable(this._parseVariable(true))) {\n            return null;\n        }\n        if (this.accept(TokenType.Colon)) {\n            if (this.prevToken) {\n                node.colonPosition = this.prevToken.offset;\n            }\n            if (node.setValue(this._parseDetachedRuleSet())) {\n                node.needsSemicolon = false;\n            }\n            else if (!node.setValue(this._parseExpr())) {\n                return this.finish(node, ParseError.VariableValueExpected, [], panic);\n            }\n            node.addChild(this._parsePrio());\n        }\n        else {\n            this.restoreAtMark(mark);\n            return null; // at keyword, but no ':', not a variable declaration but some at keyword\n        }\n        if (this.peek(TokenType.SemiColon)) {\n            node.semicolonPosition = this.token.offset; // not part of the declaration, but useful information for code assist\n        }\n        return this.finish(node);\n    };\n    LESSParser.prototype._parseDetachedRuleSet = function () {\n        var mark = this.mark();\n        // \"Anonymous mixin\" used in each() and possibly a generic type in the future\n        if (this.peekDelim('#') || this.peekDelim('.')) {\n            this.consumeToken();\n            if (!this.hasWhitespace() && this.accept(TokenType.ParenthesisL)) {\n                var node = this.create(nodes.MixinDeclaration);\n                if (node.getParameters().addChild(this._parseMixinParameter())) {\n                    while (this.accept(TokenType.Comma) || this.accept(TokenType.SemiColon)) {\n                        if (this.peek(TokenType.ParenthesisR)) {\n                            break;\n                        }\n                        if (!node.getParameters().addChild(this._parseMixinParameter())) {\n                            this.markError(node, ParseError.IdentifierExpected, [], [TokenType.ParenthesisR]);\n                        }\n                    }\n                }\n                if (!this.accept(TokenType.ParenthesisR)) {\n                    this.restoreAtMark(mark);\n                    return null;\n                }\n            }\n            else {\n                this.restoreAtMark(mark);\n                return null;\n            }\n        }\n        if (!this.peek(TokenType.CurlyL)) {\n            return null;\n        }\n        var content = this.create(nodes.BodyDeclaration);\n        this._parseBody(content, this._parseDetachedRuleSetBody.bind(this));\n        return this.finish(content);\n    };\n    LESSParser.prototype._parseDetachedRuleSetBody = function () {\n        return this._tryParseKeyframeSelector() || this._parseRuleSetDeclaration();\n    };\n    LESSParser.prototype._addLookupChildren = function (node) {\n        if (!node.addChild(this._parseLookupValue())) {\n            return false;\n        }\n        var expectsValue = false;\n        while (true) {\n            if (this.peek(TokenType.BracketL)) {\n                expectsValue = true;\n            }\n            if (!node.addChild(this._parseLookupValue())) {\n                break;\n            }\n            expectsValue = false;\n        }\n        return !expectsValue;\n    };\n    LESSParser.prototype._parseLookupValue = function () {\n        var node = this.create(nodes.Node);\n        var mark = this.mark();\n        if (!this.accept(TokenType.BracketL)) {\n            this.restoreAtMark(mark);\n            return null;\n        }\n        if (((node.addChild(this._parseVariable(false, true)) ||\n            node.addChild(this._parsePropertyIdentifier())) &&\n            this.accept(TokenType.BracketR)) || this.accept(TokenType.BracketR)) {\n            return node;\n        }\n        this.restoreAtMark(mark);\n        return null;\n    };\n    LESSParser.prototype._parseVariable = function (declaration, insideLookup) {\n        if (declaration === void 0) { declaration = false; }\n        if (insideLookup === void 0) { insideLookup = false; }\n        var isPropertyReference = !declaration && this.peekDelim('$');\n        if (!this.peekDelim('@') && !isPropertyReference && !this.peek(TokenType.AtKeyword)) {\n            return null;\n        }\n        var node = this.create(nodes.Variable);\n        var mark = this.mark();\n        while (this.acceptDelim('@') || (!declaration && this.acceptDelim('$'))) {\n            if (this.hasWhitespace()) {\n                this.restoreAtMark(mark);\n                return null;\n            }\n        }\n        if (!this.accept(TokenType.AtKeyword) && !this.accept(TokenType.Ident)) {\n            this.restoreAtMark(mark);\n            return null;\n        }\n        if (!insideLookup && this.peek(TokenType.BracketL)) {\n            if (!this._addLookupChildren(node)) {\n                this.restoreAtMark(mark);\n                return null;\n            }\n        }\n        return node;\n    };\n    LESSParser.prototype._parseTermExpression = function () {\n        return this._parseVariable() ||\n            this._parseEscaped() ||\n            _super.prototype._parseTermExpression.call(this) || // preference for colors before mixin references\n            this._tryParseMixinReference(false);\n    };\n    LESSParser.prototype._parseEscaped = function () {\n        if (this.peek(TokenType.EscapedJavaScript) ||\n            this.peek(TokenType.BadEscapedJavaScript)) {\n            var node = this.createNode(nodes.NodeType.EscapedValue);\n            this.consumeToken();\n            return this.finish(node);\n        }\n        if (this.peekDelim('~')) {\n            var node = this.createNode(nodes.NodeType.EscapedValue);\n            this.consumeToken();\n            if (this.accept(TokenType.String) || this.accept(TokenType.EscapedJavaScript)) {\n                return this.finish(node);\n            }\n            else {\n                return this.finish(node, ParseError.TermExpected);\n            }\n        }\n        return null;\n    };\n    LESSParser.prototype._parseOperator = function () {\n        var node = this._parseGuardOperator();\n        if (node) {\n            return node;\n        }\n        else {\n            return _super.prototype._parseOperator.call(this);\n        }\n    };\n    LESSParser.prototype._parseGuardOperator = function () {\n        if (this.peekDelim('>')) {\n            var node = this.createNode(nodes.NodeType.Operator);\n            this.consumeToken();\n            this.acceptDelim('=');\n            return node;\n        }\n        else if (this.peekDelim('=')) {\n            var node = this.createNode(nodes.NodeType.Operator);\n            this.consumeToken();\n            this.acceptDelim('<');\n            return node;\n        }\n        else if (this.peekDelim('<')) {\n            var node = this.createNode(nodes.NodeType.Operator);\n            this.consumeToken();\n            this.acceptDelim('=');\n            return node;\n        }\n        return null;\n    };\n    LESSParser.prototype._parseRuleSetDeclaration = function () {\n        if (this.peek(TokenType.AtKeyword)) {\n            return this._parseKeyframe()\n                || this._parseMedia(true)\n                || this._parseImport()\n                || this._parseSupports(true) // @supports\n                || this._parseDetachedRuleSetMixin() // less detached ruleset mixin\n                || this._parseVariableDeclaration() // Variable declarations\n                || _super.prototype._parseRuleSetDeclarationAtStatement.call(this);\n        }\n        return this._tryParseMixinDeclaration()\n            || this._tryParseRuleset(true) // nested ruleset\n            || this._tryParseMixinReference() // less mixin reference\n            || this._parseFunction()\n            || this._parseExtend() // less extend declaration\n            || _super.prototype._parseRuleSetDeclaration.call(this); // try css ruleset declaration as the last option\n    };\n    LESSParser.prototype._parseKeyframeIdent = function () {\n        return this._parseIdent([nodes.ReferenceType.Keyframe]) || this._parseVariable();\n    };\n    LESSParser.prototype._parseKeyframeSelector = function () {\n        return this._parseDetachedRuleSetMixin() // less detached ruleset mixin\n            || _super.prototype._parseKeyframeSelector.call(this);\n    };\n    LESSParser.prototype._parseSimpleSelectorBody = function () {\n        return this._parseSelectorCombinator() || _super.prototype._parseSimpleSelectorBody.call(this);\n    };\n    LESSParser.prototype._parseSelector = function (isNested) {\n        // CSS Guards\n        var node = this.create(nodes.Selector);\n        var hasContent = false;\n        if (isNested) {\n            // nested selectors can start with a combinator\n            hasContent = node.addChild(this._parseCombinator());\n        }\n        while (node.addChild(this._parseSimpleSelector())) {\n            hasContent = true;\n            var mark = this.mark();\n            if (node.addChild(this._parseGuard()) && this.peek(TokenType.CurlyL)) {\n                break;\n            }\n            this.restoreAtMark(mark);\n            node.addChild(this._parseCombinator()); // optional\n        }\n        return hasContent ? this.finish(node) : null;\n    };\n    LESSParser.prototype._parseSelectorCombinator = function () {\n        if (this.peekDelim('&')) {\n            var node = this.createNode(nodes.NodeType.SelectorCombinator);\n            this.consumeToken();\n            while (!this.hasWhitespace() && (this.acceptDelim('-') || this.accept(TokenType.Num) || this.accept(TokenType.Dimension) || node.addChild(this._parseIdent()) || this.acceptDelim('&'))) {\n                //  support &-foo\n            }\n            return this.finish(node);\n        }\n        return null;\n    };\n    LESSParser.prototype._parseSelectorIdent = function () {\n        if (!this.peekInterpolatedIdent()) {\n            return null;\n        }\n        var node = this.createNode(nodes.NodeType.SelectorInterpolation);\n        var hasContent = this._acceptInterpolatedIdent(node);\n        return hasContent ? this.finish(node) : null;\n    };\n    LESSParser.prototype._parsePropertyIdentifier = function (inLookup) {\n        if (inLookup === void 0) { inLookup = false; }\n        var propertyRegex = /^[\\w-]+/;\n        if (!this.peekInterpolatedIdent() && !this.peekRegExp(this.token.type, propertyRegex)) {\n            return null;\n        }\n        var mark = this.mark();\n        var node = this.create(nodes.Identifier);\n        node.isCustomProperty = this.acceptDelim('-') && this.acceptDelim('-');\n        var childAdded = false;\n        if (!inLookup) {\n            if (node.isCustomProperty) {\n                childAdded = this._acceptInterpolatedIdent(node);\n            }\n            else {\n                childAdded = this._acceptInterpolatedIdent(node, propertyRegex);\n            }\n        }\n        else {\n            if (node.isCustomProperty) {\n                childAdded = node.addChild(this._parseIdent());\n            }\n            else {\n                childAdded = node.addChild(this._parseRegexp(propertyRegex));\n            }\n        }\n        if (!childAdded) {\n            this.restoreAtMark(mark);\n            return null;\n        }\n        if (!inLookup && !this.hasWhitespace()) {\n            this.acceptDelim('+');\n            if (!this.hasWhitespace()) {\n                this.acceptIdent('_');\n            }\n        }\n        return this.finish(node);\n    };\n    LESSParser.prototype.peekInterpolatedIdent = function () {\n        return this.peek(TokenType.Ident) ||\n            this.peekDelim('@') ||\n            this.peekDelim('$') ||\n            this.peekDelim('-');\n    };\n    LESSParser.prototype._acceptInterpolatedIdent = function (node, identRegex) {\n        var _this = this;\n        var hasContent = false;\n        var indentInterpolation = function () {\n            var pos = _this.mark();\n            if (_this.acceptDelim('-')) {\n                if (!_this.hasWhitespace()) {\n                    _this.acceptDelim('-');\n                }\n                if (_this.hasWhitespace()) {\n                    _this.restoreAtMark(pos);\n                    return null;\n                }\n            }\n            return _this._parseInterpolation();\n        };\n        var accept = identRegex ?\n            function () { return _this.acceptRegexp(identRegex); } :\n            function () { return _this.accept(TokenType.Ident); };\n        while (accept() ||\n            node.addChild(this._parseInterpolation() ||\n                this.try(indentInterpolation))) {\n            hasContent = true;\n            if (this.hasWhitespace()) {\n                break;\n            }\n        }\n        return hasContent;\n    };\n    LESSParser.prototype._parseInterpolation = function () {\n        // @{name} Variable or\n        // ${name} Property\n        var mark = this.mark();\n        if (this.peekDelim('@') || this.peekDelim('$')) {\n            var node = this.createNode(nodes.NodeType.Interpolation);\n            this.consumeToken();\n            if (this.hasWhitespace() || !this.accept(TokenType.CurlyL)) {\n                this.restoreAtMark(mark);\n                return null;\n            }\n            if (!node.addChild(this._parseIdent())) {\n                return this.finish(node, ParseError.IdentifierExpected);\n            }\n            if (!this.accept(TokenType.CurlyR)) {\n                return this.finish(node, ParseError.RightCurlyExpected);\n            }\n            return this.finish(node);\n        }\n        return null;\n    };\n    LESSParser.prototype._tryParseMixinDeclaration = function () {\n        var mark = this.mark();\n        var node = this.create(nodes.MixinDeclaration);\n        if (!node.setIdentifier(this._parseMixinDeclarationIdentifier()) || !this.accept(TokenType.ParenthesisL)) {\n            this.restoreAtMark(mark);\n            return null;\n        }\n        if (node.getParameters().addChild(this._parseMixinParameter())) {\n            while (this.accept(TokenType.Comma) || this.accept(TokenType.SemiColon)) {\n                if (this.peek(TokenType.ParenthesisR)) {\n                    break;\n                }\n                if (!node.getParameters().addChild(this._parseMixinParameter())) {\n                    this.markError(node, ParseError.IdentifierExpected, [], [TokenType.ParenthesisR]);\n                }\n            }\n        }\n        if (!this.accept(TokenType.ParenthesisR)) {\n            this.restoreAtMark(mark);\n            return null;\n        }\n        node.setGuard(this._parseGuard());\n        if (!this.peek(TokenType.CurlyL)) {\n            this.restoreAtMark(mark);\n            return null;\n        }\n        return this._parseBody(node, this._parseMixInBodyDeclaration.bind(this));\n    };\n    LESSParser.prototype._parseMixInBodyDeclaration = function () {\n        return this._parseFontFace() || this._parseRuleSetDeclaration();\n    };\n    LESSParser.prototype._parseMixinDeclarationIdentifier = function () {\n        var identifier;\n        if (this.peekDelim('#') || this.peekDelim('.')) {\n            identifier = this.create(nodes.Identifier);\n            this.consumeToken(); // # or .\n            if (this.hasWhitespace() || !identifier.addChild(this._parseIdent())) {\n                return null;\n            }\n        }\n        else if (this.peek(TokenType.Hash)) {\n            identifier = this.create(nodes.Identifier);\n            this.consumeToken(); // TokenType.Hash\n        }\n        else {\n            return null;\n        }\n        identifier.referenceTypes = [nodes.ReferenceType.Mixin];\n        return this.finish(identifier);\n    };\n    LESSParser.prototype._parsePseudo = function () {\n        if (!this.peek(TokenType.Colon)) {\n            return null;\n        }\n        var mark = this.mark();\n        var node = this.create(nodes.ExtendsReference);\n        this.consumeToken(); // :\n        if (this.acceptIdent('extend')) {\n            return this._completeExtends(node);\n        }\n        this.restoreAtMark(mark);\n        return _super.prototype._parsePseudo.call(this);\n    };\n    LESSParser.prototype._parseExtend = function () {\n        if (!this.peekDelim('&')) {\n            return null;\n        }\n        var mark = this.mark();\n        var node = this.create(nodes.ExtendsReference);\n        this.consumeToken(); // &\n        if (this.hasWhitespace() || !this.accept(TokenType.Colon) || !this.acceptIdent('extend')) {\n            this.restoreAtMark(mark);\n            return null;\n        }\n        return this._completeExtends(node);\n    };\n    LESSParser.prototype._completeExtends = function (node) {\n        if (!this.accept(TokenType.ParenthesisL)) {\n            return this.finish(node, ParseError.LeftParenthesisExpected);\n        }\n        var selectors = node.getSelectors();\n        if (!selectors.addChild(this._parseSelector(true))) {\n            return this.finish(node, ParseError.SelectorExpected);\n        }\n        while (this.accept(TokenType.Comma)) {\n            if (!selectors.addChild(this._parseSelector(true))) {\n                return this.finish(node, ParseError.SelectorExpected);\n            }\n        }\n        if (!this.accept(TokenType.ParenthesisR)) {\n            return this.finish(node, ParseError.RightParenthesisExpected);\n        }\n        return this.finish(node);\n    };\n    LESSParser.prototype._parseDetachedRuleSetMixin = function () {\n        if (!this.peek(TokenType.AtKeyword)) {\n            return null;\n        }\n        var mark = this.mark();\n        var node = this.create(nodes.MixinReference);\n        if (node.addChild(this._parseVariable(true)) && (this.hasWhitespace() || !this.accept(TokenType.ParenthesisL))) {\n            this.restoreAtMark(mark);\n            return null;\n        }\n        if (!this.accept(TokenType.ParenthesisR)) {\n            return this.finish(node, ParseError.RightParenthesisExpected);\n        }\n        return this.finish(node);\n    };\n    LESSParser.prototype._tryParseMixinReference = function (atRoot) {\n        if (atRoot === void 0) { atRoot = true; }\n        var mark = this.mark();\n        var node = this.create(nodes.MixinReference);\n        var identifier = this._parseMixinDeclarationIdentifier();\n        while (identifier) {\n            this.acceptDelim('>');\n            var nextId = this._parseMixinDeclarationIdentifier();\n            if (nextId) {\n                node.getNamespaces().addChild(identifier);\n                identifier = nextId;\n            }\n            else {\n                break;\n            }\n        }\n        if (!node.setIdentifier(identifier)) {\n            this.restoreAtMark(mark);\n            return null;\n        }\n        var hasArguments = false;\n        if (this.accept(TokenType.ParenthesisL)) {\n            hasArguments = true;\n            if (node.getArguments().addChild(this._parseMixinArgument())) {\n                while (this.accept(TokenType.Comma) || this.accept(TokenType.SemiColon)) {\n                    if (this.peek(TokenType.ParenthesisR)) {\n                        break;\n                    }\n                    if (!node.getArguments().addChild(this._parseMixinArgument())) {\n                        return this.finish(node, ParseError.ExpressionExpected);\n                    }\n                }\n            }\n            if (!this.accept(TokenType.ParenthesisR)) {\n                return this.finish(node, ParseError.RightParenthesisExpected);\n            }\n            identifier.referenceTypes = [nodes.ReferenceType.Mixin];\n        }\n        else {\n            identifier.referenceTypes = [nodes.ReferenceType.Mixin, nodes.ReferenceType.Rule];\n        }\n        if (this.peek(TokenType.BracketL)) {\n            if (!atRoot) {\n                this._addLookupChildren(node);\n            }\n        }\n        else {\n            node.addChild(this._parsePrio());\n        }\n        if (!hasArguments && !this.peek(TokenType.SemiColon) && !this.peek(TokenType.CurlyR) && !this.peek(TokenType.EOF)) {\n            this.restoreAtMark(mark);\n            return null;\n        }\n        return this.finish(node);\n    };\n    LESSParser.prototype._parseMixinArgument = function () {\n        // [variableName ':'] expression | variableName '...'\n        var node = this.create(nodes.FunctionArgument);\n        var pos = this.mark();\n        var argument = this._parseVariable();\n        if (argument) {\n            if (!this.accept(TokenType.Colon)) {\n                this.restoreAtMark(pos);\n            }\n            else {\n                node.setIdentifier(argument);\n            }\n        }\n        if (node.setValue(this._parseDetachedRuleSet() || this._parseExpr(true))) {\n            return this.finish(node);\n        }\n        this.restoreAtMark(pos);\n        return null;\n    };\n    LESSParser.prototype._parseMixinParameter = function () {\n        var node = this.create(nodes.FunctionParameter);\n        // special rest variable: @rest...\n        if (this.peekKeyword('@rest')) {\n            var restNode = this.create(nodes.Node);\n            this.consumeToken();\n            if (!this.accept(lessScanner.Ellipsis)) {\n                return this.finish(node, ParseError.DotExpected, [], [TokenType.Comma, TokenType.ParenthesisR]);\n            }\n            node.setIdentifier(this.finish(restNode));\n            return this.finish(node);\n        }\n        // special const args: ...\n        if (this.peek(lessScanner.Ellipsis)) {\n            var varargsNode = this.create(nodes.Node);\n            this.consumeToken();\n            node.setIdentifier(this.finish(varargsNode));\n            return this.finish(node);\n        }\n        var hasContent = false;\n        // default variable declaration: @param: 12 or @name\n        if (node.setIdentifier(this._parseVariable())) {\n            this.accept(TokenType.Colon);\n            hasContent = true;\n        }\n        if (!node.setDefaultValue(this._parseDetachedRuleSet() || this._parseExpr(true)) && !hasContent) {\n            return null;\n        }\n        return this.finish(node);\n    };\n    LESSParser.prototype._parseGuard = function () {\n        if (!this.peekIdent('when')) {\n            return null;\n        }\n        var node = this.create(nodes.LessGuard);\n        this.consumeToken(); // when\n        node.isNegated = this.acceptIdent('not');\n        if (!node.getConditions().addChild(this._parseGuardCondition())) {\n            return this.finish(node, ParseError.ConditionExpected);\n        }\n        while (this.acceptIdent('and') || this.accept(TokenType.Comma)) {\n            if (!node.getConditions().addChild(this._parseGuardCondition())) {\n                return this.finish(node, ParseError.ConditionExpected);\n            }\n        }\n        return this.finish(node);\n    };\n    LESSParser.prototype._parseGuardCondition = function () {\n        if (!this.peek(TokenType.ParenthesisL)) {\n            return null;\n        }\n        var node = this.create(nodes.GuardCondition);\n        this.consumeToken(); // ParenthesisL\n        if (!node.addChild(this._parseExpr())) {\n            // empty (?)\n        }\n        if (!this.accept(TokenType.ParenthesisR)) {\n            return this.finish(node, ParseError.RightParenthesisExpected);\n        }\n        return this.finish(node);\n    };\n    LESSParser.prototype._parseFunction = function () {\n        var pos = this.mark();\n        var node = this.create(nodes.Function);\n        if (!node.setIdentifier(this._parseFunctionIdentifier())) {\n            return null;\n        }\n        if (this.hasWhitespace() || !this.accept(TokenType.ParenthesisL)) {\n            this.restoreAtMark(pos);\n            return null;\n        }\n        if (node.getArguments().addChild(this._parseMixinArgument())) {\n            while (this.accept(TokenType.Comma) || this.accept(TokenType.SemiColon)) {\n                if (this.peek(TokenType.ParenthesisR)) {\n                    break;\n                }\n                if (!node.getArguments().addChild(this._parseMixinArgument())) {\n                    return this.finish(node, ParseError.ExpressionExpected);\n                }\n            }\n        }\n        if (!this.accept(TokenType.ParenthesisR)) {\n            return this.finish(node, ParseError.RightParenthesisExpected);\n        }\n        return this.finish(node);\n    };\n    LESSParser.prototype._parseFunctionIdentifier = function () {\n        if (this.peekDelim('%')) {\n            var node = this.create(nodes.Identifier);\n            node.referenceTypes = [nodes.ReferenceType.Function];\n            this.consumeToken();\n            return this.finish(node);\n        }\n        return _super.prototype._parseFunctionIdentifier.call(this);\n    };\n    LESSParser.prototype._parseURLArgument = function () {\n        var pos = this.mark();\n        var node = _super.prototype._parseURLArgument.call(this);\n        if (!node || !this.peek(TokenType.ParenthesisR)) {\n            this.restoreAtMark(pos);\n            var node_2 = this.create(nodes.Node);\n            node_2.addChild(this._parseBinaryExpr());\n            return this.finish(node_2);\n        }\n        return node;\n    };\n    return LESSParser;\n}(cssParser.Parser));\nexport { LESSParser };\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { CSSCompletion } from './cssCompletion.js';\nimport { CompletionItemKind, InsertTextFormat, TextEdit } from '../cssLanguageTypes.js';\nimport * as nls from '../../../fillers/vscode-nls.js';\nvar localize = nls.loadMessageBundle();\nvar LESSCompletion = /** @class */ (function (_super) {\n    __extends(LESSCompletion, _super);\n    function LESSCompletion(lsOptions, cssDataManager) {\n        return _super.call(this, '@', lsOptions, cssDataManager) || this;\n    }\n    LESSCompletion.prototype.createFunctionProposals = function (proposals, existingNode, sortToEnd, result) {\n        for (var _i = 0, proposals_1 = proposals; _i < proposals_1.length; _i++) {\n            var p = proposals_1[_i];\n            var item = {\n                label: p.name,\n                detail: p.example,\n                documentation: p.description,\n                textEdit: TextEdit.replace(this.getCompletionRange(existingNode), p.name + '($0)'),\n                insertTextFormat: InsertTextFormat.Snippet,\n                kind: CompletionItemKind.Function\n            };\n            if (sortToEnd) {\n                item.sortText = 'z';\n            }\n            result.items.push(item);\n        }\n        return result;\n    };\n    LESSCompletion.prototype.getTermProposals = function (entry, existingNode, result) {\n        var functions = LESSCompletion.builtInProposals;\n        if (entry) {\n            functions = functions.filter(function (f) { return !f.type || !entry.restrictions || entry.restrictions.indexOf(f.type) !== -1; });\n        }\n        this.createFunctionProposals(functions, existingNode, true, result);\n        return _super.prototype.getTermProposals.call(this, entry, existingNode, result);\n    };\n    LESSCompletion.prototype.getColorProposals = function (entry, existingNode, result) {\n        this.createFunctionProposals(LESSCompletion.colorProposals, existingNode, false, result);\n        return _super.prototype.getColorProposals.call(this, entry, existingNode, result);\n    };\n    LESSCompletion.prototype.getCompletionsForDeclarationProperty = function (declaration, result) {\n        this.getCompletionsForSelector(null, true, result);\n        return _super.prototype.getCompletionsForDeclarationProperty.call(this, declaration, result);\n    };\n    LESSCompletion.builtInProposals = [\n        // Boolean functions\n        {\n            'name': 'if',\n            'example': 'if(condition, trueValue [, falseValue]);',\n            'description': localize('less.builtin.if', 'returns one of two values depending on a condition.')\n        },\n        {\n            'name': 'boolean',\n            'example': 'boolean(condition);',\n            'description': localize('less.builtin.boolean', '\"store\" a boolean test for later evaluation in a guard or if().')\n        },\n        // List functions\n        {\n            'name': 'length',\n            'example': 'length(@list);',\n            'description': localize('less.builtin.length', 'returns the number of elements in a value list')\n        },\n        {\n            'name': 'extract',\n            'example': 'extract(@list, index);',\n            'description': localize('less.builtin.extract', 'returns a value at the specified position in the list')\n        },\n        {\n            'name': 'range',\n            'example': 'range([start, ] end [, step]);',\n            'description': localize('less.builtin.range', 'generate a list spanning a range of values')\n        },\n        {\n            'name': 'each',\n            'example': 'each(@list, ruleset);',\n            'description': localize('less.builtin.each', 'bind the evaluation of a ruleset to each member of a list.')\n        },\n        // Other built-ins\n        {\n            'name': 'escape',\n            'example': 'escape(@string);',\n            'description': localize('less.builtin.escape', 'URL encodes a string')\n        },\n        {\n            'name': 'e',\n            'example': 'e(@string);',\n            'description': localize('less.builtin.e', 'escape string content')\n        },\n        {\n            'name': 'replace',\n            'example': 'replace(@string, @pattern, @replacement[, @flags]);',\n            'description': localize('less.builtin.replace', 'string replace')\n        },\n        {\n            'name': 'unit',\n            'example': 'unit(@dimension, [@unit: \\'\\']);',\n            'description': localize('less.builtin.unit', 'remove or change the unit of a dimension')\n        },\n        {\n            'name': 'color',\n            'example': 'color(@string);',\n            'description': localize('less.builtin.color', 'parses a string to a color'),\n            'type': 'color'\n        },\n        {\n            'name': 'convert',\n            'example': 'convert(@value, unit);',\n            'description': localize('less.builtin.convert', 'converts numbers from one type into another')\n        },\n        {\n            'name': 'data-uri',\n            'example': 'data-uri([mimetype,] url);',\n            'description': localize('less.builtin.data-uri', 'inlines a resource and falls back to `url()`'),\n            'type': 'url'\n        },\n        {\n            'name': 'abs',\n            'description': localize('less.builtin.abs', 'absolute value of a number'),\n            'example': 'abs(number);'\n        },\n        {\n            'name': 'acos',\n            'description': localize('less.builtin.acos', 'arccosine - inverse of cosine function'),\n            'example': 'acos(number);'\n        },\n        {\n            'name': 'asin',\n            'description': localize('less.builtin.asin', 'arcsine - inverse of sine function'),\n            'example': 'asin(number);'\n        },\n        {\n            'name': 'ceil',\n            'example': 'ceil(@number);',\n            'description': localize('less.builtin.ceil', 'rounds up to an integer')\n        },\n        {\n            'name': 'cos',\n            'description': localize('less.builtin.cos', 'cosine function'),\n            'example': 'cos(number);'\n        },\n        {\n            'name': 'floor',\n            'description': localize('less.builtin.floor', 'rounds down to an integer'),\n            'example': 'floor(@number);'\n        },\n        {\n            'name': 'percentage',\n            'description': localize('less.builtin.percentage', 'converts to a %, e.g. 0.5 > 50%'),\n            'example': 'percentage(@number);',\n            'type': 'percentage'\n        },\n        {\n            'name': 'round',\n            'description': localize('less.builtin.round', 'rounds a number to a number of places'),\n            'example': 'round(number, [places: 0]);'\n        },\n        {\n            'name': 'sqrt',\n            'description': localize('less.builtin.sqrt', 'calculates square root of a number'),\n            'example': 'sqrt(number);'\n        },\n        {\n            'name': 'sin',\n            'description': localize('less.builtin.sin', 'sine function'),\n            'example': 'sin(number);'\n        },\n        {\n            'name': 'tan',\n            'description': localize('less.builtin.tan', 'tangent function'),\n            'example': 'tan(number);'\n        },\n        {\n            'name': 'atan',\n            'description': localize('less.builtin.atan', 'arctangent - inverse of tangent function'),\n            'example': 'atan(number);'\n        },\n        {\n            'name': 'pi',\n            'description': localize('less.builtin.pi', 'returns pi'),\n            'example': 'pi();'\n        },\n        {\n            'name': 'pow',\n            'description': localize('less.builtin.pow', 'first argument raised to the power of the second argument'),\n            'example': 'pow(@base, @exponent);'\n        },\n        {\n            'name': 'mod',\n            'description': localize('less.builtin.mod', 'first argument modulus second argument'),\n            'example': 'mod(number, number);'\n        },\n        {\n            'name': 'min',\n            'description': localize('less.builtin.min', 'returns the lowest of one or more values'),\n            'example': 'min(@x, @y);'\n        },\n        {\n            'name': 'max',\n            'description': localize('less.builtin.max', 'returns the lowest of one or more values'),\n            'example': 'max(@x, @y);'\n        }\n    ];\n    LESSCompletion.colorProposals = [\n        {\n            'name': 'argb',\n            'example': 'argb(@color);',\n            'description': localize('less.builtin.argb', 'creates a #AARRGGBB')\n        },\n        {\n            'name': 'hsl',\n            'example': 'hsl(@hue, @saturation, @lightness);',\n            'description': localize('less.builtin.hsl', 'creates a color')\n        },\n        {\n            'name': 'hsla',\n            'example': 'hsla(@hue, @saturation, @lightness, @alpha);',\n            'description': localize('less.builtin.hsla', 'creates a color')\n        },\n        {\n            'name': 'hsv',\n            'example': 'hsv(@hue, @saturation, @value);',\n            'description': localize('less.builtin.hsv', 'creates a color')\n        },\n        {\n            'name': 'hsva',\n            'example': 'hsva(@hue, @saturation, @value, @alpha);',\n            'description': localize('less.builtin.hsva', 'creates a color')\n        },\n        {\n            'name': 'hue',\n            'example': 'hue(@color);',\n            'description': localize('less.builtin.hue', 'returns the `hue` channel of `@color` in the HSL space')\n        },\n        {\n            'name': 'saturation',\n            'example': 'saturation(@color);',\n            'description': localize('less.builtin.saturation', 'returns the `saturation` channel of `@color` in the HSL space')\n        },\n        {\n            'name': 'lightness',\n            'example': 'lightness(@color);',\n            'description': localize('less.builtin.lightness', 'returns the `lightness` channel of `@color` in the HSL space')\n        },\n        {\n            'name': 'hsvhue',\n            'example': 'hsvhue(@color);',\n            'description': localize('less.builtin.hsvhue', 'returns the `hue` channel of `@color` in the HSV space')\n        },\n        {\n            'name': 'hsvsaturation',\n            'example': 'hsvsaturation(@color);',\n            'description': localize('less.builtin.hsvsaturation', 'returns the `saturation` channel of `@color` in the HSV space')\n        },\n        {\n            'name': 'hsvvalue',\n            'example': 'hsvvalue(@color);',\n            'description': localize('less.builtin.hsvvalue', 'returns the `value` channel of `@color` in the HSV space')\n        },\n        {\n            'name': 'red',\n            'example': 'red(@color);',\n            'description': localize('less.builtin.red', 'returns the `red` channel of `@color`')\n        },\n        {\n            'name': 'green',\n            'example': 'green(@color);',\n            'description': localize('less.builtin.green', 'returns the `green` channel of `@color`')\n        },\n        {\n            'name': 'blue',\n            'example': 'blue(@color);',\n            'description': localize('less.builtin.blue', 'returns the `blue` channel of `@color`')\n        },\n        {\n            'name': 'alpha',\n            'example': 'alpha(@color);',\n            'description': localize('less.builtin.alpha', 'returns the `alpha` channel of `@color`')\n        },\n        {\n            'name': 'luma',\n            'example': 'luma(@color);',\n            'description': localize('less.builtin.luma', 'returns the `luma` value (perceptual brightness) of `@color`')\n        },\n        {\n            'name': 'saturate',\n            'example': 'saturate(@color, 10%);',\n            'description': localize('less.builtin.saturate', 'return `@color` 10% points more saturated')\n        },\n        {\n            'name': 'desaturate',\n            'example': 'desaturate(@color, 10%);',\n            'description': localize('less.builtin.desaturate', 'return `@color` 10% points less saturated')\n        },\n        {\n            'name': 'lighten',\n            'example': 'lighten(@color, 10%);',\n            'description': localize('less.builtin.lighten', 'return `@color` 10% points lighter')\n        },\n        {\n            'name': 'darken',\n            'example': 'darken(@color, 10%);',\n            'description': localize('less.builtin.darken', 'return `@color` 10% points darker')\n        },\n        {\n            'name': 'fadein',\n            'example': 'fadein(@color, 10%);',\n            'description': localize('less.builtin.fadein', 'return `@color` 10% points less transparent')\n        },\n        {\n            'name': 'fadeout',\n            'example': 'fadeout(@color, 10%);',\n            'description': localize('less.builtin.fadeout', 'return `@color` 10% points more transparent')\n        },\n        {\n            'name': 'fade',\n            'example': 'fade(@color, 50%);',\n            'description': localize('less.builtin.fade', 'return `@color` with 50% transparency')\n        },\n        {\n            'name': 'spin',\n            'example': 'spin(@color, 10);',\n            'description': localize('less.builtin.spin', 'return `@color` with a 10 degree larger in hue')\n        },\n        {\n            'name': 'mix',\n            'example': 'mix(@color1, @color2, [@weight: 50%]);',\n            'description': localize('less.builtin.mix', 'return a mix of `@color1` and `@color2`')\n        },\n        {\n            'name': 'greyscale',\n            'example': 'greyscale(@color);',\n            'description': localize('less.builtin.greyscale', 'returns a grey, 100% desaturated color'),\n        },\n        {\n            'name': 'contrast',\n            'example': 'contrast(@color1, [@darkcolor: black], [@lightcolor: white], [@threshold: 43%]);',\n            'description': localize('less.builtin.contrast', 'return `@darkcolor` if `@color1 is> 43% luma` otherwise return `@lightcolor`, see notes')\n        },\n        {\n            'name': 'multiply',\n            'example': 'multiply(@color1, @color2);'\n        },\n        {\n            'name': 'screen',\n            'example': 'screen(@color1, @color2);'\n        },\n        {\n            'name': 'overlay',\n            'example': 'overlay(@color1, @color2);'\n        },\n        {\n            'name': 'softlight',\n            'example': 'softlight(@color1, @color2);'\n        },\n        {\n            'name': 'hardlight',\n            'example': 'hardlight(@color1, @color2);'\n        },\n        {\n            'name': 'difference',\n            'example': 'difference(@color1, @color2);'\n        },\n        {\n            'name': 'exclusion',\n            'example': 'exclusion(@color1, @color2);'\n        },\n        {\n            'name': 'average',\n            'example': 'average(@color1, @color2);'\n        },\n        {\n            'name': 'negation',\n            'example': 'negation(@color1, @color2);'\n        }\n    ];\n    return LESSCompletion;\n}(CSSCompletion));\nexport { LESSCompletion };\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nimport { CSSNavigation } from './cssNavigation.js';\nimport * as nodes from '../parser/cssNodes.js';\nimport { URI } from '../../vscode-uri/index.js';\nimport { startsWith } from '../utils/strings.js';\nimport { extname } from '../utils/resources.js';\nvar SCSSNavigation = /** @class */ (function (_super) {\n    __extends(SCSSNavigation, _super);\n    function SCSSNavigation(fileSystemProvider) {\n        return _super.call(this, fileSystemProvider) || this;\n    }\n    SCSSNavigation.prototype.isRawStringDocumentLinkNode = function (node) {\n        return (_super.prototype.isRawStringDocumentLinkNode.call(this, node) ||\n            node.type === nodes.NodeType.Use ||\n            node.type === nodes.NodeType.Forward);\n    };\n    SCSSNavigation.prototype.resolveRelativeReference = function (ref, documentUri, documentContext) {\n        return __awaiter(this, void 0, void 0, function () {\n            function toPathVariations(uri) {\n                // No valid path\n                if (uri.path === '') {\n                    return undefined;\n                }\n                // No variation for links that ends with suffix\n                if (uri.path.endsWith('.scss') || uri.path.endsWith('.css')) {\n                    return undefined;\n                }\n                // If a link is like a/, try resolving a/index.scss and a/_index.scss\n                if (uri.path.endsWith('/')) {\n                    return [\n                        uri.with({ path: uri.path + 'index.scss' }).toString(),\n                        uri.with({ path: uri.path + '_index.scss' }).toString()\n                    ];\n                }\n                // Use `uri.path` since it's normalized to use `/` in all platforms\n                var pathFragments = uri.path.split('/');\n                var basename = pathFragments[pathFragments.length - 1];\n                var pathWithoutBasename = uri.path.slice(0, -basename.length);\n                // No variation for links such as _a\n                if (basename.startsWith('_')) {\n                    if (uri.path.endsWith('.scss')) {\n                        return undefined;\n                    }\n                    else {\n                        return [uri.with({ path: uri.path + '.scss' }).toString()];\n                    }\n                }\n                var normalizedBasename = basename + '.scss';\n                var documentUriWithBasename = function (newBasename) {\n                    return uri.with({ path: pathWithoutBasename + newBasename }).toString();\n                };\n                var normalizedPath = documentUriWithBasename(normalizedBasename);\n                var underScorePath = documentUriWithBasename('_' + normalizedBasename);\n                var indexPath = documentUriWithBasename(normalizedBasename.slice(0, -5) + '/index.scss');\n                var indexUnderscoreUri = documentUriWithBasename(normalizedBasename.slice(0, -5) + '/_index.scss');\n                var cssPath = documentUriWithBasename(normalizedBasename.slice(0, -5) + '.css');\n                return [normalizedPath, underScorePath, indexPath, indexUnderscoreUri, cssPath];\n            }\n            var target, parsedUri, pathVariations, j, e_1;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if (startsWith(ref, 'sass:')) {\n                            return [2 /*return*/, undefined]; // sass library\n                        }\n                        return [4 /*yield*/, _super.prototype.resolveRelativeReference.call(this, ref, documentUri, documentContext)];\n                    case 1:\n                        target = _a.sent();\n                        if (!(this.fileSystemProvider && target && extname(target).length === 0)) return [3 /*break*/, 8];\n                        _a.label = 2;\n                    case 2:\n                        _a.trys.push([2, 7, , 8]);\n                        parsedUri = URI.parse(target);\n                        pathVariations = toPathVariations(parsedUri);\n                        if (!pathVariations) return [3 /*break*/, 6];\n                        j = 0;\n                        _a.label = 3;\n                    case 3:\n                        if (!(j < pathVariations.length)) return [3 /*break*/, 6];\n                        return [4 /*yield*/, this.fileExists(pathVariations[j])];\n                    case 4:\n                        if (_a.sent()) {\n                            return [2 /*return*/, pathVariations[j]];\n                        }\n                        _a.label = 5;\n                    case 5:\n                        j++;\n                        return [3 /*break*/, 3];\n                    case 6: return [2 /*return*/, undefined];\n                    case 7:\n                        e_1 = _a.sent();\n                        return [3 /*break*/, 8];\n                    case 8: return [2 /*return*/, target];\n                }\n            });\n        });\n    };\n    return SCSSNavigation;\n}(CSSNavigation));\nexport { SCSSNavigation };\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport * as cssService from './_deps/vscode-css-languageservice/cssLanguageService.js';\nimport { languages, editor, Uri, Range, MarkerSeverity } from './fillers/monaco-editor-core.js';\n// --- diagnostics --- ---\nvar DiagnosticsAdapter = /** @class */ (function () {\n    function DiagnosticsAdapter(_languageId, _worker, defaults) {\n        var _this = this;\n        this._languageId = _languageId;\n        this._worker = _worker;\n        this._disposables = [];\n        this._listener = Object.create(null);\n        var onModelAdd = function (model) {\n            var modeId = model.getModeId();\n            if (modeId !== _this._languageId) {\n                return;\n            }\n            var handle;\n            _this._listener[model.uri.toString()] = model.onDidChangeContent(function () {\n                window.clearTimeout(handle);\n                handle = window.setTimeout(function () { return _this._doValidate(model.uri, modeId); }, 500);\n            });\n            _this._doValidate(model.uri, modeId);\n        };\n        var onModelRemoved = function (model) {\n            editor.setModelMarkers(model, _this._languageId, []);\n            var uriStr = model.uri.toString();\n            var listener = _this._listener[uriStr];\n            if (listener) {\n                listener.dispose();\n                delete _this._listener[uriStr];\n            }\n        };\n        this._disposables.push(editor.onDidCreateModel(onModelAdd));\n        this._disposables.push(editor.onWillDisposeModel(onModelRemoved));\n        this._disposables.push(editor.onDidChangeModelLanguage(function (event) {\n            onModelRemoved(event.model);\n            onModelAdd(event.model);\n        }));\n        defaults.onDidChange(function (_) {\n            editor.getModels().forEach(function (model) {\n                if (model.getModeId() === _this._languageId) {\n                    onModelRemoved(model);\n                    onModelAdd(model);\n                }\n            });\n        });\n        this._disposables.push({\n            dispose: function () {\n                for (var key in _this._listener) {\n                    _this._listener[key].dispose();\n                }\n            }\n        });\n        editor.getModels().forEach(onModelAdd);\n    }\n    DiagnosticsAdapter.prototype.dispose = function () {\n        this._disposables.forEach(function (d) { return d && d.dispose(); });\n        this._disposables = [];\n    };\n    DiagnosticsAdapter.prototype._doValidate = function (resource, languageId) {\n        this._worker(resource)\n            .then(function (worker) {\n            return worker.doValidation(resource.toString());\n        })\n            .then(function (diagnostics) {\n            var markers = diagnostics.map(function (d) { return toDiagnostics(resource, d); });\n            var model = editor.getModel(resource);\n            if (model.getModeId() === languageId) {\n                editor.setModelMarkers(model, languageId, markers);\n            }\n        })\n            .then(undefined, function (err) {\n            console.error(err);\n        });\n    };\n    return DiagnosticsAdapter;\n}());\nexport { DiagnosticsAdapter };\nfunction toSeverity(lsSeverity) {\n    switch (lsSeverity) {\n        case cssService.DiagnosticSeverity.Error:\n            return MarkerSeverity.Error;\n        case cssService.DiagnosticSeverity.Warning:\n            return MarkerSeverity.Warning;\n        case cssService.DiagnosticSeverity.Information:\n            return MarkerSeverity.Info;\n        case cssService.DiagnosticSeverity.Hint:\n            return MarkerSeverity.Hint;\n        default:\n            return MarkerSeverity.Info;\n    }\n}\nfunction toDiagnostics(resource, diag) {\n    var code = typeof diag.code === 'number' ? String(diag.code) : diag.code;\n    return {\n        severity: toSeverity(diag.severity),\n        startLineNumber: diag.range.start.line + 1,\n        startColumn: diag.range.start.character + 1,\n        endLineNumber: diag.range.end.line + 1,\n        endColumn: diag.range.end.character + 1,\n        message: diag.message,\n        code: code,\n        source: diag.source\n    };\n}\n// --- completion ------\nfunction fromPosition(position) {\n    if (!position) {\n        return void 0;\n    }\n    return { character: position.column - 1, line: position.lineNumber - 1 };\n}\nfunction fromRange(range) {\n    if (!range) {\n        return void 0;\n    }\n    return {\n        start: {\n            line: range.startLineNumber - 1,\n            character: range.startColumn - 1\n        },\n        end: { line: range.endLineNumber - 1, character: range.endColumn - 1 }\n    };\n}\nfunction toRange(range) {\n    if (!range) {\n        return void 0;\n    }\n    return new Range(range.start.line + 1, range.start.character + 1, range.end.line + 1, range.end.character + 1);\n}\nfunction isInsertReplaceEdit(edit) {\n    return (typeof edit.insert !== 'undefined' &&\n        typeof edit.replace !== 'undefined');\n}\nfunction toCompletionItemKind(kind) {\n    var mItemKind = languages.CompletionItemKind;\n    switch (kind) {\n        case cssService.CompletionItemKind.Text:\n            return mItemKind.Text;\n        case cssService.CompletionItemKind.Method:\n            return mItemKind.Method;\n        case cssService.CompletionItemKind.Function:\n            return mItemKind.Function;\n        case cssService.CompletionItemKind.Constructor:\n            return mItemKind.Constructor;\n        case cssService.CompletionItemKind.Field:\n            return mItemKind.Field;\n        case cssService.CompletionItemKind.Variable:\n            return mItemKind.Variable;\n        case cssService.CompletionItemKind.Class:\n            return mItemKind.Class;\n        case cssService.CompletionItemKind.Interface:\n            return mItemKind.Interface;\n        case cssService.CompletionItemKind.Module:\n            return mItemKind.Module;\n        case cssService.CompletionItemKind.Property:\n            return mItemKind.Property;\n        case cssService.CompletionItemKind.Unit:\n            return mItemKind.Unit;\n        case cssService.CompletionItemKind.Value:\n            return mItemKind.Value;\n        case cssService.CompletionItemKind.Enum:\n            return mItemKind.Enum;\n        case cssService.CompletionItemKind.Keyword:\n            return mItemKind.Keyword;\n        case cssService.CompletionItemKind.Snippet:\n            return mItemKind.Snippet;\n        case cssService.CompletionItemKind.Color:\n            return mItemKind.Color;\n        case cssService.CompletionItemKind.File:\n            return mItemKind.File;\n        case cssService.CompletionItemKind.Reference:\n            return mItemKind.Reference;\n    }\n    return mItemKind.Property;\n}\nfunction toTextEdit(textEdit) {\n    if (!textEdit) {\n        return void 0;\n    }\n    return {\n        range: toRange(textEdit.range),\n        text: textEdit.newText\n    };\n}\nvar CompletionAdapter = /** @class */ (function () {\n    function CompletionAdapter(_worker) {\n        this._worker = _worker;\n    }\n    Object.defineProperty(CompletionAdapter.prototype, \"triggerCharacters\", {\n        get: function () {\n            return [' ', ':'];\n        },\n        enumerable: false,\n        configurable: true\n    });\n    CompletionAdapter.prototype.provideCompletionItems = function (model, position, context, token) {\n        var resource = model.uri;\n        return this._worker(resource)\n            .then(function (worker) {\n            return worker.doComplete(resource.toString(), fromPosition(position));\n        })\n            .then(function (info) {\n            if (!info) {\n                return;\n            }\n            var wordInfo = model.getWordUntilPosition(position);\n            var wordRange = new Range(position.lineNumber, wordInfo.startColumn, position.lineNumber, wordInfo.endColumn);\n            var items = info.items.map(function (entry) {\n                var item = {\n                    label: entry.label,\n                    insertText: entry.insertText || entry.label,\n                    sortText: entry.sortText,\n                    filterText: entry.filterText,\n                    documentation: entry.documentation,\n                    detail: entry.detail,\n                    range: wordRange,\n                    kind: toCompletionItemKind(entry.kind)\n                };\n                if (entry.textEdit) {\n                    if (isInsertReplaceEdit(entry.textEdit)) {\n                        item.range = {\n                            insert: toRange(entry.textEdit.insert),\n                            replace: toRange(entry.textEdit.replace)\n                        };\n                    }\n                    else {\n                        item.range = toRange(entry.textEdit.range);\n                    }\n                    item.insertText = entry.textEdit.newText;\n                }\n                if (entry.additionalTextEdits) {\n                    item.additionalTextEdits = entry.additionalTextEdits.map(toTextEdit);\n                }\n                if (entry.insertTextFormat === cssService.InsertTextFormat.Snippet) {\n                    item.insertTextRules = languages.CompletionItemInsertTextRule.InsertAsSnippet;\n                }\n                return item;\n            });\n            return {\n                isIncomplete: info.isIncomplete,\n                suggestions: items\n            };\n        });\n    };\n    return CompletionAdapter;\n}());\nexport { CompletionAdapter };\nfunction isMarkupContent(thing) {\n    return (thing && typeof thing === 'object' && typeof thing.kind === 'string');\n}\nfunction toMarkdownString(entry) {\n    if (typeof entry === 'string') {\n        return {\n            value: entry\n        };\n    }\n    if (isMarkupContent(entry)) {\n        if (entry.kind === 'plaintext') {\n            return {\n                value: entry.value.replace(/[\\\\`*_{}[\\]()#+\\-.!]/g, '\\\\$&')\n            };\n        }\n        return {\n            value: entry.value\n        };\n    }\n    return { value: '```' + entry.language + '\\n' + entry.value + '\\n```\\n' };\n}\nfunction toMarkedStringArray(contents) {\n    if (!contents) {\n        return void 0;\n    }\n    if (Array.isArray(contents)) {\n        return contents.map(toMarkdownString);\n    }\n    return [toMarkdownString(contents)];\n}\n// --- hover ------\nvar HoverAdapter = /** @class */ (function () {\n    function HoverAdapter(_worker) {\n        this._worker = _worker;\n    }\n    HoverAdapter.prototype.provideHover = function (model, position, token) {\n        var resource = model.uri;\n        return this._worker(resource)\n            .then(function (worker) {\n            return worker.doHover(resource.toString(), fromPosition(position));\n        })\n            .then(function (info) {\n            if (!info) {\n                return;\n            }\n            return {\n                range: toRange(info.range),\n                contents: toMarkedStringArray(info.contents)\n            };\n        });\n    };\n    return HoverAdapter;\n}());\nexport { HoverAdapter };\n// --- document highlights ------\nfunction toDocumentHighlightKind(kind) {\n    switch (kind) {\n        case cssService.DocumentHighlightKind.Read:\n            return languages.DocumentHighlightKind.Read;\n        case cssService.DocumentHighlightKind.Write:\n            return languages.DocumentHighlightKind.Write;\n        case cssService.DocumentHighlightKind.Text:\n            return languages.DocumentHighlightKind.Text;\n    }\n    return languages.DocumentHighlightKind.Text;\n}\nvar DocumentHighlightAdapter = /** @class */ (function () {\n    function DocumentHighlightAdapter(_worker) {\n        this._worker = _worker;\n    }\n    DocumentHighlightAdapter.prototype.provideDocumentHighlights = function (model, position, token) {\n        var resource = model.uri;\n        return this._worker(resource)\n            .then(function (worker) {\n            return worker.findDocumentHighlights(resource.toString(), fromPosition(position));\n        })\n            .then(function (entries) {\n            if (!entries) {\n                return;\n            }\n            return entries.map(function (entry) {\n                return {\n                    range: toRange(entry.range),\n                    kind: toDocumentHighlightKind(entry.kind)\n                };\n            });\n        });\n    };\n    return DocumentHighlightAdapter;\n}());\nexport { DocumentHighlightAdapter };\n// --- definition ------\nfunction toLocation(location) {\n    return {\n        uri: Uri.parse(location.uri),\n        range: toRange(location.range)\n    };\n}\nvar DefinitionAdapter = /** @class */ (function () {\n    function DefinitionAdapter(_worker) {\n        this._worker = _worker;\n    }\n    DefinitionAdapter.prototype.provideDefinition = function (model, position, token) {\n        var resource = model.uri;\n        return this._worker(resource)\n            .then(function (worker) {\n            return worker.findDefinition(resource.toString(), fromPosition(position));\n        })\n            .then(function (definition) {\n            if (!definition) {\n                return;\n            }\n            return [toLocation(definition)];\n        });\n    };\n    return DefinitionAdapter;\n}());\nexport { DefinitionAdapter };\n// --- references ------\nvar ReferenceAdapter = /** @class */ (function () {\n    function ReferenceAdapter(_worker) {\n        this._worker = _worker;\n    }\n    ReferenceAdapter.prototype.provideReferences = function (model, position, context, token) {\n        var resource = model.uri;\n        return this._worker(resource)\n            .then(function (worker) {\n            return worker.findReferences(resource.toString(), fromPosition(position));\n        })\n            .then(function (entries) {\n            if (!entries) {\n                return;\n            }\n            return entries.map(toLocation);\n        });\n    };\n    return ReferenceAdapter;\n}());\nexport { ReferenceAdapter };\n// --- rename ------\nfunction toWorkspaceEdit(edit) {\n    if (!edit || !edit.changes) {\n        return void 0;\n    }\n    var resourceEdits = [];\n    for (var uri in edit.changes) {\n        var _uri = Uri.parse(uri);\n        // let edits: languages.TextEdit[] = [];\n        for (var _i = 0, _a = edit.changes[uri]; _i < _a.length; _i++) {\n            var e = _a[_i];\n            resourceEdits.push({\n                resource: _uri,\n                edit: {\n                    range: toRange(e.range),\n                    text: e.newText\n                }\n            });\n        }\n    }\n    return {\n        edits: resourceEdits\n    };\n}\nvar RenameAdapter = /** @class */ (function () {\n    function RenameAdapter(_worker) {\n        this._worker = _worker;\n    }\n    RenameAdapter.prototype.provideRenameEdits = function (model, position, newName, token) {\n        var resource = model.uri;\n        return this._worker(resource)\n            .then(function (worker) {\n            return worker.doRename(resource.toString(), fromPosition(position), newName);\n        })\n            .then(function (edit) {\n            return toWorkspaceEdit(edit);\n        });\n    };\n    return RenameAdapter;\n}());\nexport { RenameAdapter };\n// --- document symbols ------\nfunction toSymbolKind(kind) {\n    var mKind = languages.SymbolKind;\n    switch (kind) {\n        case cssService.SymbolKind.File:\n            return mKind.Array;\n        case cssService.SymbolKind.Module:\n            return mKind.Module;\n        case cssService.SymbolKind.Namespace:\n            return mKind.Namespace;\n        case cssService.SymbolKind.Package:\n            return mKind.Package;\n        case cssService.SymbolKind.Class:\n            return mKind.Class;\n        case cssService.SymbolKind.Method:\n            return mKind.Method;\n        case cssService.SymbolKind.Property:\n            return mKind.Property;\n        case cssService.SymbolKind.Field:\n            return mKind.Field;\n        case cssService.SymbolKind.Constructor:\n            return mKind.Constructor;\n        case cssService.SymbolKind.Enum:\n            return mKind.Enum;\n        case cssService.SymbolKind.Interface:\n            return mKind.Interface;\n        case cssService.SymbolKind.Function:\n            return mKind.Function;\n        case cssService.SymbolKind.Variable:\n            return mKind.Variable;\n        case cssService.SymbolKind.Constant:\n            return mKind.Constant;\n        case cssService.SymbolKind.String:\n            return mKind.String;\n        case cssService.SymbolKind.Number:\n            return mKind.Number;\n        case cssService.SymbolKind.Boolean:\n            return mKind.Boolean;\n        case cssService.SymbolKind.Array:\n            return mKind.Array;\n    }\n    return mKind.Function;\n}\nvar DocumentSymbolAdapter = /** @class */ (function () {\n    function DocumentSymbolAdapter(_worker) {\n        this._worker = _worker;\n    }\n    DocumentSymbolAdapter.prototype.provideDocumentSymbols = function (model, token) {\n        var resource = model.uri;\n        return this._worker(resource)\n            .then(function (worker) { return worker.findDocumentSymbols(resource.toString()); })\n            .then(function (items) {\n            if (!items) {\n                return;\n            }\n            return items.map(function (item) { return ({\n                name: item.name,\n                detail: '',\n                containerName: item.containerName,\n                kind: toSymbolKind(item.kind),\n                tags: [],\n                range: toRange(item.location.range),\n                selectionRange: toRange(item.location.range)\n            }); });\n        });\n    };\n    return DocumentSymbolAdapter;\n}());\nexport { DocumentSymbolAdapter };\nvar DocumentColorAdapter = /** @class */ (function () {\n    function DocumentColorAdapter(_worker) {\n        this._worker = _worker;\n    }\n    DocumentColorAdapter.prototype.provideDocumentColors = function (model, token) {\n        var resource = model.uri;\n        return this._worker(resource)\n            .then(function (worker) { return worker.findDocumentColors(resource.toString()); })\n            .then(function (infos) {\n            if (!infos) {\n                return;\n            }\n            return infos.map(function (item) { return ({\n                color: item.color,\n                range: toRange(item.range)\n            }); });\n        });\n    };\n    DocumentColorAdapter.prototype.provideColorPresentations = function (model, info, token) {\n        var resource = model.uri;\n        return this._worker(resource)\n            .then(function (worker) {\n            return worker.getColorPresentations(resource.toString(), info.color, fromRange(info.range));\n        })\n            .then(function (presentations) {\n            if (!presentations) {\n                return;\n            }\n            return presentations.map(function (presentation) {\n                var item = {\n                    label: presentation.label\n                };\n                if (presentation.textEdit) {\n                    item.textEdit = toTextEdit(presentation.textEdit);\n                }\n                if (presentation.additionalTextEdits) {\n                    item.additionalTextEdits = presentation.additionalTextEdits.map(toTextEdit);\n                }\n                return item;\n            });\n        });\n    };\n    return DocumentColorAdapter;\n}());\nexport { DocumentColorAdapter };\nvar FoldingRangeAdapter = /** @class */ (function () {\n    function FoldingRangeAdapter(_worker) {\n        this._worker = _worker;\n    }\n    FoldingRangeAdapter.prototype.provideFoldingRanges = function (model, context, token) {\n        var resource = model.uri;\n        return this._worker(resource)\n            .then(function (worker) { return worker.getFoldingRanges(resource.toString(), context); })\n            .then(function (ranges) {\n            if (!ranges) {\n                return;\n            }\n            return ranges.map(function (range) {\n                var result = {\n                    start: range.startLine + 1,\n                    end: range.endLine + 1\n                };\n                if (typeof range.kind !== 'undefined') {\n                    result.kind = toFoldingRangeKind(range.kind);\n                }\n                return result;\n            });\n        });\n    };\n    return FoldingRangeAdapter;\n}());\nexport { FoldingRangeAdapter };\nfunction toFoldingRangeKind(kind) {\n    switch (kind) {\n        case cssService.FoldingRangeKind.Comment:\n            return languages.FoldingRangeKind.Comment;\n        case cssService.FoldingRangeKind.Imports:\n            return languages.FoldingRangeKind.Imports;\n        case cssService.FoldingRangeKind.Region:\n            return languages.FoldingRangeKind.Region;\n    }\n}\nvar SelectionRangeAdapter = /** @class */ (function () {\n    function SelectionRangeAdapter(_worker) {\n        this._worker = _worker;\n    }\n    SelectionRangeAdapter.prototype.provideSelectionRanges = function (model, positions, token) {\n        var resource = model.uri;\n        return this._worker(resource)\n            .then(function (worker) { return worker.getSelectionRanges(resource.toString(), positions.map(fromPosition)); })\n            .then(function (selectionRanges) {\n            if (!selectionRanges) {\n                return;\n            }\n            return selectionRanges.map(function (selectionRange) {\n                var result = [];\n                while (selectionRange) {\n                    result.push({ range: toRange(selectionRange.range) });\n                    selectionRange = selectionRange.parent;\n                }\n                return result;\n            });\n        });\n    };\n    return SelectionRangeAdapter;\n}());\nexport { SelectionRangeAdapter };\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { WorkerManager } from './workerManager.js';\nimport * as languageFeatures from './languageFeatures.js';\nimport { languages } from './fillers/monaco-editor-core.js';\nexport function setupMode(defaults) {\n    var disposables = [];\n    var providers = [];\n    var client = new WorkerManager(defaults);\n    disposables.push(client);\n    var worker = function () {\n        var uris = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            uris[_i] = arguments[_i];\n        }\n        return client.getLanguageServiceWorker.apply(client, uris);\n    };\n    function registerProviders() {\n        var languageId = defaults.languageId, modeConfiguration = defaults.modeConfiguration;\n        disposeAll(providers);\n        if (modeConfiguration.completionItems) {\n            providers.push(languages.registerCompletionItemProvider(languageId, new languageFeatures.CompletionAdapter(worker)));\n        }\n        if (modeConfiguration.hovers) {\n            providers.push(languages.registerHoverProvider(languageId, new languageFeatures.HoverAdapter(worker)));\n        }\n        if (modeConfiguration.documentHighlights) {\n            providers.push(languages.registerDocumentHighlightProvider(languageId, new languageFeatures.DocumentHighlightAdapter(worker)));\n        }\n        if (modeConfiguration.definitions) {\n            providers.push(languages.registerDefinitionProvider(languageId, new languageFeatures.DefinitionAdapter(worker)));\n        }\n        if (modeConfiguration.references) {\n            providers.push(languages.registerReferenceProvider(languageId, new languageFeatures.ReferenceAdapter(worker)));\n        }\n        if (modeConfiguration.documentSymbols) {\n            providers.push(languages.registerDocumentSymbolProvider(languageId, new languageFeatures.DocumentSymbolAdapter(worker)));\n        }\n        if (modeConfiguration.rename) {\n            providers.push(languages.registerRenameProvider(languageId, new languageFeatures.RenameAdapter(worker)));\n        }\n        if (modeConfiguration.colors) {\n            providers.push(languages.registerColorProvider(languageId, new languageFeatures.DocumentColorAdapter(worker)));\n        }\n        if (modeConfiguration.foldingRanges) {\n            providers.push(languages.registerFoldingRangeProvider(languageId, new languageFeatures.FoldingRangeAdapter(worker)));\n        }\n        if (modeConfiguration.diagnostics) {\n            providers.push(new languageFeatures.DiagnosticsAdapter(languageId, worker, defaults));\n        }\n        if (modeConfiguration.selectionRanges) {\n            providers.push(languages.registerSelectionRangeProvider(languageId, new languageFeatures.SelectionRangeAdapter(worker)));\n        }\n    }\n    registerProviders();\n    disposables.push(asDisposable(providers));\n    return asDisposable(disposables);\n}\nfunction asDisposable(disposables) {\n    return { dispose: function () { return disposeAll(disposables); } };\n}\nfunction disposeAll(disposables) {\n    while (disposables.length) {\n        disposables.pop().dispose();\n    }\n}\n"],"names":["TokenType","WorkerManager","defaults","_this","this","_defaults","_worker","_idleCheckInterval","window","setInterval","_checkIfIdle","_lastUsedTime","_configChangeListener","onDidChange","_stopWorker","prototype","dispose","_client","clearInterval","Date","now","_getClient","editor","createWebWorker","moduleId","label","languageId","createData","languageSettings","diagnosticsOptions","getProxy","getLanguageServiceWorker","resources","_i","arguments","length","then","client","_","withSyncedResources","MultiLineStream","source","len","position","substring","from","to","eos","pos","goBackTo","goBack","n","advance","nextChar","charCodeAt","peekChar","lookbackChar","advanceIfChar","ch","advanceIfChars","i","advanceWhileChar","condition","posNow","_a","_f","_z","_A","_F","_Z","_0","_9","_TLD","_HAT","_EQS","_PIP","_MIN","_USC","_PRC","_MUL","_LPA","_RPA","_LAN","_RAN","_ATS","_HSH","_DLR","_BSL","_FSL","_NWL","_CAR","_LFD","_DQO","_SQO","_WSP","_TAB","_SEM","_COL","_CUL","_CUR","_BRL","_BRR","_CMA","_DOT","_BNG","staticTokenTable","SemiColon","Colon","CurlyL","CurlyR","BracketR","BracketL","ParenthesisL","ParenthesisR","Comma","staticUnitTable","EMS","EXS","Length","Angle","Time","Freq","Percentage","Resolution","Scanner","stream","ignoreComment","ignoreWhitespace","inURL","setSource","input","finishToken","offset","type","text","scanUnquotedString","content","_unquotedString","UnquotedString","join","scan","triviaToken","trivia","EOF","scanNext","CDO","CDC","ident","Ident","_name","keywordText","Charset","AtKeyword","Delim","Hash","Exclamation","_number","dim","toLowerCase","tokenType_1","Dimension","Num","tokenType","_string","Includes","Dashmatch","SubstringOperator","PrefixOperator","SuffixOperator","_whitespace","Whitespace","comment","Comment","success_1","hot_1","npeek","_newline","result","push","String","fromCharCode","_escape","includeNewLines","hexNumCount","hexVal","parseInt","e","_stringChar","closeQuote","BadString","_unquotedChar","hasContent","matched","_identChar","_minus","_identFirstChar","startsWith","haystack","needle","endsWith","diff","lastIndexOf","getLimitedString","str","ellipsis","slice","extendStatics","NodeType","ReferenceType","__extends","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","create","getNodeAtOffset","node","candidate","end","accept","Level","Node","nodeType","parent","defineProperty","get","enumerable","configurable","Undefined","set","getTextProvider","textProvider","getText","matches","visitor","children","acceptVisitor","visitNode","bind","adoptChild","index","idx","indexOf","splice","attachTo","collectIssues","results","issues","apply","addIssue","issue","hasIssue","rule","isArray","some","getRule","isErroneous","recursive","c","setNode","field","addChild","updateOffsetAndLength","nodeEnd","hasChildren","getChildren","getChild","addChildren","nodes","nodes_1","findFirstChildBeforeOffset","current","findChildAtOffset","goDeep","encloses","getParent","Nodelist","findParent","findAParent","types","t","setData","key","value","options","getData","_super","call","Identifier","isCustomProperty","containsInterpolation","Stylesheet","Declarations","BodyDeclaration","getDeclarations","declarations","setDeclarations","decls","RuleSet","Ruleset","getSelectors","selectors","isNested","Selector","SimpleSelector","AtApplyRule","setIdentifier","getIdentifier","identifier","getName","AbstractDeclaration","CustomPropertyDeclaration","setProperty","getProperty","property","setValue","getValue","setPropertySet","getPropertySet","propertySet","CustomPropertySet","Declaration","getFullPropertyName","propertyName","NestedProperties","parentDecl","getNonPrefixedPropertyName","charAt","vendorPrefixEnd","setNestedProperties","getNestedProperties","nestedProperties","Property","m","exec","substr","Function","Invocation","getArguments","FunctionParameter","setDefaultValue","getDefaultValue","defaultValue","FunctionArgument","IfStatement","If","setExpression","setElseClause","elseClause","ForStatement","For","setVariable","EachStatement","Each","getVariables","variables","WhileStatement","While","ElseStatement","Else","FunctionDeclaration","getParameters","parameters","ViewPort","FontFace","Keyframe","setKeyword","keyword","getKeyword","KeyframeSelector","Import","setMedialist","Use","ModuleConfiguration","Forward","ForwardVisibility","Namespace","Media","Supports","Document","Medialist","getMediums","mediums","MediaQuery","SupportsCondition","Page","PageBoxMarginBox","Expression","BinaryExpression","setLeft","left","getLeft","setRight","right","getRight","setOperator","getOperator","operator","Term","getExpression","expression","AttributeSelector","setNamespacePrefix","getNamespacePrefix","namespacePrefix","HexColorValue","Operator","_dot","NumericValue","code","raw","unitIdx","unit","undefined","VariableDeclaration","variable","needsSemicolon","getVariable","Interpolation","Variable","VariableName","ExtendsReference","MixinContentReference","MixinContentDeclaration","MixinReference","getNamespaces","namespaces","setContent","getContent","MixinDeclaration","setGuard","guard","UnknownAtRule","setAtRuleName","atRuleName","getAtRuleName","ListEntry","setKey","LessGuard","getConditions","conditions","GuardCondition","Module","Marker","level","message","getLevel","getOffset","getLength","getNode","getMessage","ParseErrorCollector","entries","format","args","replace","match","rest","localize","loadMessageBundle","file","nls.loadMessageBundle","CSSIssueType","id","ParseError","NumberExpected","ConditionExpected","RuleOrSelectorExpected","DotExpected","ColonExpected","SemiColonExpected","TermExpected","ExpressionExpected","OperatorExpected","IdentifierExpected","PercentageExpected","URIOrStringExpected","URIExpected","VariableNameExpected","VariableValueExpected","PropertyValueExpected","LeftCurlyExpected","RightCurlyExpected","LeftSquareBracketExpected","RightSquareBracketExpected","LeftParenthesisExpected","RightParenthesisExpected","CommaExpected","PageDirectiveOrDeclarationExpected","UnknownKeyword","SelectorExpected","StringLiteralExpected","WhitespaceExpected","MediaQueryExpected","IdentifierOrWildcardExpected","WildcardExpected","IdentifierOrVariableExpected","browserNames","E","FF","S","C","IE","O","getEntryStatus","status","getEntryDescription","entry","doesSupportMarkdown","kind","getEntryMarkdownDescription","getEntryStringDescription","textToMarkedString","description","browserLabel","getBrowserLabel","browsers","syntax","references","map","r","name","url","version","colorFunctions","func","desc","colors","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgrey","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgrey","lightgreen","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","red","rebeccapurple","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","colorKeywords","currentColor","transparent","getNumericValue","factor","parseFloat","Error","hexDigit","charCode","colorFromHex","alpha","getColorValue","nodes.NodeType","functionNode","colorValues","hue","sat","light","hueToRgb","t1","t2","colorFromHSL","val","getAngle","term","candidateColor","colorHex","positionKeywords","bottom","center","top","repeatStyleKeywords","no-repeat","repeat","repeat-x","repeat-y","round","space","lineStyleKeywords","dashed","dotted","double","groove","hidden","inset","none","outset","ridge","solid","lineWidthKeywords","boxKeywords","border-box","content-box","padding-box","geometryBoxKeywords","margin-box","fill-box","stroke-box","view-box","cssWideKeywords","initial","inherit","unset","imageFunctions","url()","image()","-webkit-image-set()","image-set()","-moz-element()","element()","cross-fade()","-webkit-gradient()","-webkit-linear-gradient()","-moz-linear-gradient()","-o-linear-gradient()","linear-gradient()","-webkit-repeating-linear-gradient()","-moz-repeating-linear-gradient()","-o-repeating-linear-gradient()","repeating-linear-gradient()","-webkit-radial-gradient()","-moz-radial-gradient()","radial-gradient()","-webkit-repeating-radial-gradient()","-moz-repeating-radial-gradient()","repeating-radial-gradient()","transitionTimingFunctions","ease","ease-in","ease-in-out","ease-out","linear","step-end","step-start","steps()","cubic-bezier()","cubic-bezier(0.6, -0.28, 0.735, 0.045)","cubic-bezier(0.68, -0.55, 0.265, 1.55)","cubic-bezier(0.175, 0.885, 0.32, 1.275)","cubic-bezier(0.6, 0.04, 0.98, 0.335)","cubic-bezier(0.785, 0.135, 0.15, 0.86)","cubic-bezier(0.075, 0.82, 0.165, 1)","cubic-bezier(0.55, 0.055, 0.675, 0.19)","cubic-bezier(0.645, 0.045, 0.355, 1)","cubic-bezier(0.215, 0.610, 0.355, 1)","cubic-bezier(0.95, 0.05, 0.795, 0.035)","cubic-bezier(1, 0, 0, 1)","cubic-bezier(0.19, 1, 0.22, 1)","cubic-bezier(0.47, 0, 0.745, 0.715)","cubic-bezier(0.445, 0.05, 0.55, 0.95)","cubic-bezier(0.39, 0.575, 0.565, 1)","cubic-bezier(0.55, 0.085, 0.68, 0.53)","cubic-bezier(0.455, 0.03, 0.515, 0.955)","cubic-bezier(0.25, 0.46, 0.45, 0.94)","cubic-bezier(0.895, 0.03, 0.685, 0.22)","cubic-bezier(0.77, 0, 0.175, 1)","cubic-bezier(0.165, 0.84, 0.44, 1)","cubic-bezier(0.755, 0.05, 0.855, 0.06)","cubic-bezier(0.86, 0, 0.07, 1)","cubic-bezier(0.23, 1, 0.320, 1)","basicShapeFunctions","circle()","ellipse()","inset()","polygon()","units","angle","time","frequency","resolution","percentage","html5Tags","svgElements","pageBoxDirectives","isDefined","obj","__spreadArrays","s","il","k","a","j","jl","Parser","scnr","keyframeRegex","scanner","token","prevToken","peekIdent","peekKeyword","peekDelim","peek","peekRegExp","regEx","test","hasWhitespace","consumeToken","mark","prev","curr","restoreAtMark","try","acceptOneKeyword","keywords","keywords_1","acceptIdent","acceptKeyword","acceptDelim","acceptRegexp","_parseRegexp","createNode","finish","acceptUnquotedString","unquoted","resync","resyncTokens","resyncStopTokens","nodes.Node","ctor","error","nodes.Nodelist","markError","prevEnd","lastErrorToken","nodes.Marker","nodes.Level","parseStylesheet","textDocument","versionId","internalParse","_parseStylesheet","parseFunc","nodes.Stylesheet","_parseStylesheetStart","inRecovery","hasMatch","statement","_parseStylesheetStatement","_needsSemicolonAfter","_parseCharset","_parseStylesheetAtStatement","_parseRuleset","_parseImport","_parseMedia","_parsePage","_parseFontFace","_parseKeyframe","_parseSupports","_parseViewPort","_parseNamespace","_parseDocument","_parseUnknownAtRule","_tryParseRuleset","_parseSelector","nodes.RuleSet","_parseBody","_parseRuleSetDeclaration","_parseRuleSetDeclarationAtStatement","_parseAtApply","_tryParseCustomPropertyDeclaration","_parseDeclaration","nodes.AtApplyRule","_parseIdent","nodes.ReferenceType","ReturnStatement","Debug","_parseDeclarations","parseDeclaration","nodes.Declarations","decl","semicolonPosition","nodes.Selector","_parseCombinator","_parseSimpleSelector","nodes.Declaration","_parseProperty","stopTokens","colonPosition","_parseExpr","_parsePrio","nodes.CustomPropertyDeclaration","nodes.CustomPropertySet","_parseCustomPropertyValue","isTopLevel","curlyDepth","parensDepth","bracketsDepth","done","_tryToParseDeclaration","nodes.Property","_parsePropertyIdentifier","nodes.Import","_parseURILiteral","_parseStringLiteral","_parseMediaQueryList","nodes.Namespace","nodes.FontFace","nodes.ViewPort","nodes.Keyframe","atNode","_parseKeyframeIdent","_parseKeyframeSelector","nodes.KeyframeSelector","_tryParseKeyframeSelector","nodes.Supports","_parseSupportsCondition","_parseSupportsDeclaration","nodes.SupportsCondition","_parseSupportsConditionInParens","lParent","rParent","openParentCount","_parseMediaDeclaration","nodes.Media","nodes.Medialist","_parseMediaQuery","resyncStopToken","nodes.MediaQuery","parseExpression","_parseMediaContentStart","_parseMediaFeatureName","_parseMedium","_parsePageDeclaration","_parsePageMarginBox","nodes.Page","_parsePageSelector","nodes.PageBoxMarginBox","languageFacts.pageBoxDirectives","nodes.Document","nodes.UnknownAtRule","_parseUnknownAtRuleName","curlyLCount","_parseOperator","_parseUnaryOperator","SelectorCombinatorShadowPiercingDescendant","SelectorCombinatorParent","SelectorCombinatorSibling","SelectorCombinatorAllSiblings","nodes.SimpleSelector","_parseElementName","_parseSimpleSelectorBody","_parsePseudo","_parseHash","_parseClass","_parseAttrib","_parseSelectorIdent","IdentifierSelector","ClassSelector","ElementNameSelector","_parseNamespacePrefix","NamespacePrefix","nodes.AttributeSelector","_parseBinaryExpr","_tryParsePseudoIdentifier","PseudoSelector","_tryParsePrio","prio","Prio","stopOnComma","nodes.Expression","_parseNamedLine","GridLine","preparsedLeft","preparsedOper","nodes.BinaryExpression","_parseTerm","nodes.Term","_parseTermExpression","_parseFunction","_parseNumeric","_parseHexColor","_parseOperation","nodes.NumericValue","StringLiteral","URILiteral","_parseURLArgument","referenceTypes","nodes.Identifier","nodes.Function","_parseFunctionIdentifier","_parseFunctionArgument","nodes.FunctionArgument","nodes.HexColorValue","includes","array","item","union","arrays","arrays_1","_b","array_1","Position","Range","Location","LocationLink","Color","ColorInformation","ColorPresentation","FoldingRangeKind","FoldingRange","DiagnosticRelatedInformation","DiagnosticSeverity","DiagnosticTag","DiagnosticCode","Diagnostic","Command","TextEdit","TextDocumentEdit","CreateFile","RenameFile","DeleteFile","WorkspaceEdit","Scope","symbols","scope","setParent","findScope","findInScope","low","high","mid","Math","floor","findFirst","res","addSymbol","symbol","getSymbol","getSymbols","GlobalScope","Number","MAX_VALUE","Symbol","ScopeBuilder","addScope","newScope","addSymbolToChildScope","scopeNode","visitCustomPropertyDeclarationNode","visitVariableDeclarationNode","visitRuleSet","Mixin","visitFunctionParameterNode","forNode","eachNode","scopeNode_1","variables_1","child","Rule","valueNode","addCSSVariable","Symbols","global","findSymbolsAtOffset","referenceType","names","internalFindSymbol","nodes.FunctionParameter","nodes.BodyDeclaration","funcId","functionSymbol","evaluateReferenceTypes","nodes.getParentDeclaration","nodes.Variable","findSymbolFromNode","matchesSymbol","findSymbol","line","character","is","Is","objectLiteral","number","one","two","three","four","start","uri","range","defined","string","targetUri","targetRange","targetSelectionRange","originSelectionRange","color","textEdit","additionalTextEdits","typedArray","startLine","endLine","startCharacter","endCharacter","location","Warning","Information","Hint","Unnecessary","Deprecated","target","severity","relatedInformation","title","command","newText","insert","del","edits","VersionedTextDocumentIdentifier","overwrite","ignoreIfExists","boolean","oldUri","newUri","ignoreIfNotExists","changes","documentChanges","every","change","TextDocumentIdentifier","TextDocumentItem","MarkupKind","MarkupContent","CompletionItemKind","InsertTextFormat","CompletionItemTag","InsertReplaceEdit","CompletionItem","CompletionList","MarkedString","Hover","ParameterInformation","SignatureInformation","DocumentHighlightKind","DocumentHighlight","SymbolKind","SymbolTag","SymbolInformation","DocumentSymbol","CodeActionKind","CodeActionContext","CodeAction","CodeLens","FormattingOptions","DocumentLink","SelectionRange","TextDocument","TextEditChangeImpl","delete","add","edit","all","clear","WorkspaceChange","workspaceEdit","_textEditChanges","_workspaceEdit","forEach","textEditChange","keys","getTextEditChange","textDocumentEdit","createFile","checkDocumentChanges","renameFile","deleteFile","PlainText","Markdown","Text","Method","Constructor","Field","Class","Interface","Unit","Value","Enum","Keyword","Snippet","File","Reference","Folder","EnumMember","Constant","Struct","Event","TypeParameter","items","isIncomplete","fromPlainText","plainText","language","contents","documentation","Read","Write","Package","Boolean","Key","Null","containerName","detail","selectionRange","deprecated","tags","Empty","QuickFix","Refactor","RefactorExtract","RefactorInline","RefactorRewrite","Source","SourceOrganizeImports","SourceFixAll","diagnostics","only","commandOrEdit","isPreferred","data","tabSize","insertSpaces","mergeSort","compare","leftIdx","rightIdx","ret","FullTextDocument","lineCount","positionAt","offsetAt","applyEdits","document","sortedEdits","lastModifiedOffset","startOffset","endOffset","_uri","_languageId","_version","_content","_lineOffsets","update","event","getLineOffsets","lineOffsets","isLineStart","max","min","lineOffset","nextLineOffset","toString","check","ClientCapabilities","FileType","changes_1","isIncremental","getWellformedRange","addedLineOffsets","computeLineOffsets","concat","isFull","rangeLength","isAtLineStart","textOffset","getWellformedEdit","spans","sortedEdits_1","LATEST","completion","completionItem","documentationFormat","hover","contentFormat","isWindows","process","platform","navigator","userAgent","_schemePattern","_singleSlashStart","_doubleSlashStart","_slash","_regexp","URI","schemeOrData","authority","path","query","fragment","_strict","scheme","_schemeFix","_referenceResolution","_validateUri","isUri","thing","fsPath","with","uriToFsPath","_URI","parse","percentDecode","components","skipEncoding","_asFormatted","toJSON","revive","_formatted","external","_fsPath","_sep","_pathSepMarker","$mid","encodeTable","encodeURIComponentFast","uriComponent","allowSlash","nativeEncodePos","encodeURIComponent","escaped","encodeURIComponentMinimal","keepDriveLetterCasing","encoder","userinfo","decodeURIComponentGraceful","decodeURIComponent","_rEncodedAsHex","Slash","Dot","dirname","lastIndexOfSlash","normalizePath","parts","newParts","parts_1","part","pop","joinPath","uriString","paths","split","paths_1","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","step","next","rejected","__generator","body","f","y","g","sent","trys","ops","verb","throw","return","iterator","v","op","TypeError","PathCompletionParticipant","readDirectory","literalCompletions","importCompletions","onCssURILiteralValue","context","onCssImportPath","computeCompletions","documentContext","literalCompletion","uriValue","items_1","_c","_d","importCompletion","pathValue","fullValue","suggestions","_e","suggestions_1","stripQuotes","providePathSuggestions","isValueQuoted","valueBeforeCursor","currentDocUri","fullValueRange","replaceRange","valueBeforeLastSlash","parentDir","infos","infos_1","shiftPosition","shiftRange","valueAfterLastSlash","startPos","whitespaceIndex","endPos","pathToReplaceRange","resolveReference","CharCode_dot","Directory","createCompletionItem","isDir","escapePath","SortTexts","SnippetFormat","CSSCompletion","variablePrefix","lsOptions","cssDataManager","completionParticipants","configure","settings","getSymbolContext","symbolContext","styleSheet","setCompletionParticipants","registeredCompletionParticipants","doComplete2","participant","contributedParticipants","pathCompletionResult","fileSystemProvider","doComplete","currentWord","getCurrentWord","defaultReplaceRange","nodePath","unshift","nodes.getNodePath","getCompletionsForDeclarationProperty","nodes.Interpolation","getVariableProposals","getCompletionsForExpression","parentRef","getCompletionsForExtendsReference","parentRuleSet","getCompletionsForSelector","getCompletionsForFunctionArgument","getCompletionsForDeclarations","nodes.VariableDeclaration","getCompletionsForVariableDeclaration","getCompletionsForRuleSet","getCompletionsForInterpolation","nodes.FunctionDeclaration","getCompletionsForFunctionDeclaration","nodes.MixinReference","getCompletionsForMixinReference","getCompletionsForSupports","getCompletionsForSupportsCondition","nodes.ExtendsReference","getCompletionForUriLiteralValue","getCompletionForTopLevel","isImportPathParent","getCompletionForImportPath","finalize","getCompletionsForStylesheet","findInNodePath","declaration","getPropertyProposals","triggerPropertyValueCompletion","isTriggerPropertyValueCompletionEnabled","completePropertyWithSemicolon","isCompletePropertyWithSemicolonEnabled","getProperties","insertText","retrigger","getCompletionRange","languageFacts.getEntryDescription","isDeprecated","insertTextFormat","restrictions","sortTextSuffix","relevance","sortTextPrefix","strings.startsWith","VendorPrefixed","Normal","sortText","onCssProperty","getCompletionsForDeclarationValue","existingNode","onCssPropertyValue","propertyValue","getColorProposals","getPositionProposals","getRepeatStyleProposals","getLineStyleProposals","getLineWidthProposals","getGeometryBoxProposals","getBoxProposals","getImageProposals","getTimingFunctionProposals","getBasicShapeProposals","getValueEnumProposals","getCSSWideKeywordProposals","getUnitProposals","fullPropertyName","Set","visitValue","matchesProperty","vistNode","collectValues","getEntries","existingValue","getTermProposals","values","insertString","strings.endsWith","Enums","languageFacts.cssWideKeywords","symbols_1","strings.getLimitedString","isColorString","mixinNode","getVariableProposalsForCSSVarFunction","symbols_2","filter","numMatch","restriction","languageFacts.units","units_1","languageFacts.colors","languageFacts.colorKeywords","ColorValueCollector","_loop_1","tabStop","_match","p1","this_1","languageFacts.colorFunctions","languageFacts.positionKeywords","languageFacts.repeatStyleKeywords","lineStyle","languageFacts.lineStyleKeywords","languageFacts.lineWidthKeywords","lineWidth","box","languageFacts.geometryBoxKeywords","languageFacts.boxKeywords","image","languageFacts.imageFunctions","moveCursorInsideParenthesis","timing","languageFacts.transitionTimingFunctions","shape","languageFacts.basicShapeFunctions","getAtDirectives","ruleSet","getPseudoClasses","getPseudoElements","languageFacts.html5Tags","languageFacts.svgElements","visited","docText","selector","nodes.AbstractDeclaration","arg","ref","allMixins_1","mixinSymbol","nodes.MixinDeclaration","makeTermProposal","identifierNode","onCssMixinReference","mixinName","allFunctions_1","params","supportsCondition","supports","extendsRef","uriLiteralNode","uriValueNode","emptyURIValuePosition","importPathNode","supportsMarkdown","clientCapabilities","currentOffset","languageFacts.isColorConstructor","quotes","Element","attributes","findAttribute","attribute","append","last","prepend","first","findRoot","RootElement","removeChild","addAttr","clone","cloneChildren","elem","cloneWithParent","LabelElement","remove","ensure","which","CSSNavigation","findDefinition","stylesheet","nodes.getNodeAtOffset","getRange","findReferences","findDocumentHighlights","h","getHighlightKind","isRawStringDocumentLinkNode","findDocumentLinks","links","findUnresolvedLinks","resolved","findDocumentLinks2","resolvedLinks","links_1","link","resolvedTarget","resolveRelativeReference","collect","uriStringNode","rawUri","rawText","findDocumentSymbols","locationNode","mediaList","findDocumentColors","colorInfo","getColorInformation","getColorPresentations","red256","green256","blue256","toTwoDigitHex","hsl","rgba","l","chroma","hslFromColor","doRename","newName","documentUri","moduleName","rootFolderUri","documentFolderUri","modulePath","pathWithinModule","getModuleNameFromPath","resolvePathToModule","_moduleName","packPath","fileExists","stat","Unknown","size","Ignore","Setting","Rules","AllVendorPrefixes","IncludeStandardPropertyWhenUsingVendorPrefix","DuplicateDeclarations","EmptyRuleSet","ImportStatemement","BewareOfBoxModelSize","UniversalSelector","ZeroWithUnit","RequiredPropertiesForFontFace","HexColorLength","ArgsInColorFunction","UnknownProperty","UnknownAtRules","IEStarHack","UnknownVendorSpecificProperty","PropertyIgnoredDueToDisplay","AvoidImportant","AvoidFloat","AvoidIdSelector","Settings","ValidProperties","setSide","model","side","state","properties","updateModelWithValue","setAllSides","updateModelWithList","candidates","candidates_1","checkLineWidth","allowsKeywords","checkLineWidthList","checkLineStyle","checkLineStyleList","checkBorderShorthand","children_1","NodesByRootMap","root","LintVisitor","warnings","documentText","keyframes","validProperties","getSetting","trim","entryFilter","completeValidations","isValidPropertyDeclaration","element","fetch","elements","input_1","fetchWithValue","input_2","inputElement","findValueInExpression","found","addEntry","details","getMissingNames","expected","actual","expectedClone","visitUnknownAtRule","visitKeyframe","visitFontFace","visitSimpleSelector","visitFunction","visitNumericValue","visitImport","visitHexColorValue","visitPrio","validateKeyframes","getAtDirective","needsStandard","missingVendorSpecific","firstChar","propertyTable","boxModel","propertyTable_1","width","height","segments","calculateBoxModel","properties_1","properties_2","displayElems","prop","node_1","node_2","elements_1","value_1","propertiesBySuffix","containsUnknowns","isCSSDeclaration","isKnownProperty","nonPrefixedName","fullName","suffix","isStandardProperty","prefixes","prefix","_g","_h","node_3","funcDecl","definesSrc","definesFontFamily","node_4","fnName","expectedAttrCount","actualAttrCount","customTokenValue","CustomToken","InterpolationFunction","EqualsOperator","NotEqualsOperator","GreaterEqualsOperator","SmallerEqualsOperator","Ellipsis","SCSSScanner","SCSSIssueType","SCSSParseError","FromExpected","ThroughOrToExpected","InExpected","SCSSParser","scssScanner.SCSSScanner","_parseWarnAndDebug","_parseControlStatement","_parseMixinDeclaration","_parseMixinContent","_parseMixinReference","_parseFunctionDeclaration","_parseForward","_parseUse","_parseVariableDeclaration","panic","scssScanner.VariableName","_parseVariable","_parseInterpolation","_parseModuleMember","nodes.Module","scssScanner.InterpolationFunction","_parseSelectorCombinator","scssScanner.EqualsOperator","scssScanner.NotEqualsOperator","scssScanner.GreaterEqualsOperator","scssScanner.SmallerEqualsOperator","_parseExtends","_parseNestedProperties","nodes.NestedProperties","_parseSelectorPlaceholder","SelectorCombinator","SelectorPlaceholder","parseStatement","_parseIfStatement","_parseForStatement","_parseEachStatement","_parseWhileStatement","_internalParseIfStatement","nodes.IfStatement","elseNode","nodes.ElseStatement","nodes.ForStatement","nodes.EachStatement","nodes.WhileStatement","_parseFunctionBodyDeclaration","_parseReturnStatement","_parseParameterDeclaration","scssScanner.Ellipsis","nodes.MixinContentReference","firstIdent","secondIdent","moduleToken","_parseMixinContentDeclaration","nodes.MixinContentDeclaration","_parseMixinReferenceBodyStatement","argument","_parseListElement","nodes.ListEntry","nodes.Use","_parseModuleConfigDeclaration","nodes.ModuleConfiguration","nodes.Forward","_parseForwardVisibility","nodes.ForwardVisibility","cssParser.Parser","SCSSCompletion","lsServiceOptions","addReferencesToDocumentation","scssModuleLoaders","scssModuleBuiltIns","parentType","createReplaceFunction","tabStopCounter","variableDefaults","createFunctionProposals","proposals","sortToEnd","proposals_1","selectorFuncs","functions","builtInFuncs","colorProposals","getCompletionForAtDirectives","_extendsRef","suggest","scssAtDirectives","getCompletionForModuleLoaders","$red","$green","$blue","$alpha","$color","$weight","$hue","$saturation","$lightness","$degrees","$amount","$string","$substring","$number","$limit","markdownDoc","_TIC","scanner.TokenType","LESSScanner","escapedJavaScript","EscapedJavaScript","BadEscapedJavaScript","scanner.Scanner","LESSParser","lessScanner.LESSScanner","_parsePlugin","_tryParseMixinDeclaration","_tryParseMixinReference","Plugin","_parseDetachedRuleSetMixin","_parseDetachedRuleSet","_parseMixinParameter","_parseDetachedRuleSetBody","_addLookupChildren","_parseLookupValue","expectsValue","insideLookup","isPropertyReference","_parseEscaped","EscapedValue","_parseGuardOperator","_parseExtend","_parseGuard","peekInterpolatedIdent","SelectorInterpolation","_acceptInterpolatedIdent","inLookup","propertyRegex","identRegex","indentInterpolation","_parseMixinDeclarationIdentifier","_parseMixInBodyDeclaration","_completeExtends","atRoot","nextId","hasArguments","_parseMixinArgument","restNode","lessScanner.Ellipsis","varargsNode","nodes.LessGuard","isNegated","_parseGuardCondition","nodes.GuardCondition","LESSCompletion","example","builtInProposals","DiagnosticsAdapter","SCSSNavigation","parsedUri","pathVariations","extname","pathFragments","basename","pathWithoutBasename","normalizedBasename","documentUriWithBasename","newBasename","toPathVariations","_disposables","_listener","onModelAdd","handle","modeId","getModeId","onDidChangeContent","clearTimeout","setTimeout","_doValidate","onModelRemoved","setModelMarkers","uriStr","listener","onDidCreateModel","onWillDisposeModel","onDidChangeModelLanguage","getModels","resource","worker","doValidation","markers","diag","toSeverity","startLineNumber","startColumn","endLineNumber","endColumn","getModel","err","console","lsSeverity","cssService.DiagnosticSeverity","MarkerSeverity","Info","fromPosition","column","lineNumber","toRange","toCompletionItemKind","mItemKind","languages","cssService.CompletionItemKind","toTextEdit","CompletionAdapter","provideCompletionItems","info","wordInfo","getWordUntilPosition","wordRange","filterText","cssService.InsertTextFormat","insertTextRules","CompletionItemInsertTextRule","InsertAsSnippet","toMarkdownString","toMarkedStringArray","HoverAdapter","provideHover","doHover","toDocumentHighlightKind","cssService.DocumentHighlightKind","DocumentHighlightAdapter","provideDocumentHighlights","toLocation","Uri","DefinitionAdapter","provideDefinition","definition","ReferenceAdapter","provideReferences","RenameAdapter","provideRenameEdits","resourceEdits","toWorkspaceEdit","toSymbolKind","mKind","cssService.SymbolKind","DocumentSymbolAdapter","provideDocumentSymbols","DocumentColorAdapter","provideDocumentColors","provideColorPresentations","fromRange","presentations","presentation","FoldingRangeAdapter","provideFoldingRanges","getFoldingRanges","ranges","cssService.FoldingRangeKind","Imports","Region","toFoldingRangeKind","SelectionRangeAdapter","provideSelectionRanges","positions","getSelectionRanges","selectionRanges","setupMode","disposables","providers","modeConfiguration","uris","disposeAll","completionItems","registerCompletionItemProvider","languageFeatures.CompletionAdapter","hovers","registerHoverProvider","languageFeatures.HoverAdapter","documentHighlights","registerDocumentHighlightProvider","languageFeatures.DocumentHighlightAdapter","definitions","registerDefinitionProvider","languageFeatures.DefinitionAdapter","registerReferenceProvider","languageFeatures.ReferenceAdapter","documentSymbols","registerDocumentSymbolProvider","languageFeatures.DocumentSymbolAdapter","rename","registerRenameProvider","languageFeatures.RenameAdapter","registerColorProvider","languageFeatures.DocumentColorAdapter","foldingRanges","registerFoldingRangeProvider","languageFeatures.FoldingRangeAdapter","languageFeatures.DiagnosticsAdapter","registerSelectionRangeProvider","languageFeatures.SelectionRangeAdapter","asDisposable"],"mappings":"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"}